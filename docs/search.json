[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "",
    "text": "You can download the .qmd file, NHISstudy2024-01-07GitHub.qmd, from my GitHub page here."
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html",
    "href": "NHISstudy2024-01-07GitHub.html",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "",
    "text": "I loaded the following packages to ensure I had the necessary data cleaning, analysis, and visualization tools needed for this project. Given the number of packages, I used conflict_prefer() to ensure functions would not interfere with each other. I also loaded uhred for use in plots.\n\n\nCode\nknitr::opts_chunk$set(comment = NA) # do not remove this\n\nlibrary(janitor)\nlibrary(gt)\nlibrary(naniar)\nlibrary(rms)\nlibrary(patchwork)\nlibrary(Epi)\nlibrary(car)\nlibrary(caret)\nlibrary(GGally)\nlibrary(pscl)\nlibrary(VGAM)\nlibrary(MASS)\nlibrary(flextable)\nlibrary(mosaic)\nlibrary(pROC)\nlibrary(ROCR)\nlibrary(gtsummary)\nlibrary(simputation)\nlibrary(ggrepel)\nlibrary(nnet)\nlibrary(kableExtra)\nlibrary(conflicted)\nlibrary(survey)\nlibrary(tidymodels)\nlibrary(tidyverse)\n\nconflict_prefer(\"select\", \"dplyr\")\nconflict_prefer(\"summarize\", \"dplyr\")\nconflict_prefer(\"filter\", \"dplyr\")\nconflict_prefer(\"mean\", \"base\")\nconflict_prefer(\"sum\", \"base\")\nconflict_prefer(\"vif\", \"car\")\nconflict_prefer(\"count\", \"dplyr\")\n\nuhred &lt;- \"#B70022\" \n\ntheme_set(theme_bw())"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#r-packages-and-setup",
    "href": "NHISstudy2024-01-07GitHub.html#r-packages-and-setup",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "",
    "text": "I loaded the following packages to ensure I had the necessary data cleaning, analysis, and visualization tools needed for this project. Given the number of packages, I used conflict_prefer() to ensure functions would not interfere with each other. I also loaded uhred for use in plots.\n\n\nCode\nknitr::opts_chunk$set(comment = NA) # do not remove this\n\nlibrary(janitor)\nlibrary(gt)\nlibrary(naniar)\nlibrary(rms)\nlibrary(patchwork)\nlibrary(Epi)\nlibrary(car)\nlibrary(caret)\nlibrary(GGally)\nlibrary(pscl)\nlibrary(VGAM)\nlibrary(MASS)\nlibrary(flextable)\nlibrary(mosaic)\nlibrary(pROC)\nlibrary(ROCR)\nlibrary(gtsummary)\nlibrary(simputation)\nlibrary(ggrepel)\nlibrary(nnet)\nlibrary(kableExtra)\nlibrary(conflicted)\nlibrary(survey)\nlibrary(tidymodels)\nlibrary(tidyverse)\n\nconflict_prefer(\"select\", \"dplyr\")\nconflict_prefer(\"summarize\", \"dplyr\")\nconflict_prefer(\"filter\", \"dplyr\")\nconflict_prefer(\"mean\", \"base\")\nconflict_prefer(\"sum\", \"base\")\nconflict_prefer(\"vif\", \"car\")\nconflict_prefer(\"count\", \"dplyr\")\n\nuhred &lt;- \"#B70022\" \n\ntheme_set(theme_bw())"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#national-health-interview-survey",
    "href": "NHISstudy2024-01-07GitHub.html#national-health-interview-survey",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "1.1 National Health Interview Survey",
    "text": "1.1 National Health Interview Survey\nThe data for this project comes from the 2019 National Health Interview Survey (NHIS) Website (National Center for Health Statistics, 2021). To obtain the data, I downloaded the CSV data file for the Sample Adult Interview to my local hard drive and unzipped the adult19.csv file.\nAccording to the National Health Interview Survey website:\nPurpose: “The main objective of the NHIS is to monitor the health of the United States population through the collection and analysis of data on a broad range of health topics. NHIS data are used widely throughout the Department of Health and Human Services (HHS) to monitor trends in illness and disability and to track progress toward achieving national health objectives. The data are also used by the public health research community for epidemiological and policy analysis of such timely issues as characterizing those with various health problems, determining barriers to accessing and using appropriate health care, and evaluating Federal health programs.”\nDesign: The NHIS is a cross-sectional household interview survey.\nTarget population: “The target population for the NHIS is the civilian non-institutionalized population residing within the 50 states and the District of Columbia at the time of the interview. Persons excluded from the universe are those with no fixed household address (e.g., homeless and/or transient persons not residing in shelters), active duty military personnel, and civilians living on military bases, persons in long-term care institutions (e.g., nursing homes for the elderly, hospitals for the chronically ill or physically or intellectually disabled, and wards for abused or neglected children), persons in correctional facilities (e.g., prisons or jails, juvenile detention centers, and halfway houses), and U.S. nationals living in foreign countries. While active-duty Armed Forces personnel cannot be sampled for inclusion in the survey, any civilians residing with Armed Forces personnel in non-military housing are eligible to be sampled.”\nSampling strategy: “To keep survey operations manageable, cost-effective, and timely, the NHIS uses geographically clustered sampling techniques to select the sample of dwelling units for the NHIS. The sample is designed in such a way that each month’s sample is nationally representative. Data collection on the NHIS is continuous, i.e., from January to December each year.”\n“One ‘sample adult’ aged 18 years or older and one ‘sample child’ aged 17 years or younger (if any children live in the household) are randomly selected from each household following a brief initial interview that identifies everyone who usually lives or stays in the household. Information about the sample adult is collected from the sample adult herself or himself unless she or he is physically or mentally unable to do so, in which case a knowledgeable proxy can answer for the sample adult. Information about the sample child is collected from a parent or adult who is knowledgeable about and responsible for the health care of the sample child. This respondent may or may not also be the sample adult.”\nData collection procedures: “The U.S. Census Bureau, under a contractual agreement, is the data collection agent for the NHIS. NHIS data are collected continuously throughout the year by Census interviewers. Nationally, about 750 interviewers (also called ‘Field Representatives’) are trained and directed by health survey supervisors in the U.S. Census Bureau Regional Offices to conduct interviews for NHIS.\nThe NHIS is conducted using computer-assisted personal interviewing. Face-to-face interviews are conducted in respondents’ homes, but follow-ups to complete interviews may be conducted over the telephone. A telephone interview may also be conducted when the respondent requests a telephone interview or when road conditions or travel distances would make it difficult to schedule a personal visit before the required completion date. In 2019, 34.3% of the Sample Adult interviews and 31.7% of the Sample Child interviews were conducted at least partially by telephone.”"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#the-subjects",
    "href": "NHISstudy2024-01-07GitHub.html#the-subjects",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "1.2 The Subjects",
    "text": "1.2 The Subjects\nSubjects included in this project are adults (18 years and older) with chronic pain as defined by responding “most days” or “every day” to the survey question, “In the past 3 months, how often did you have pain?” (Zelaya et al., 2020)."
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#loading-the-raw-data",
    "href": "NHISstudy2024-01-07GitHub.html#loading-the-raw-data",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "3.1 Loading the Raw Data",
    "text": "3.1 Loading the Raw Data\nI ingested the adult19.csv raw data that I downloaded and unzipped from the 2019 National Health Interview Survey (NHIS) Website as projectb_raw using the read_csv() function.\n\n\nCode\nprojectb_raw &lt;- read_csv(\"data/adult19.csv\", show_col_types = FALSE)"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#cleaning-the-data",
    "href": "NHISstudy2024-01-07GitHub.html#cleaning-the-data",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "3.2 Cleaning the Data",
    "text": "3.2 Cleaning the Data\nIn the following code, I created a new tibble, projectb_clean, limited to respondents who stated that they had pain on most days (PAIFRQ3M_A = 3) or everyday (PAIFRQ3M_A = 4) in response to the question PAIFRQ3M_A, “In the past three months, how often did you have pain?” as this matched the chronic pain definition reported by the National Center for Health Statistics (Zelaya et al., 2020). I also set the filter at PAIFRQ3M_A &lt; 7 to exclude responses that were missing, refused, non ascertained, or “don’t know” in response to the chronic pain question.\nAfter filtering to the chronic pain cohort, I selected the variables from the NHIS that I needed for this analysis.\n\n\nCode\nprojectb_clean &lt;- projectb_raw |&gt;\n  filter(PAIFRQ3M_A &gt;= 3 & PAIFRQ3M_A &lt; 7) |&gt; #Limited to pain on most days or everyday per Zelaya et al. (2020)\n  select(subject_id = HHX, age = AGEP_A, sex = SEX_A,\n         wt_final = WTFA_A,\n         education = EDUC_A, urban_rural = URBRRL,\n         painlimit_lifework = PAIWKLM3M_A,\n         anymeds12mo = RX12M_A, opioids12mo = OPD12M_A, opioids3mo = OPD3M_A, \n         opioids_chonpain3mo = OPDCHRONIC_A, opioid_freq3mo = OPDFREQ_A,\n         GAD71_A, GAD72_A, GAD73_A, GAD74_A, \n         GAD75_A, GAD76_A, GAD77_A, anx_severity = GADCAT_A,\n         back_pain = PAIBACK3M_A, upper_ext_pain = PAIULMB3M_A,\n         lower_ext_pain = PAILLMB3M_A, headache_migraine = PAIHDFC3M_A,\n         abd_pelvic_pain = PAIAPG3M_A, tooth_jaw_pain = PAITOOTH3M_A,\n         chiro = PAICHIRO_A, yoga_taichi = PAIYOGA_A, \n         massage = PAIMASSAGE_A, meditation = PAIMEDITAT_A,\n         race_ethnicity = HISPALLP_A, fam_income = FAMINCTC_A,\n         pt_rehab_ot = PAIPHYSTPY_A, talk_therapy = PAITALKTPY_A,\n         chron_pain_selfmgmt = PAIPROGRAM_A, peer_support_grp = PAIGROUP_A,\n         PHQ81_A, PHQ82_A, PHQ83_A, PHQ84_A, PHQ85_A, \n         PHQ86_A, PHQ87_A, PHQ88_A, dep_severity = PHQCAT_A)\n\n\n\n3.2.1 Recode Refused, Not Ascertained, and Don’t Know as Missing\nUsing the 2019 NHIS Codebook, I recoded all responses that were Refused, Not Ascertained, or Don’t Know as NA.\n\n\nCode\nprojectb_clean$age[projectb_clean$age &gt;= 97] &lt;- NA\nprojectb_clean$sex[projectb_clean$sex &gt;= 7] &lt;- NA\nprojectb_clean$education[projectb_clean$education &gt;= 97] &lt;- NA\nprojectb_clean$painlimit_lifework[projectb_clean$painlimit_lifework &gt;= 7] &lt;- NA\nprojectb_clean$anymeds12mo[projectb_clean$anymeds12mo &gt;= 7] &lt;- NA\nprojectb_clean$opioids12mo[projectb_clean$opioids12mo &gt;= 7] &lt;- NA\nprojectb_clean$opioids3mo[projectb_clean$opioids3mo &gt;= 7] &lt;- NA\nprojectb_clean$opioids_chonpain3mo[projectb_clean$opioids_chonpain3mo &gt;= 7] &lt;- NA\nprojectb_clean$opioid_freq3mo[projectb_clean$opioid_freq3mo &gt;= 7] &lt;- NA\nprojectb_clean$GAD71_A[projectb_clean$GAD71_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD72_A[projectb_clean$GAD72_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD73_A[projectb_clean$GAD73_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD74_A[projectb_clean$GAD74_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD75_A[projectb_clean$GAD75_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD76_A[projectb_clean$GAD76_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD77_A[projectb_clean$GAD77_A &gt;= 7] &lt;- NA\nprojectb_clean$anx_severity[projectb_clean$anx_severity &gt;= 8] &lt;- NA\n\n\nprojectb_clean$back_pain[projectb_clean$back_pain &gt;= 7] &lt;- NA\nprojectb_clean$upper_ext_pain[projectb_clean$upper_ext_pain &gt;= 7] &lt;- NA\nprojectb_clean$lower_ext_pain[projectb_clean$lower_ext_pain &gt;= 7] &lt;- NA\nprojectb_clean$headache_migraine[projectb_clean$headache_migraine &gt;= 7] &lt;- NA\nprojectb_clean$abd_pelvic_pain[projectb_clean$abd_pelvic_pain &gt;= 7] &lt;- NA\nprojectb_clean$tooth_jaw_pain[projectb_clean$tooth_jaw_pain &gt;= 7] &lt;- NA\n\nprojectb_clean$chiro[projectb_clean$chiro &gt;= 7] &lt;- NA\nprojectb_clean$yoga_taichi[projectb_clean$yoga_taichi &gt;= 7] &lt;- NA\nprojectb_clean$massage[projectb_clean$massage &gt;= 7] &lt;- NA\nprojectb_clean$meditation[projectb_clean$meditation &gt;= 7] &lt;- NA\n\nprojectb_clean$race_ethnicity[projectb_clean$race_ethnicity &gt;= 97] &lt;- NA\n\nprojectb_clean$pt_rehab_ot[projectb_clean$pt_rehab_ot &gt;= 7] &lt;- NA\nprojectb_clean$talk_therapy[projectb_clean$talk_therapy &gt;= 7] &lt;- NA\nprojectb_clean$chron_pain_selfmgmt[projectb_clean$chron_pain_selfmgmt &gt;= 7] &lt;- NA\nprojectb_clean$peer_support_grp[projectb_clean$peer_support_grp &gt;= 7] &lt;- NA\n\nprojectb_clean$PHQ81_A[projectb_clean$PHQ81_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ82_A[projectb_clean$PHQ82_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ83_A[projectb_clean$PHQ83_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ84_A[projectb_clean$PHQ84_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ85_A[projectb_clean$PHQ85_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ86_A[projectb_clean$PHQ86_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ87_A[projectb_clean$PHQ87_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ88_A[projectb_clean$PHQ88_A &gt;= 7] &lt;- NA\nprojectb_clean$dep_severity[projectb_clean$dep_severity &gt;= 8] &lt;- NA\n\n\n\n\n3.2.2 Recode Binary Variables From (1 = Yes, 2 = No) to (1 = Yes, 0 = No)\nIn the following code, I recoded binary variables with initial responses in the format, 1 = Yes, 2 = No, to binary variables coded as 1 = Yes, 0 = No using the mutate() function, subtracting 2 from the variables chiro, yoga_taichi, massage, meditation, anymeds12mo, opioids12mo, opioids3mo, opioids_chonpain3mo, pt_rehab_ot, talk_therapy, chron_pain_selfmgmt, and peer_support_grp.\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(chiro = as.numeric(2 - chiro),\n         yoga_taichi = as.numeric(2 - yoga_taichi),\n         massage = as.numeric(2 - massage),\n         meditation = as.numeric(2 - meditation),\n         anymeds12mo = as.numeric(2 - anymeds12mo),\n         opioids12mo = as.numeric(2 - opioids12mo),\n         opioids3mo = as.numeric(2 - opioids3mo),\n         opioids_chonpain3mo = as.numeric(2 - opioids_chonpain3mo),\n         pt_rehab_ot = as.numeric(2 - pt_rehab_ot),\n         talk_therapy = as.numeric(2 - talk_therapy),\n         chron_pain_selfmgmt = as.numeric(2 - chron_pain_selfmgmt),\n         peer_support_grp = as.numeric(2 - peer_support_grp))\n\n\n\n\n3.2.3 Recode Categorical Variables to Meaningful Factors\nUsing the 2019 NHIS Codebook, I recoded the following variables to meaningful, ascending, and ordered factors using the mutate() and factor() functions. To make race_ethnicity 6 categories, I combined “NH Amer Indian Alaska Natv only” and “NH Amer Indian Alaska Natv and any other group” into “NH Amer Indian Alaska Natv.”\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(sex = factor(case_when(\n    sex == 1 ~ \"Male\",\n    sex == 2 ~ \"Female\"))) |&gt;\n  mutate(race_ethnicity = case_when(\n    race_ethnicity == 1 ~ \"Hispanic\",\n    race_ethnicity == 2 ~ \"NH White only\",\n    race_ethnicity == 3 ~ \"NH Black/African American only\",\n    race_ethnicity == 4 ~ \"NH Asian only\",\n    race_ethnicity == 5 ~ \"NH Amer Indian Alaska Natv\",\n    race_ethnicity == 6 ~ \"NH Amer Indian Alaska Natv\",\n    race_ethnicity == 7 ~ \"Other single and multiple races\")) |&gt;\n  mutate(race_ethnicity = \n           factor(race_ethnicity, \n                  levels = c(\"NH White only\", \n                             \"Hispanic\", \n                             \"NH Black/African American only\", \n                             \"NH Asian only\", \n                             \"NH Amer Indian Alaska Natv\",\n                             \"Other single and multiple races\"))) |&gt;\n  mutate(painlimit_lifework = case_when(\n    painlimit_lifework == 1 ~ \"Never\",\n    painlimit_lifework == 2 ~ \"Some days\",\n    painlimit_lifework == 3 ~ \"Most days\",\n    painlimit_lifework == 4 ~ \"Every day\")) |&gt;\n  mutate(painlimit_lifework = factor(painlimit_lifework, \n                                     levels = c(\"Never\", \n                                                \"Some days\", \n                                                \"Most days\", \n                                                \"Every day\"))) |&gt;\n  mutate(anx_severity = case_when(\n    anx_severity == 1 ~ \"None/Minimal\",\n    anx_severity == 2 ~ \"Mild\",\n    anx_severity == 3 ~ \"Moderate\",\n    anx_severity == 4 ~ \"Severe\")) |&gt;\n  mutate(anx_severity = factor(anx_severity, \n                               levels = c(\"None/Minimal\", \n                                          \"Mild\", \n                                          \"Moderate\", \n                                          \"Severe\"))) |&gt;\n  mutate(dep_severity = case_when(\n    dep_severity == 1 ~ \"None/Minimal\",\n    dep_severity == 2 ~ \"Mild\",\n    dep_severity == 3 ~ \"Moderate\",\n    dep_severity == 4 ~ \"Severe\")) |&gt;\n  mutate(dep_severity = factor(dep_severity, \n                               levels = c(\"None/Minimal\", \n                                          \"Mild\", \n                                          \"Moderate\", \n                                          \"Severe\"))) |&gt;\n  mutate(opioid_freq3mo = case_when(\n    opioid_freq3mo == 1 ~ \"Some days\",\n    opioid_freq3mo == 2 ~ \"Most days\",\n    opioid_freq3mo == 3 ~ \"Every day\")) |&gt;\n  mutate(opioid_freq3mo = factor(opioid_freq3mo, levels = c(\"Some days\", \n                                                        \"Most days\", \n                                                        \"Every day\"))) |&gt;\n  mutate(education = case_when(\n    education == 0 ~ \"Less than high school\",\n    education == 1 ~ \"Less than high school\",\n    education == 2 ~ \"Less than high school\",\n    education == 3 ~ \"High school graduate/GED\",\n    education == 4 ~ \"High school graduate/GED\",\n    education == 5 ~ \"Some college, no degree\",\n    education == 6 ~ \"Associate's or bachelor's degree\",\n    education == 7 ~ \"Associate's or bachelor's degree\",\n    education == 8 ~ \"Associate's or bachelor's degree\",\n    education == 9 ~ \"Master's, doctoral, or professional degree\",\n    education == 10 ~ \"Master's, doctoral, or professional degree\",\n    education == 11 ~ \"Master's, doctoral, or professional degree\")) |&gt;\n  mutate(education = factor(education, levels = c(\"Less than high school\", \n                                                  \"High school graduate/GED\",\n                                                  \"Some college, no degree\",\n                                                  \"Associate's or bachelor's degree\",\n                                                  \"Master's, doctoral, or professional degree\"))) |&gt;\n  mutate(urban_rural = case_when(\n    urban_rural == 1 ~ \"Large central metro\",\n    urban_rural == 2 ~ \"Large fringe metro\",\n    urban_rural == 3 ~ \"Medium and small metro\",\n    urban_rural == 4 ~ \"Nonmetropolitan\")) |&gt;\n  mutate(urban_rural = factor(urban_rural, levels = c(\"Nonmetropolitan\", \n                                                      \"Medium and small metro\", \n                                                      \"Large fringe metro\",\n                                                      \"Large central metro\")))\n\n\n\n\n3.2.4 Calculate GAD-7 total\nIn the following code, I recoded the original NHIS responses to conform to the actual scoring method for the GAD-7 (Löwe et al., 2008). I then calculated gad7total by adding each of the individual GAD-7 responses. Finally, to verify that gad7total was scored correctly, I summarized gad7total by anx_severity using favstats() to ensure that the values were in range. Interestingly, in the 2019 NHIS, it appears that they scored subjects even if they had missing individual items on the GAD-7.\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(GAD71_A = case_when(\n    GAD71_A == 1 ~ 0,\n    GAD71_A == 2 ~ 1,\n    GAD71_A == 3 ~ 2,\n    GAD71_A == 4 ~ 3)) |&gt;\n  mutate(GAD72_A = case_when(\n    GAD72_A == 1 ~ 0,\n    GAD72_A == 2 ~ 1,\n    GAD72_A == 3 ~ 2,\n    GAD72_A == 4 ~ 3)) |&gt;\n  mutate(GAD73_A = case_when(\n    GAD73_A == 1 ~ 0,\n    GAD73_A == 2 ~ 1,\n    GAD73_A == 3 ~ 2,\n    GAD73_A == 4 ~ 3)) |&gt;\n  mutate(GAD74_A = case_when(\n    GAD74_A == 1 ~ 0,\n    GAD74_A == 2 ~ 1,\n    GAD74_A == 3 ~ 2,\n    GAD74_A == 4 ~ 3)) |&gt;\n  mutate(GAD75_A = case_when(\n    GAD75_A == 1 ~ 0,\n    GAD75_A == 2 ~ 1,\n    GAD75_A == 3 ~ 2,\n    GAD75_A == 4 ~ 3)) |&gt;\n  mutate(GAD76_A = case_when(\n    GAD76_A == 1 ~ 0,\n    GAD76_A == 2 ~ 1,\n    GAD76_A == 3 ~ 2,\n    GAD76_A == 4 ~ 3)) |&gt;\n  mutate(GAD77_A = case_when(\n    GAD77_A == 1 ~ 0,\n    GAD77_A == 2 ~ 1,\n    GAD77_A == 3 ~ 2,\n    GAD77_A == 4 ~ 3)) |&gt;\n  mutate(gad7total = GAD71_A + GAD72_A + GAD73_A + \n           GAD74_A + GAD75_A + GAD76_A + GAD77_A)\n\nfavstats(gad7total ~ anx_severity, data = projectb_clean) |&gt; \n  flextable() |&gt;\n  colformat_double(digits = 2) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nanx_severityminQ1medianQ3maxmeansdnmissingNone/Minimal0.000.000.002.004.001.001.314,87027Mild5.005.006.008.009.006.601.311,14112Moderate10.0011.0012.0013.0014.0011.831.425744Severe15.0016.0018.0019.0021.0017.822.135085\n\n\n\n\n3.2.5 Calculate PHQ-8 Total\nIn the following code, I recoded the original NHIS responses to conform to the actual scoring method for the PHQ-8 (Kroenke et al., 2001). I then calculated phq8total by adding each of the individual PHQ-8 responses.\nFinally, to verify that phq8total was scored correctly, I summarized phq8total by dep_severity using favstats() to ensure that the values were in range. Interestingly, in the 2019 NHIS, it appears that they dropped “moderate-to-severe depression” as a value given that they did not use the full PHQ-9, and they scored subjects even if they had missing individual items on the PHQ-8.\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(PHQ81_A = case_when(\n    PHQ81_A == 1 ~ 0,\n    PHQ81_A == 2 ~ 1,\n    PHQ81_A == 3 ~ 2,\n    PHQ81_A == 4 ~ 3)) |&gt;\n  mutate(PHQ82_A = case_when(\n    PHQ82_A == 1 ~ 0,\n    PHQ82_A == 2 ~ 1,\n    PHQ82_A == 3 ~ 2,\n    PHQ82_A == 4 ~ 3)) |&gt;\n  mutate(PHQ83_A = case_when(\n    PHQ83_A == 1 ~ 0,\n    PHQ83_A == 2 ~ 1,\n    PHQ83_A == 3 ~ 2,\n    PHQ83_A == 4 ~ 3)) |&gt;\n  mutate(PHQ84_A = case_when(\n    PHQ84_A == 1 ~ 0,\n    PHQ84_A == 2 ~ 1,\n    PHQ84_A == 3 ~ 2,\n    PHQ84_A == 4 ~ 3)) |&gt;\n  mutate(PHQ85_A = case_when(\n    PHQ85_A == 1 ~ 0,\n    PHQ85_A == 2 ~ 1,\n    PHQ85_A == 3 ~ 2,\n    PHQ85_A == 4 ~ 3)) |&gt;\n  mutate(PHQ86_A = case_when(\n    PHQ86_A == 1 ~ 0,\n    PHQ86_A == 2 ~ 1,\n    PHQ86_A == 3 ~ 2,\n    PHQ86_A == 4 ~ 3)) |&gt;\n  mutate(PHQ87_A = case_when(\n    PHQ87_A == 1 ~ 0,\n    PHQ87_A == 2 ~ 1,\n    PHQ87_A == 3 ~ 2,\n    PHQ87_A == 4 ~ 3)) |&gt;\n  mutate(PHQ88_A = case_when(\n    PHQ88_A == 1 ~ 0,\n    PHQ88_A == 2 ~ 1,\n    PHQ88_A == 3 ~ 2,\n    PHQ88_A == 4 ~ 3)) |&gt;\n  mutate(phq8total = PHQ81_A + PHQ82_A + PHQ83_A + PHQ84_A + \n           PHQ85_A + PHQ86_A + PHQ87_A + PHQ88_A)\n\nfavstats(phq8total ~ dep_severity, data = projectb_clean) |&gt; \n  flextable() |&gt;\n  colformat_double(digits = 2) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\ndep_severityminQ1medianQ3maxmeansdnmissingNone/Minimal0.000.001.003.004.001.461.424,16334Mild5.005.006.008.009.006.661.401,58517Moderate10.0010.0011.0013.0014.0011.681.3974913Severe15.0016.0018.0020.0024.0018.322.805669\n\n\n\n\n3.2.6 Integrative Health and Medicine (IHM) Variables\nIn the following code, I performed the following steps to create the 5-level count outcome, ihm4pain_num, and the binary variable, ihm4pain_bin.\n\nFirst, I used the mutate() function to create ihm4pain_num as the sum of engaging in chiro, yoga_taichi, massage, or meditation to manage pain in the past 3 months.\nThen, I created the binary outcome, ihm4pain_bin, which was equal to 1 if ihm4pain_num &gt;= 1 and equal to 0 if ihm4pain_num == 0.\n\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(ihm4pain_num = chiro + yoga_taichi + massage + meditation,\n         ihm4pain_bin = case_when(ihm4pain_num &gt;= 1 ~ 1,\n                                  ihm4pain_num == 0 ~ 0))\n\n\n\n\n3.2.7 Opioid frequency\nTo create a single variable describing frequency of opioid use in the past 3 months to manage chronic pain, I performed the following steps:\n\nFirst, since 1) the opioid frequency question was only asked to subjects who were taking prescription medications and opioid medications and 2) subjects responding “No” to the prescription medication and opioid use questions would be assumed to have never taken opioids in the past 3 months, I coded opioid_freq3mo_final as equal to “Never” if the subject answered “No” to anymeds12mo, opioids12mo, opioids3mo, or opioids_chonpain3mo.\nNext, if subjects responded “Some days”, “Most days”, “Every day” to the opioid_freq3mo question, I coded the opioid_freq3mo_final variable as equal to that response.\nFinally, I coded opioid_freq3mo_final as a meaningfully ordered factor.\n\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(opioid_freq3mo_final = case_when(\n    anymeds12mo == 0|\n      opioids12mo == 0|\n      opioids3mo == 0|\n      opioids_chonpain3mo == 0 ~ \"Never\",\n    opioid_freq3mo %in% c(\"Some days\", \"Most days\", \"Every day\") ~ \n      opioid_freq3mo),\n  opioid_freq3mo_final = factor(opioid_freq3mo_final, \n                                levels = c(\"Never\",\n                                           \"Some days\",\n                                           \"Most days\",\n                                           \"Every day\")))\n\n\n\n\n3.2.8 Number of Pain Locations\nTo create a single variable quantifying the total number of locations in which subjects reported being bothered at least “a little” by pain in the past three months, I performed the following steps:\n\nI converted the 6 individual pain variables to binary variables such that 1 indicated being bothered at least “a little” (&gt;= 2), and 0 meant “Not at all.”\nI then calculated num_pain_locations as the sum of those binary variables, ignoring missingness using the rowSums() function.\nFinally, I used mutate() and if_else() to mark num_pain_locations as missing if all pain locations were missing.\n\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(back_pain = if_else(back_pain &gt;= 2, 1, 0),\n         upper_ext_pain = if_else(upper_ext_pain &gt;= 2, 1, 0),\n         lower_ext_pain = if_else(lower_ext_pain &gt;= 2, 1, 0),\n         headache_migraine = if_else(headache_migraine &gt;= 2, 1, 0),\n         abd_pelvic_pain = if_else(abd_pelvic_pain &gt;= 2, 1, 0),\n         tooth_jaw_pain = if_else(tooth_jaw_pain &gt;= 2, 1, 0))\n\nprojectb_clean$num_pain_locations &lt;- rowSums(projectb_clean[,c(\"back_pain\",\n                                             \"upper_ext_pain\",\n                                             \"lower_ext_pain\",\n                                             \"headache_migraine\",\n                                             \"abd_pelvic_pain\",\n                                             \"tooth_jaw_pain\")], na.rm=TRUE)\n\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(num_pain_locations = if_else(\n    is.na(back_pain) & is.na(upper_ext_pain) &\n      is.na(lower_ext_pain) & is.na(headache_migraine) &\n      is.na(abd_pelvic_pain) & is.na(tooth_jaw_pain), NA, num_pain_locations))\n\n\n\n\n3.2.9 Chronic Pain Treatment Category - SUPPORT\nIn the following code, I performed the following steps to create the 4-category outcome, pain_tx_type.\n\nFirst, I used the mutate() function to create support4pain_num as the sum of engaging in pt_rehab_ot, talk_therapy, chron_pain_selfmgmt, or peer_support_grp to manage pain in the past 3 months. In this case, SUPPORT stands for SUpportive, Physical, Psychological, Occupational, or Rehabilitative Therapies.\nNext, I created the binary outcome, support4pain_bin, which was equal to 1 if support4pain_num &gt;= 1 and equal to 0 if support4pain_num == 0.\nThen, I created the outcome variable pain_tx_type as equal to None, IHM only, SUPPORT only, or SUPPORT and IHM based on the the support4pain_num and ihm4pain_bin variables.\nFinally, I ensured pain_tx_type was coded as a factor using the factor function, with “None” as the reference category.\n\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(support4pain_num = pt_rehab_ot + talk_therapy + \n           chron_pain_selfmgmt + peer_support_grp,\n         support4pain_bin = case_when(support4pain_num &gt;= 1 ~ 1,\n                                  support4pain_num == 0 ~ 0),\n         pain_tx_type = case_when(\n           ihm4pain_bin == 0 & support4pain_bin == 0 ~ \"None\",\n           ihm4pain_bin == 1 & support4pain_bin == 0 ~ \"IHM only\",\n           ihm4pain_bin == 0 & support4pain_bin == 1 ~ \"SUPPORT only\",\n           ihm4pain_bin == 1 & support4pain_bin == 1 ~ \"SUPPORT and IHM\"),\n         pain_tx_type = factor(pain_tx_type, levels = c(\"None\", \n                                                        \"IHM only\", \n                                                        \"SUPPORT only\", \n                                                        \"SUPPORT and IHM\")))\n\n\n\n\n3.2.10 Chronic Pain Treatment Category - Opioids\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(nonpharm_opioid = case_when(\n    opioid_freq3mo_final == \"Never\" &\n      ihm4pain_bin == 0 & support4pain_bin == 0 ~ \"None\",\n    opioid_freq3mo_final %in% c(\"Some days\",\n                                \"Most days\",\n                                \"Every day\") &\n      ihm4pain_bin == 0 & support4pain_bin == 0 ~ \"Opioids only\",\n    opioid_freq3mo_final == \"Never\" &\n      (ihm4pain_bin == 1|support4pain_bin == 1) ~ \"Nonpharm only\",\n    opioid_freq3mo_final %in% c(\"Some days\",\n                                \"Most days\",\n                                \"Every day\") &\n      (ihm4pain_bin == 1|support4pain_bin == 1) ~ \"Opioids + Nonpharm\"),\n    nonpharm_opioid = factor(nonpharm_opioid, levels = c(\"None\", \n                                                     \"Opioids only\", \n                                                     \"Nonpharm only\", \n                                                     \"Opioids + Nonpharm\")))\n\n\nprojectb_clean |&gt; tabyl(nonpharm_opioid) |&gt;\n  adorn_pct_formatting() |&gt;\n  flextable() |&gt;\n  colformat_double(digits = 0) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nnonpharm_opioidnpercentvalid_percentNone3,20144.6%45.0%Opioids only5107.1%7.2%Nonpharm only2,79138.9%39.2%Opioids + Nonpharm6158.6%8.6%670.9%-\n\n\n\n\n3.2.11 IHM Category\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(manualtx4pain = case_when(\n    chiro + massage &gt;= 1 ~ 1,\n    chiro + massage == 0 ~ 0),\n    mindbodytx4pain = case_when(\n      yoga_taichi + meditation &gt;= 1 ~ 1,\n      yoga_taichi + meditation  == 0 ~ 0),\n    ihm4pain_cat = case_when(\n      manualtx4pain + mindbodytx4pain == 0 ~ \"None\",\n      manualtx4pain == 1 & mindbodytx4pain == 0 ~ \"Manual only\",\n      manualtx4pain == 0 & mindbodytx4pain == 1 ~ \"Mind-body only\",\n      manualtx4pain == 1 & mindbodytx4pain == 1 ~ \"Manual and mind-body\"),\n    ihm4pain_cat = factor(ihm4pain_cat, levels = c(\"None\", \n                                                   \"Manual only\", \n                                                   \"Mind-body only\", \n                                                   \"Manual and mind-body\")))\nprojectb_clean |&gt; tabyl(ihm4pain_cat) |&gt;\n  adorn_pct_formatting() |&gt;\n  flextable() |&gt;\n  colformat_double(digits = 0) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nihm4pain_catnpercentvalid_percentNone4,58763.9%64.0%Manual only1,12515.7%15.7%Mind-body only81811.4%11.4%Manual and mind-body6338.8%8.8%210.3%-\n\n\n\n\n3.2.12 Selecting Variables I Used and Arranging the Tibble\nWith all variables recoded, I created the projectb_data tibble as a subset of projectb_clean, limited to the variables needed for analysis and subjects with complete data on the outcomes, ihm4pain_num and nonpharm_opioid. I also renamed opioid_freq3mo_final as opioid_freq3mo.\n\n\nCode\nprojectb_data &lt;- projectb_clean |&gt;\n  select(subject_id, age, sex, education, urban_rural,\n         painlimit_lifework, opioid_freq3mo = opioid_freq3mo_final,\n         gad7total, phq8total, num_pain_locations,\n         ihm4pain_num, race_ethnicity, fam_income, \n         nonpharm_opioid, ihm4pain_bin, ihm4pain_cat, wt_final) |&gt;\n  filter(!is.na(ihm4pain_num), !is.na(nonpharm_opioid))\n\n\n\n\n3.2.13 Working with Categorical Predictors\nTo examine distribution of categorical predictors, I used the tbl_summary() function to summarize the factor variables in projectb_data.\n\n\nCode\nprojectb_data |&gt; select(where(~ is.factor(.x))) |&gt;\n  tbl_summary() |&gt;\n  modify_header(label ~ \"**Variable**\") |&gt;\n  bold_labels()\n\n\n\n\n\n\n  \n    \n    \n      Variable\n      N = 7,1141\n    \n  \n  \n    sex\n\n        Female\n4,050 (57%)\n        Male\n3,063 (43%)\n        Unknown\n1\n    education\n\n        Less than high school\n870 (12%)\n        High school graduate/GED\n2,057 (29%)\n        Some college, no degree\n1,325 (19%)\n        Associate's or bachelor's degree\n2,193 (31%)\n        Master's, doctoral, or professional degree\n628 (8.9%)\n        Unknown\n41\n    urban_rural\n\n        Nonmetropolitan\n1,491 (21%)\n        Medium and small metro\n2,500 (35%)\n        Large fringe metro\n1,456 (20%)\n        Large central metro\n1,667 (23%)\n    painlimit_lifework\n\n        Never\n1,999 (28%)\n        Some days\n2,480 (35%)\n        Most days\n1,088 (15%)\n        Every day\n1,543 (22%)\n        Unknown\n4\n    opioid_freq3mo\n\n        Never\n5,991 (84%)\n        Some days\n342 (4.8%)\n        Most days\n133 (1.9%)\n        Every day\n648 (9.1%)\n    race_ethnicity\n\n        NH White only\n5,421 (76%)\n        Hispanic\n605 (8.5%)\n        NH Black/African American only\n743 (10%)\n        NH Asian only\n113 (1.6%)\n        NH Amer Indian Alaska Natv\n168 (2.4%)\n        Other single and multiple races\n64 (0.9%)\n    nonpharm_opioid\n\n        None\n3,201 (45%)\n        Opioids only\n510 (7.2%)\n        Nonpharm only\n2,790 (39%)\n        Opioids + Nonpharm\n613 (8.6%)\n    ihm4pain_cat\n\n        None\n4,554 (64%)\n        Manual only\n1,114 (16%)\n        Mind-body only\n815 (11%)\n        Manual and mind-body\n631 (8.9%)\n  \n  \n  \n    \n      1 n (%)\n    \n  \n\n\n\n\nIn examining the table above, I decided that the variable race_ethnicity required some collapsing of categories to ensure all categories contained at least 25 subjects in the testing and training samples. Therefore, I combined the race_ethnicity categories “NH Asian only”, “NH Amer Indian Alaska Natv”, and “Other single and multiple races” into “Other single and multiple races.”\n\n\nCode\nprojectb_data &lt;- projectb_data |&gt;\n  mutate(race_ethnicity = case_when(\n    race_ethnicity == \"NH White only\" ~ \"NH White only\",\n    race_ethnicity == \"Hispanic\" ~ \"Hispanic\",\n    race_ethnicity == \"NH Black/African American only\" ~ \n      \"NH Black/African American only\",\n    race_ethnicity == \"NH Asian only\" ~ \"Other single and multiple races\",\n    race_ethnicity == \"NH Amer Indian Alaska Natv\" ~ \n      \"Other single and multiple races\",\n    race_ethnicity == \"Other single and multiple races\" ~ \n      \"Other single and multiple races\")) |&gt;\n  mutate(race_ethnicity = factor(race_ethnicity, \n                                 levels = c(\"NH White only\", \n                                            \"Hispanic\", \n                                            \"NH Black/African American only\", \n                                            \"Other single and multiple races\")))"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#print-and-save-the-final-tibble",
    "href": "NHISstudy2024-01-07GitHub.html#print-and-save-the-final-tibble",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "3.3 Print and Save The Final Tibble",
    "text": "3.3 Print and Save The Final Tibble\nNext, I verified that projectb_data was a tibble by printing it. In this tibble, I can confirm that:\n\nIt is a tibble and thus calling it prints only the first 10 rows.\nThe initial row tells me that this is a tibble and specifies its dimensions.\nI have a complete set of 7,114 NHIS subjects.\nI’ve included only 17 variables\n\n\n\nCode\nprojectb_data\n\n\n# A tibble: 7,114 × 17\n   subject_id   age sex    education              urban_rural painlimit_lifework\n   &lt;chr&gt;      &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt;                  &lt;fct&gt;       &lt;fct&gt;             \n 1 H007122       60 Male   Some college, no degr… Large cent… Some days         \n 2 H007736       78 Male   Some college, no degr… Large cent… Most days         \n 3 H022161       61 Male   High school graduate/… Large cent… Some days         \n 4 H045961       71 Female Associate's or bachel… Large cent… Never             \n 5 H025759       80 Female Some college, no degr… Large cent… Some days         \n 6 H003675       52 Female Master's, doctoral, o… Large cent… Most days         \n 7 H044229       25 Female Some college, no degr… Nonmetropo… Never             \n 8 H035660       37 Female Some college, no degr… Medium and… Some days         \n 9 H062584       65 Female Master's, doctoral, o… Medium and… Some days         \n10 H008849       26 Male   Less than high school  Nonmetropo… Some days         \n# ℹ 7,104 more rows\n# ℹ 11 more variables: opioid_freq3mo &lt;fct&gt;, gad7total &lt;dbl&gt;, phq8total &lt;dbl&gt;,\n#   num_pain_locations &lt;dbl&gt;, ihm4pain_num &lt;dbl&gt;, race_ethnicity &lt;fct&gt;,\n#   fam_income &lt;dbl&gt;, nonpharm_opioid &lt;fct&gt;, ihm4pain_bin &lt;dbl&gt;,\n#   ihm4pain_cat &lt;fct&gt;, wt_final &lt;dbl&gt;\n\n\n\n3.3.1 Save The Tibble\nFinally, I saved the final tibble, projectb_data, as an Rds file using the saveRDS() function.\n\n\nCode\nsaveRDS(projectb_data, file = \"data/projectb_data2024-01-07.Rds\")"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#defining-the-variables",
    "href": "NHISstudy2024-01-07GitHub.html#defining-the-variables",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "4.1 Defining the Variables",
    "text": "4.1 Defining the Variables\n7,114 adults ages 18-85 with pain on most days or every day in the past 3 months and participating in the 2019 NHIS with data on the variables listed in the table below.\nFor each of my 17 selected variables, I have included the original variable name from the raw NHIS file.\n\n\n\n\n\n\n\n\n\n\nVariable\nRole\nType\nDescription (units/levels)\nOriginal NHIS Variable Name\n\n\n\n\nsubject_id\nidentifier\n-\nRandomly assigned household number unique to a household (H000074-H064180)\nHHX\n\n\nage\ninput\nquant\nAge of subject\nAGEP_A\n\n\nsex\ninput\n2-cat\nSex (Male or Female)\nSEX_A\n\n\neducation\ninput\n5-cat\nEducation level (Less than high school; High school graduate/GED; Some college, no degree; Associate’s or bachelor’s degree; Master’s, doctoral, or professional degree)\nEDUC_A\n\n\nurban_rural\ninput\n4-cat\nUrban-rural classification scheme for counties (Large central metro, Large fringe metro, Medium and small metro, Non-metropolitan)\nURBRRL\n\n\npainlimit_lifework\ninput\n4-cat\nHow often pain limited the subject’s life or work activities in the past 3 months (Never, Some days, Most days, or Every day)\nPAIWKLM3M_A\n\n\nopioid_freq3mo\ninput\n4-cat\nHow often the subject took a prescription opioid for chronic pain in the past three months (Never, Some days, Most days, or Every day)\nRX12M_A, OPD12M_A, OPD3M_A, OPDCHRONIC_A, OPDFREQ_A\n\n\ngad7total\ninput\nquant\nSubject’s total score on the GAD-7 anxiety scale (scale units 0 - 21)\nSUM(GAD71_A, GAD72_A, GAD73_A, GAD74_A, GAD75_A, GAD76_A, GAD77_A)\n\n\nphq8total\ninput\nquant\nSubject’s total score on the PHQ-8 depression scale (scale units 0 - 24)\nSUM(PHQ81_A, PHQ82_A, PHQ83_A, PHQ84_A, PHQ85_A, PHQ86_A, PHQ87_A, PHQ88_A)\n\n\nnum_pain_locations\ninput\nquant\nTotal number of locations in which subject reported being bothered at least “a little” by pain in the past three months (0 - 6)\nPAIBACK3M_A, PAIULMB3M_A, PAILLMB3M_A, PAIHDFC3M_A, PAIAPG3M_A, PAITOOTH3M_A\n\n\nihm4pain_num\noutcome\nquant\nHow many integrative health and medicine (IHM) modalities (i.e., chiropractic care, yoga/Tai Chi, meditation/guided imagery, or massage) subject used to manage pain in the past three months (0, 1, 2, 3, or 4)\nPAICHIRO_A, PAIYOGA_A, PAIMASSAGE_A, PAIMEDITAT_A\n\n\nrace_ethnicity\ninput\n4-cat\nRace and Hispanic origin (NH White only, Hispanic, NH Black/African American only, or Other single and multiple races)\nHISPALLP_A\n\n\nfam_income\ninput\nquant\nAdult annual family income\nFAMINCTC_A\n\n\nnonpharm_opioid\noutcome\n4-cat\nEngagement in one of the following categories of care for pain in the past three months (None, Opioids only, Nonpharm only, Opioids + Nonpharm).\nPAICHIRO_A, PAIYOGA_A, PAIMASSAGE_A, PAIMEDITAT_A, PAIPHYSTPY_A, PAITALKTPY_A, PAIPROGRAM_A, PAIGROUP_A, RX12M_A, OPD12M_A, OPD3M_A, OPDCHRONIC_A, OPDFREQ_A\n\n\nihm4pain_bin\noutcome\nquant\nWhether or not subject engaged in integrative health and medicine (IHM) modalities (i.e., chiropractic care, yoga/Tai Chi, meditation/guided imagery, or massage) to manage pain in the past three months (0, 1, 2, 3, or 4)\nPAICHIRO_A, PAIYOGA_A, PAIMASSAGE_A, PAIMEDITAT_A\n\n\nihm4pain_cat\noutcome\nquant\nWhich type of (IHM) modalities (i.e., chiropractic care, yoga/Tai Chi, meditation/guided imagery, or massage) subject used to manage pain in the past three months (None, Manual only, Mind-body only, Manual and mind-body)\nPAICHIRO_A, PAIYOGA_A, PAIMASSAGE_A, PAIMEDITAT_A\n\n\nwt_final\nweight\nquant\nWeight - Final Annual\nWTFA_A"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#numerical-description",
    "href": "NHISstudy2024-01-07GitHub.html#numerical-description",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "4.2 Numerical Description",
    "text": "4.2 Numerical Description\nThe following code provides a numerical summary of all variables included in the projectb_data dataset using the describe() function from the Hmisc() library.\nIn examining the data, I confirm that:\n\nThere are no impossible values for age (i.e., &gt; 85 or &lt; 18), fam_income, or phq8total (i.e., &gt; 24 or &lt; 0).\nEach factor variable is in an appropriate ascending order.\nAll categorical and binary variables have at least 30 observations in each category.\n\n\n\nCode\ndescribe(projectb_data)\n\n\nprojectb_data \n\n 17  Variables      7114  Observations\n--------------------------------------------------------------------------------\nsubject_id \n       n  missing distinct \n    7114        0     7114 \n\nlowest : H000003 H000005 H000010 H000023 H000040\nhighest: H064153 H064154 H064160 H064165 H064180\n--------------------------------------------------------------------------------\nage \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7107        7       68        1    58.68    18.56       29       35 \n     .25      .50      .75      .90      .95 \n      48       60       71       80       85 \n\nlowest : 18 19 20 21 22, highest: 81 82 83 84 85\n--------------------------------------------------------------------------------\nsex \n       n  missing distinct \n    7113        1        2 \n                        \nValue      Female   Male\nFrequency    4050   3063\nProportion  0.569  0.431\n--------------------------------------------------------------------------------\neducation \n       n  missing distinct \n    7073       41        5 \n\nlowest : Less than high school                      High school graduate/GED                   Some college, no degree                    Associate's or bachelor's degree           Master's, doctoral, or professional degree\nhighest: Less than high school                      High school graduate/GED                   Some college, no degree                    Associate's or bachelor's degree           Master's, doctoral, or professional degree\n--------------------------------------------------------------------------------\nurban_rural \n       n  missing distinct \n    7114        0        4 \n                                                                               \nValue             Nonmetropolitan Medium and small metro     Large fringe metro\nFrequency                    1491                   2500                   1456\nProportion                  0.210                  0.351                  0.205\n                                 \nValue         Large central metro\nFrequency                    1667\nProportion                  0.234\n--------------------------------------------------------------------------------\npainlimit_lifework \n       n  missing distinct \n    7110        4        4 \n                                                  \nValue          Never Some days Most days Every day\nFrequency       1999      2480      1088      1543\nProportion     0.281     0.349     0.153     0.217\n--------------------------------------------------------------------------------\nopioid_freq3mo \n       n  missing distinct \n    7114        0        4 \n                                                  \nValue          Never Some days Most days Every day\nFrequency       5991       342       133       648\nProportion     0.842     0.048     0.019     0.091\n--------------------------------------------------------------------------------\ngad7total \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7033       81       22    0.946    3.977    5.245        0        0 \n     .25      .50      .75      .90      .95 \n       0        2        6       12       16 \n\nlowest :  0  1  2  3  4, highest: 17 18 19 20 21\n--------------------------------------------------------------------------------\nphq8total \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7007      107       25    0.985    5.058    5.674        0        0 \n     .25      .50      .75      .90      .95 \n       1        3        8       13       17 \n\nlowest :  0  1  2  3  4, highest: 20 21 22 23 24\n--------------------------------------------------------------------------------\nnum_pain_locations \n       n  missing distinct     Info     Mean      Gmd \n    7106        8        7    0.954    3.071    1.514 \n                                                    \nValue          0     1     2     3     4     5     6\nFrequency     82   850  1554  2034  1469   819   298\nProportion 0.012 0.120 0.219 0.286 0.207 0.115 0.042\n\nFor the frequency table, variable is rounded to the nearest 0\n--------------------------------------------------------------------------------\nihm4pain_num \n       n  missing distinct     Info     Mean      Gmd \n    7114        0        5    0.725    0.545   0.7913 \n                                        \nValue          0     1     2     3     4\nFrequency   4554  1602   667   223    68\nProportion 0.640 0.225 0.094 0.031 0.010\n\nFor the frequency table, variable is rounded to the nearest 0\n--------------------------------------------------------------------------------\nrace_ethnicity \n       n  missing distinct \n    7114        0        4 \n                                                                          \nValue                        NH White only                        Hispanic\nFrequency                             5421                             605\nProportion                           0.762                           0.085\n                                                                          \nValue       NH Black/African American only Other single and multiple races\nFrequency                              743                             345\nProportion                           0.104                           0.048\n--------------------------------------------------------------------------------\nfam_income \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7114        0     1225        1    57217    51257     8741    11000 \n     .25      .50      .75      .90      .95 \n   20110    40434    79000   125000   160000 \n\nlowest :      0      1      4      5     10, highest: 209500 210000 215341 218000 220000\n--------------------------------------------------------------------------------\nnonpharm_opioid \n       n  missing distinct \n    7114        0        4 \n                                                                   \nValue                    None       Opioids only      Nonpharm only\nFrequency                3201                510               2790\nProportion              0.450              0.072              0.392\n                             \nValue      Opioids + Nonpharm\nFrequency                 613\nProportion              0.086\n--------------------------------------------------------------------------------\nihm4pain_bin \n       n  missing distinct     Info      Sum     Mean      Gmd \n    7114        0        2    0.691     2560   0.3599   0.4608 \n\n--------------------------------------------------------------------------------\nihm4pain_cat \n       n  missing distinct \n    7114        0        4 \n                                                                         \nValue                      None          Manual only       Mind-body only\nFrequency                  4554                 1114                  815\nProportion                0.640                0.157                0.115\n                               \nValue      Manual and mind-body\nFrequency                   631\nProportion                0.089\n--------------------------------------------------------------------------------\nwt_final \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7114        0     7072        1     6986     4729     2341     2761 \n     .25      .50      .75      .90      .95 \n    3692     5837     8509    12623    16424 \n\nlowest : 733.485 738.112 762.185 763.376 822.349\nhighest: 45380.6 48013.1 49073.1 51662.9 78079.9\n--------------------------------------------------------------------------------"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#missingness",
    "href": "NHISstudy2024-01-07GitHub.html#missingness",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "5.1 Missingness",
    "text": "5.1 Missingness\nFor this analysis, I assumed that the data were Missing at Random (MAR). Specifically, I assumed that the probability of a predictor missing data depended upon available information from the other predictors. For example, missing phq8total data may be related to other variables such as how much pain limited the subject’s life or work activities (painlimit_lifework) or race_ethnicity rather than their level of depression. In this situation, certain subjects may have been less likely to rate their anxiety based on their other characteristics. Thus, single imputation was warranted and required as missingness could be accounted for by studying variables with complete information. Missing NOT at Random (MNAR) was not an appropriate assumption here as there was no indication in the data or the 2019 NHIS Codebook that data were missing due to the variables themselves.\n\n5.1.1 Missing Values\nTo explore missingness within the projectb_data, I first used the n_miss() to quantify total missing values.\n\n\nCode\nprojectb_data |&gt; n_miss()\n\n\n[1] 249\n\n\n\n\n5.1.2 Missing Values Within Variables\nI then used the miss_var_summary() to determine which variables contained those 249 missing values. These variables included phq8total, gad7total, education, num_pain_locations, age, painlimit_lifework, and sex. Given the relative infrequency of missing data (highest = 1.50%), I expected that performing imputation would not alter subsequent models in any meaningful way.\n\n\nCode\nmiss_var_summary(projectb_data) |&gt;   flextable() |&gt;\n  colformat_double(digits = 2) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nvariablen_misspct_missphq8total1071.50gad7total811.14education410.58num_pain_locations80.11age70.10painlimit_lifework40.06sex10.01subject_id00.00urban_rural00.00opioid_freq3mo00.00ihm4pain_num00.00race_ethnicity00.00fam_income00.00nonpharm_opioid00.00ihm4pain_bin00.00ihm4pain_cat00.00wt_final00.00\n\n\n\n\n5.1.3 Missing Values within Cases\nFinally, to understand missing values within cases, I used the miss_case_table() function, which revealed that 159 cases were missing 1 value, 42 cases were missing 2 values, and 2 cases were missing 3 values\n\n\nCode\nmiss_case_table(projectb_data) |&gt; flextable() |&gt;\n  colformat_double(digits = 0) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nn_miss_in_casen_casespct_cases06,91197115922421320"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#generating-the-single-imputation-dataset",
    "href": "NHISstudy2024-01-07GitHub.html#generating-the-single-imputation-dataset",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "5.2 Generating the Single Imputation Dataset",
    "text": "5.2 Generating the Single Imputation Dataset\nTo perform single imputation and generate the projectb_si dataset, I performed the following steps:\n\nSet a seed of 19900317 using the set.seed() function\nCreated projectb_si as a data.frame() derived from projectb_data\nUsed robust linear models to impute the quantitative variable gad7total based on the predictors with no missing values: urban_rural, race_ethnicity, fam_income and opioid_freq3mo,\nUsed robust linear models to impute the quantitative variable phq8total based on gad7total and the predictors with no missing values: urban_rural, race_ethnicity, fam_income, and opioid_freq3mo.\nUsed classification and regression trees (impute_cart()) to impute the categorical variable education based on the now complete variable, phq8total, and the other complete predictors.\nUsed predictive mean matching (impute_pmm()) to impute the quantitative integer variable num_pain_locations based on the now complete variable, education, and the other complete predictors as I wanted the imputation to be an integer.\nUsed robust linear models to impute the quantitative variable age based on the now complete variable, num_pain_locations, and the other complete predictors.\nUsed classification and regression trees to impute the categorical variable painlimit_lifework based on the now complete variable, age, and the other complete predictors.\nUsed classification and regression trees to impute the categorical variable sex based on the now complete variable, painlimit_lifework, and the other complete predictors.\nUsed the as_tibble() function to ensure projectb_si was stored as a tibble.\nI performed mutations to use the variable one in the survey design and transform covariates so that coefficients would represent meaningful increases in (1) age10 [10 unit increment increase in age]; (2) gad7total5unit [5-unit increases in GAD-7]; (3) phq8total5unit [5-unit increases in PHQ-8]; (4) fam_income10k [10,000 dollar increase in family income]; (5) fam_income10k [1,000 dollar increase in family income].\nI created a meaningful factor for the ihm4pain_bin_fact variable (i.e., IHM vs. No IHM)\nUsed the n_miss() function to verify that projectb_si contained no missing values.\n\n\n\nCode\nset.seed(19900317)\nprojectb_si &lt;- projectb_data |&gt; data.frame() |&gt;\n  impute_rlm(gad7total ~ urban_rural + race_ethnicity +\n               fam_income + opioid_freq3mo) |&gt;\n  impute_rlm(phq8total ~ gad7total + urban_rural + race_ethnicity +\n               fam_income + opioid_freq3mo) |&gt;\n  impute_cart(education ~ phq8total + gad7total + urban_rural + race_ethnicity +\n               fam_income + opioid_freq3mo) |&gt;\n  impute_pmm(num_pain_locations ~ phq8total + opioid_freq3mo + education + gad7total + \n               urban_rural + race_ethnicity + fam_income) |&gt;\n  impute_rlm(age ~ phq8total + num_pain_locations + opioid_freq3mo + education + \n               gad7total + urban_rural + race_ethnicity + \n               fam_income) |&gt;\n  impute_cart(painlimit_lifework ~ phq8total + age + num_pain_locations + \n                opioid_freq3mo + education + gad7total + \n                urban_rural + race_ethnicity + fam_income) |&gt;\n  impute_cart(sex ~ phq8total + painlimit_lifework + age + num_pain_locations + \n                opioid_freq3mo + education + gad7total + \n                urban_rural + race_ethnicity + fam_income) |&gt;\n  as_tibble() |&gt;\n  mutate(one = 1,\n         age10 = age/10,\n         gad7total5unit = gad7total/5,\n         phq8total5unit = phq8total/5,\n         fam_income10k = round(fam_income/10000, digits = 2),\n         fam_income1k = round(fam_income/1000, digits = 2),\n         ihm4pain_bin_fact = factor(case_when(ihm4pain_bin == 0 ~ \"No IHM\",\n                                              ihm4pain_bin == 1 ~ \"IHM\")))\nn_miss(projectb_si)\n\n\n[1] 0"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#table-1-bivariate-analysis",
    "href": "NHISstudy2024-01-07GitHub.html#table-1-bivariate-analysis",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.1 Table 1: Bivariate Analysis",
    "text": "6.1 Table 1: Bivariate Analysis\nThe following code details the steps taken to generate Table 1.\n\n6.1.1 Create Survey Design\n\n\nCode\nnhis_des &lt;- svydesign(data = projectb_si, id = ~ subject_id,\n                        weights = ~ wt_final, nest = TRUE)\n\n\n\n\n6.1.2 Total population represented\n\n\nCode\ntotal_n &lt;- svytotal(~ one, nhis_des, na.rm = FALSE) |&gt; as_tibble() |&gt;\n  mutate(Variable = \"Total, n\",\n         total = floor(total),\n         total = formatC(total, format = \"d\", big.mark = \",\"),\n         p.value = \"\") |&gt;\n  select(Variable, All = total, p.value)\n\n\n\n\nCode\nihm_n &lt;- svyby(~ one, ~ ihm4pain_bin, nhis_des, svytotal) |&gt; as_tibble() |&gt; filter(ihm4pain_bin == 1) |&gt; select(IHM = one) |&gt;\n  mutate(IHM = round(IHM),\n         IHM = formatC(IHM, format = \"d\", big.mark = \",\"))\nno_ihm_n &lt;- svyby(~ one, ~ ihm4pain_bin, nhis_des, svytotal) |&gt; as_tibble() |&gt; filter(ihm4pain_bin == 0) |&gt; select(NoIHM = one) |&gt;\n  mutate(NoIHM = round(NoIHM),\n         NoIHM = formatC(NoIHM, format = \"d\", big.mark = \",\"))\ntotal_n &lt;- bind_cols(total_n, ihm_n, no_ihm_n) |&gt;\n  mutate(All = as.character(All),\n         IHM = as.character(IHM),\n         NoIHM = as.character(NoIHM))\n\n\n\n\nCode\ntotal_n &lt;- total_n |&gt; select(Variable, All, IHM, NoIHM, p.value) \n\ntotal_n |&gt;\n  flextable() |&gt;\n  autofit() |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nVariableAllIHMNoIHMp.valueTotal, n49,695,21217,610,40032,084,812\n\n\n\n\n6.1.3 Crosstabulation\n\n\nCode\nstyle_percent_1digit &lt;- purrr::partial(gtsummary::style_percent, digits = 1)\nstyle_number_1digit &lt;- purrr::partial(gtsummary::style_number, digits = 1)\n\ntable1_cross &lt;- nhis_des |&gt;\n  tbl_svysummary(\n    include = c(age, sex, race_ethnicity, education, \n                fam_income1k, urban_rural, num_pain_locations,\n                painlimit_lifework, opioid_freq3mo, phq8total),\n    type = c(num_pain_locations = \"continuous\",\n             fam_income = \"continuous\"),\n    statistic = list(all_continuous()  ~ \"{mean}\",\n                     all_categorical() ~ \"{p}\"),\n    label = list(age ~ \"Age in years, mean (95% CI)\",\n                 sex ~ \"Sex, % (95% CI)\",\n                 race_ethnicity ~ \"Race/Ethnicity, % (95% CI)\",\n                 education ~ \"Education, % (95% CI)\",\n                 fam_income1k ~ \"Family income in $1000s, mean (95% CI)\",\n                 urban_rural ~ \"Proximity to metro area, % (95% CI)\",\n                 num_pain_locations ~ \"Number of pain locations, mean (95% CI)\",\n                 painlimit_lifework ~ \"Pain limiting life/work, % (95% CI)\",\n                 opioid_freq3mo ~ \"Opioid use in past 3 months, % (95% CI)\",\n                 phq8total ~ \"PHQ-8 total, mean (95% CI)\"),\n    digits = list(all_continuous() ~ 1,\n                  all_categorical() ~ 1),\n    by = ihm4pain_bin_fact) |&gt;\n  add_overall() |&gt;\n  add_ci(pattern = \"{stat} ({ci})\", \n         style_fun = list(all_categorical() ~ style_percent_1digit, \n                          all_continuous() ~ style_number_1digit),\n         statistic = list(all_categorical() ~ \"{conf.low}-{conf.high}\", \n                          all_continuous() ~ \"{conf.low}-{conf.high}\")) |&gt;\n  add_p(pvalue_fun = function(x) style_pvalue(x, digits = 3)) |&gt;\n  modify_header(label = \"Variable\",\n                stat_0 ~ \"All\",\n                stat_1 ~ \"IHM\",\n                stat_2 ~ \"NoIHM\",\n                p.value ~ \"p.value\")\n\ntable1_cross\n\n\n\n\n\n\n  \n    \n    \n      Variable\n      All1,2\n      IHM1,2\n      NoIHM1,2\n      p.value3\n    \n  \n  \n    Age in years, mean (95% CI)\n55.4 (54.9-55.9)\n51.8 (51.0-52.6)\n57.3 (56.7-57.9)\n&lt;0.001\n    Sex, % (95% CI)\n\n\n\n&lt;0.001\n        Female\n54.9 (53.5-56.3)\n60.3 (57.9-62.6)\n52.0 (50.2-53.7)\n\n        Male\n45.1 (43.7-46.5)\n39.7 (37.4-42.1)\n48.0 (46.3-49.8)\n\n    Race/Ethnicity, % (95% CI)\n\n\n\n0.005\n        NH White only\n73.2 (71.9-74.5)\n74.8 (72.7-76.8)\n72.3 (70.6-73.9)\n\n        Hispanic\n10.5 (9.59-11.5)\n10.1 (8.79-11.6)\n10.7 (9.52-12.0)\n\n        NH Black/African American only\n11.0 (10.1-11.9)\n9.0 (7.73-10.5)\n12.1 (11.0-13.3)\n\n        Other single and multiple races\n5.3 (4.66-6.03)\n6.1 (5.01-7.33)\n4.9 (4.11-5.81)\n\n    Education, % (95% CI)\n\n\n\n&lt;0.001\n        Less than high school\n15.5 (14.4-16.7)\n8.8 (7.45-10.4)\n19.2 (17.7-20.7)\n\n        High school graduate/GED\n30.4 (29.1-31.7)\n25.2 (23.1-27.5)\n33.2 (31.6-34.9)\n\n        Some college, no degree\n19.1 (18.0-20.2)\n21.3 (19.4-23.4)\n17.8 (16.5-19.2)\n\n        Associate's or bachelor's degree\n28.2 (27.0-29.4)\n34.3 (32.2-36.6)\n24.8 (23.4-26.3)\n\n        Master's, doctoral, or professional degree\n6.9 (6.31-7.53)\n10.3 (9.11-11.6)\n5.0 (4.42-5.71)\n\n    Family income in $1000s, mean (95% CI)\n63.1 (61.6-64.6)\n71.7 (69.0-74.3)\n58.4 (56.7-60.2)\n&lt;0.001\n    Proximity to metro area, % (95% CI)\n\n\n\n&lt;0.001\n        Nonmetropolitan\n19.9 (18.8-21.0)\n16.1 (14.5-17.9)\n22.0 (20.6-23.5)\n\n        Medium and small metro\n33.9 (32.6-35.3)\n33.1 (30.9-35.3)\n34.4 (32.8-36.1)\n\n        Large fringe metro\n21.7 (20.5-22.9)\n23.6 (21.6-25.8)\n20.6 (19.2-22.1)\n\n        Large central metro\n24.4 (23.2-25.7)\n27.2 (25.1-29.4)\n22.9 (21.4-24.5)\n\n    Number of pain locations, mean (95% CI)\n3.1 (3.1-3.1)\n3.4 (3.3-3.4)\n3.0 (2.9-3.0)\n&lt;0.001\n    Pain limiting life/work, % (95% CI)\n\n\n\n&lt;0.001\n        Never\n28.2 (27.0-29.5)\n22.9 (21.1-24.9)\n31.1 (29.5-32.8)\n\n        Some days\n35.6 (34.2-36.9)\n38.6 (36.2-40.9)\n33.9 (32.2-35.6)\n\n        Most days\n15.4 (14.4-16.5)\n17.1 (15.2-19.0)\n14.5 (13.3-15.8)\n\n        Every day\n20.8 (19.7-22.0)\n21.5 (19.6-23.5)\n20.5 (19.1-21.9)\n\n    Opioid use in past 3 months, % (95% CI)\n\n\n\n0.026\n        Never\n84.8 (83.7-85.8)\n85.5 (83.7-87.2)\n84.4 (83.1-85.7)\n\n        Some days\n4.7 (4.12-5.38)\n5.1 (3.97-6.45)\n4.5 (3.86-5.27)\n\n        Most days\n1.8 (1.47-2.19)\n2.2 (1.63-2.91)\n1.6 (1.20-2.09)\n\n        Every day\n8.7 (7.91-9.53)\n7.2 (6.12-8.49)\n9.5 (8.47-10.6)\n\n    PHQ-8 total, mean (95% CI)\n5.3 (5.1-5.4)\n5.7 (5.4-6.0)\n5.0 (4.8-5.2)\n&lt;0.001\n  \n  \n  \n    \n      1 Mean; %\n    \n    \n      2 CI = Confidence Interval\n    \n    \n      3 Wilcoxon rank-sum test for complex survey samples; chi-squared test with Rao & Scott’s second-order correction\n    \n  \n\n\n\n\n\n\n6.1.4 Assemble Table 1 Tibble\n\n\nCode\ntable1_cross &lt;- table1_cross |&gt; as.data.frame() |&gt; as_tibble()\n\ntable1_cross[is.na(table1_cross)] &lt;- \"\"\n\ntable1_cross$p.value &lt;- sub(\"0\\\\.\",\".\", table1_cross$p.value)\ntable1_cross$p.value &lt;- sub(\" \",\"\", table1_cross$p.value)\n\ntable1 &lt;- bind_rows(total_n, table1_cross) |&gt;\n  rename(\"No IHM\" = NoIHM,\n         \"All with chronic pain\" = All,\n         \"Weighted variable\" = Variable,\n         \"P value\" = p.value)\n\n\n\n\n6.1.5 Print Table 1\nI used flextable to format Table 1.\n\n\nCode\ntable1 |&gt; flextable() |&gt;\n  add_header_lines(values = \"Table 1: Socio-Demographic, Pain, and Mental Health Characteristics by IHM Engagement\") |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  bold(i = c(1, 2, 3, 6, 11, 17, 18, 23:24, 29, 34), j = 1,  bold = TRUE) |&gt;\n  padding(i = c(4:5, 7:10, 12:16, 19:22, 25:28, 30:33), j = 1, padding.left = 20) |&gt;\n  add_footer_lines(values = \"Abbreviations: CI, confidence interval; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; IHM, integrative health and medicine; metro, metropolitan; NH, Non-Hispanic\",\n                   top = FALSE) |&gt;\n  flextable::footnote(i = c(2, 17, 23, 34), j = 5, \n                      ref_symbols = \"a\",\n                      value = as_paragraph(\"Wilcoxon rank-sum test for complex survey samples\")) |&gt;\n  flextable::footnote(i = c(3, 6, 11, 18, 24, 29), \n                      j = 5, \n                      ref_symbols = \"b\",\n                      value = as_paragraph(\"Chi-squared test with Rao & Scott’s second-order correction\")) |&gt;\n  autofit(part = c(\"body\", \"header\"))\n\n\n\nTable 1: Socio-Demographic, Pain, and Mental Health Characteristics by IHM EngagementWeighted variableAll with chronic painIHMNo IHMP valueTotal, n49,695,21217,610,40032,084,812Age in years, mean (95% CI)55.4 (54.9-55.9)51.8 (51.0-52.6)57.3 (56.7-57.9)&lt;.001aSex, % (95% CI)&lt;.001bFemale54.9 (53.5-56.3)60.3 (57.9-62.6)52.0 (50.2-53.7)Male45.1 (43.7-46.5)39.7 (37.4-42.1)48.0 (46.3-49.8)Race/Ethnicity, % (95% CI).005bNH White only73.2 (71.9-74.5)74.8 (72.7-76.8)72.3 (70.6-73.9)Hispanic10.5 (9.59-11.5)10.1 (8.79-11.6)10.7 (9.52-12.0)NH Black/African American only11.0 (10.1-11.9)9.0 (7.73-10.5)12.1 (11.0-13.3)Other single and multiple races5.3 (4.66-6.03)6.1 (5.01-7.33)4.9 (4.11-5.81)Education, % (95% CI)&lt;.001bLess than high school15.5 (14.4-16.7)8.8 (7.45-10.4)19.2 (17.7-20.7)High school graduate/GED30.4 (29.1-31.7)25.2 (23.1-27.5)33.2 (31.6-34.9)Some college, no degree19.1 (18.0-20.2)21.3 (19.4-23.4)17.8 (16.5-19.2)Associate's or bachelor's degree28.2 (27.0-29.4)34.3 (32.2-36.6)24.8 (23.4-26.3)Master's, doctoral, or professional degree6.9 (6.31-7.53)10.3 (9.11-11.6)5.0 (4.42-5.71)Family income in $1000s, mean (95% CI)63.1 (61.6-64.6)71.7 (69.0-74.3)58.4 (56.7-60.2)&lt;.001aProximity to metro area, % (95% CI)&lt;.001bNonmetropolitan19.9 (18.8-21.0)16.1 (14.5-17.9)22.0 (20.6-23.5)Medium and small metro33.9 (32.6-35.3)33.1 (30.9-35.3)34.4 (32.8-36.1)Large fringe metro21.7 (20.5-22.9)23.6 (21.6-25.8)20.6 (19.2-22.1)Large central metro24.4 (23.2-25.7)27.2 (25.1-29.4)22.9 (21.4-24.5)Number of pain locations, mean (95% CI)3.1 (3.1-3.1)3.4 (3.3-3.4)3.0 (2.9-3.0)&lt;.001aPain limiting life/work, % (95% CI)&lt;.001bNever28.2 (27.0-29.5)22.9 (21.1-24.9)31.1 (29.5-32.8)Some days35.6 (34.2-36.9)38.6 (36.2-40.9)33.9 (32.2-35.6)Most days15.4 (14.4-16.5)17.1 (15.2-19.0)14.5 (13.3-15.8)Every day20.8 (19.7-22.0)21.5 (19.6-23.5)20.5 (19.1-21.9)Opioid use in past 3 months, % (95% CI).026bNever84.8 (83.7-85.8)85.5 (83.7-87.2)84.4 (83.1-85.7)Some days4.7 (4.12-5.38)5.1 (3.97-6.45)4.5 (3.86-5.27)Most days1.8 (1.47-2.19)2.2 (1.63-2.91)1.6 (1.20-2.09)Every day8.7 (7.91-9.53)7.2 (6.12-8.49)9.5 (8.47-10.6)PHQ-8 total, mean (95% CI)5.3 (5.1-5.4)5.7 (5.4-6.0)5.0 (4.8-5.2)&lt;.001aAbbreviations: CI, confidence interval; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; IHM, integrative health and medicine; metro, metropolitan; NH, Non-HispanicaWilcoxon rank-sum test for complex survey samplesbChi-squared test with Rao & Scott’s second-order correction"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#splitting-into-training-and-testing-samples",
    "href": "NHISstudy2024-01-07GitHub.html#splitting-into-training-and-testing-samples",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.2 Splitting into Training and Testing Samples",
    "text": "6.2 Splitting into Training and Testing Samples\nI then used the initial_split(), training(), and testing() functions to generate projectb_si_train (training data) and projectb_si_test (testing data), each with n = 3557 subjects.\n\n\nCode\nset.seed(19900317)\n\nprojectb_split &lt;- initial_split(projectb_si, prop = 0.5)\n\nprojectb_si_train &lt;- training(projectb_split)\nprojectb_si_test &lt;- testing(projectb_split)\n\nnrow(projectb_si_train)\n\n\n[1] 3557\n\n\nCode\nnrow(projectb_si_test)\n\n\n[1] 3557"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#scatterplot-matrix-and-collinearity",
    "href": "NHISstudy2024-01-07GitHub.html#scatterplot-matrix-and-collinearity",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.3 Scatterplot Matrix and Collinearity",
    "text": "6.3 Scatterplot Matrix and Collinearity\n\n6.3.1 Scatterplot Matrix of Quantitative Predictors with Outcome\nTo investigate issues of collinearity prior to fitting models, I generated a series of scatterplot matrices using ggpairs(). First I assessed the relationship between the quantitative outcomes and ihm4pain_num.\n\n\nCode\ntemp1quant &lt;- projectb_si_train |&gt; \n  select(age10, phq8total5unit, num_pain_locations, fam_income10k, ihm4pain_num)\n\nggpairs(temp1quant, \n        title = \"Scatterplot Matrix of Quantitative Variables with Outcome\",\n        lower = list(combo = wrap(\"facethist\", bins = 20)))\n\n\n\n\n\nCode\nrm(temp1quant)\n\n\nIn examining the plot above, there do not appear to be any strong (i.e., &gt; 0.6) correlations between quantitative predictors and the outcome.\n\n\n6.3.2 Scatterplot Matrix of Categorical Variables with Outcome\nThen, I looked at the relationships between three of the categorical predictors and ihm4pain_num using ggpairs().\n\n\nCode\ntemp2cat1 &lt;- projectb_si_train |&gt; \n  select(sex, education, urban_rural, ihm4pain_num)\n\nggpairs(temp2cat1, \n        title = \"Scatterplot Matrix of Categorical Variables with Outcome\",\n        lower = list(combo = wrap(\"facethist\", bins = 20)))\n\n\n\n\n\nCode\nrm(temp2cat1)\n\n\n\n\n6.3.3 Scatterplot Matrix of Remaining Categorical Variables with Outcome\nFinally, I looked at the relationships between the two remaining categorical predictors and ihm4pain_num using ggpairs().\n\n\nCode\ntemp2cat2 &lt;- projectb_si_train |&gt; \n  select(painlimit_lifework, opioid_freq3mo, race_ethnicity, ihm4pain_num)\n\nggpairs(temp2cat2, \n        title = \"Scatterplot Matrix of Categorical Variables with Outcome\",\n        lower = list(combo = wrap(\"facethist\", bins = 20)))\n\n\n\n\n\nCode\nrm(temp2cat2)\n\n\nTo investigate this further, I calculated variance inflation factors (VIF) for each variable using the vif() function. Given the recommendation to look closely at any VIF value that is greater than 5, there does not seem to be an issue with collinearity in this full model as all VIF values are less than 1.4.\n\n\nCode\nvif(lm(ihm4pain_num ~ age10 + sex + education +\n                     urban_rural + painlimit_lifework + opioid_freq3mo +\n                     phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n                   data = projectb_si_train))\n\n\n                       GVIF Df GVIF^(1/(2*Df))\nage10              1.141259  1        1.068297\nsex                1.044327  1        1.021923\neducation          1.282077  4        1.031548\nurban_rural        1.129965  3        1.020573\npainlimit_lifework 1.294856  3        1.044007\nopioid_freq3mo     1.093742  3        1.015046\nphq8total5unit     1.396814  1        1.181869\nnum_pain_locations 1.242368  1        1.114616\nfam_income10k      1.305455  1        1.142565\nrace_ethnicity     1.179024  3        1.027828"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#considering-non-linear-terms",
    "href": "NHISstudy2024-01-07GitHub.html#considering-non-linear-terms",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.4 Considering Non-Linear Terms",
    "text": "6.4 Considering Non-Linear Terms\nTo determine how best to potentially spend degrees of freedom on non-linear terms, I generated a Spearman \\(\\rho^2\\) plot using the plot() and spearman2()functions.\n\n\nCode\nplot(spearman2(ihm4pain_num ~ age10 + sex + education +\n                 urban_rural + painlimit_lifework + opioid_freq3mo +\n                 phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n               data = projectb_si_train))\n\n\n\n\n\nThe plot suggests that I consider, for example, an interaction between education and age10 as a non-linear term. However, given that 1) this model already contains 21 degrees of freedom, I opted not to include any non-linear terms."
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#fitting-models-for-comparison",
    "href": "NHISstudy2024-01-07GitHub.html#fitting-models-for-comparison",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.5 Fitting Models for Comparison",
    "text": "6.5 Fitting Models for Comparison\nI chose to compare the following 6 modeling approaches for m1 before choosing a final version.\n\nPoisson\nNegative binomial regression\nZero-inflated Poisson\nZero-inflated negative binomial\nHurdle with Poisson\nHurdle with negative binomial\n\nIn the following series of code chunks, I performed the following\n\nFit each model using the appropriate function\nGenerated a summary of fit statistics including \\(R^2\\), RMSE, MAE, AIC, and BIC using various functions including augment(), glance(), metric_set(), and predict().\nUsed functions including mutate(), group_by(), and summarize() to pivot the fit statistics from each model into a tidy tibble for combination later.\n\n\n6.5.1 Poisson (m1_pois)\n\n\nCode\nm1_pois &lt;- glm(ihm4pain_num ~ age10 + sex + education +\n                 urban_rural + painlimit_lifework + opioid_freq3mo +\n                 phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n                 data = projectb_si_train, family = \"poisson\")\n\nm1_pois_aug &lt;- augment(m1_pois, projectb_si_train, type.predict = \"response\")\nm1_pois_glance &lt;- glance(m1_pois)\n\nmets &lt;- metric_set(rsq, rmse, mae)\n\nm1_pois_summary &lt;-\n  mets(m1_pois_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_pois\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_pois_summary &lt;- m1_pois_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_pois_summary &lt;- bind_cols(m1_pois_summary, m1_pois_glance) |&gt;\n  select(-c(logLik))\nsummary(m1_pois)\n\n\n\nCall:\nglm(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, family = \"poisson\", data = projectb_si_train)\n\nCoefficients:\n                                                     Estimate Std. Error\n(Intercept)                                         -1.183452   0.162138\nage10                                               -0.131602   0.014550\nsexMale                                             -0.275074   0.047688\neducationHigh school graduate/GED                    0.273482   0.105837\neducationSome college, no degree                     0.656055   0.105739\neducationAssociate's or bachelor's degree            0.812995   0.101206\neducationMaster's, doctoral, or professional degree  0.960610   0.117198\nurban_ruralMedium and small metro                    0.023538   0.068379\nurban_ruralLarge fringe metro                        0.064347   0.075702\nurban_ruralLarge central metro                       0.251440   0.071819\npainlimit_lifeworkSome days                          0.205155   0.060383\npainlimit_lifeworkMost days                          0.256226   0.074951\npainlimit_lifeworkEvery day                          0.260852   0.075321\nopioid_freq3moSome days                              0.036669   0.099685\nopioid_freq3moMost days                              0.072801   0.166465\nopioid_freq3moEvery day                             -0.182815   0.091255\nphq8total5unit                                      -0.029353   0.024111\nnum_pain_locations                                   0.147973   0.018430\nfam_income10k                                        0.027594   0.004528\nrace_ethnicityHispanic                              -0.008236   0.082486\nrace_ethnicityNH Black/African American only        -0.203382   0.084115\nrace_ethnicityOther single and multiple races       -0.180839   0.107077\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -7.299 2.90e-13 ***\nage10                                                -9.045  &lt; 2e-16 ***\nsexMale                                              -5.768 8.01e-09 ***\neducationHigh school graduate/GED                     2.584 0.009766 ** \neducationSome college, no degree                      6.204 5.49e-10 ***\neducationAssociate's or bachelor's degree             8.033 9.51e-16 ***\neducationMaster's, doctoral, or professional degree   8.196 2.48e-16 ***\nurban_ruralMedium and small metro                     0.344 0.730672    \nurban_ruralLarge fringe metro                         0.850 0.395324    \nurban_ruralLarge central metro                        3.501 0.000464 ***\npainlimit_lifeworkSome days                           3.398 0.000680 ***\npainlimit_lifeworkMost days                           3.419 0.000629 ***\npainlimit_lifeworkEvery day                           3.463 0.000534 ***\nopioid_freq3moSome days                               0.368 0.712985    \nopioid_freq3moMost days                               0.437 0.661868    \nopioid_freq3moEvery day                              -2.003 0.045140 *  \nphq8total5unit                                       -1.217 0.223444    \nnum_pain_locations                                    8.029 9.82e-16 ***\nfam_income10k                                         6.094 1.10e-09 ***\nrace_ethnicityHispanic                               -0.100 0.920464    \nrace_ethnicityNH Black/African American only         -2.418 0.015610 *  \nrace_ethnicityOther single and multiple races        -1.689 0.091246 .  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 4380.5  on 3556  degrees of freedom\nResidual deviance: 3834.2  on 3535  degrees of freedom\nAIC: 6841.7\n\nNumber of Fisher Scoring iterations: 6\n\n\n\n\n6.5.2 Negative Binomial Regression (m1_nb)\n\n\nCode\nm1_nb &lt;- glm.nb(ihm4pain_num ~ age10 + sex + education +\n                 urban_rural + painlimit_lifework + opioid_freq3mo +\n                 phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n               data = projectb_si_train)\n\nm1_nb_aug &lt;- augment(m1_nb, projectb_si_train, type.predict = \"response\")\nm1_nb_glance &lt;- glance(m1_nb)\n\nm1_nb_summary &lt;-\n  mets(m1_nb_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_nb\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_nb_summary &lt;- m1_nb_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_nb_summary &lt;- bind_cols(m1_nb_summary, m1_nb_glance) |&gt;\n  select(-c(logLik))\nsummary(m1_nb)\n\n\n\nCall:\nglm.nb(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, data = projectb_si_train, \n    init.theta = 3.17461915, link = log)\n\nCoefficients:\n                                                      Estimate Std. Error\n(Intercept)                                         -1.1668329  0.1757511\nage10                                               -0.1340332  0.0160376\nsexMale                                             -0.2773424  0.0523129\neducationHigh school graduate/GED                    0.2712388  0.1116211\neducationSome college, no degree                     0.6551017  0.1123832\neducationAssociate's or bachelor's degree            0.8073798  0.1074271\neducationMaster's, doctoral, or professional degree  0.9724037  0.1264575\nurban_ruralMedium and small metro                    0.0128675  0.0743288\nurban_ruralLarge fringe metro                        0.0597904  0.0826633\nurban_ruralLarge central metro                       0.2508966  0.0786869\npainlimit_lifeworkSome days                          0.2030962  0.0661423\npainlimit_lifeworkMost days                          0.2544446  0.0825732\npainlimit_lifeworkEvery day                          0.2508763  0.0825099\nopioid_freq3moSome days                              0.0368888  0.1107997\nopioid_freq3moMost days                              0.0825150  0.1823585\nopioid_freq3moEvery day                             -0.1805531  0.0989803\nphq8total5unit                                      -0.0297361  0.0266371\nnum_pain_locations                                   0.1490524  0.0203585\nfam_income10k                                        0.0280486  0.0050948\nrace_ethnicityHispanic                               0.0009119  0.0910714\nrace_ethnicityNH Black/African American only        -0.2054487  0.0914048\nrace_ethnicityOther single and multiple races       -0.1778063  0.1179438\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -6.639 3.16e-11 ***\nage10                                                -8.357  &lt; 2e-16 ***\nsexMale                                              -5.302 1.15e-07 ***\neducationHigh school graduate/GED                     2.430  0.01510 *  \neducationSome college, no degree                      5.829 5.57e-09 ***\neducationAssociate's or bachelor's degree             7.516 5.66e-14 ***\neducationMaster's, doctoral, or professional degree   7.690 1.48e-14 ***\nurban_ruralMedium and small metro                     0.173  0.86256    \nurban_ruralLarge fringe metro                         0.723  0.46950    \nurban_ruralLarge central metro                        3.189  0.00143 ** \npainlimit_lifeworkSome days                           3.071  0.00214 ** \npainlimit_lifeworkMost days                           3.081  0.00206 ** \npainlimit_lifeworkEvery day                           3.041  0.00236 ** \nopioid_freq3moSome days                               0.333  0.73919    \nopioid_freq3moMost days                               0.452  0.65092    \nopioid_freq3moEvery day                              -1.824  0.06813 .  \nphq8total5unit                                       -1.116  0.26428    \nnum_pain_locations                                    7.321 2.45e-13 ***\nfam_income10k                                         5.505 3.68e-08 ***\nrace_ethnicityHispanic                                0.010  0.99201    \nrace_ethnicityNH Black/African American only         -2.248  0.02460 *  \nrace_ethnicityOther single and multiple races        -1.508  0.13167    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for Negative Binomial(3.1746) family taken to be 1)\n\n    Null deviance: 3741.6  on 3556  degrees of freedom\nResidual deviance: 3278.2  on 3535  degrees of freedom\nAIC: 6799.9\n\nNumber of Fisher Scoring iterations: 1\n\n              Theta:  3.175 \n          Std. Err.:  0.576 \n\n 2 x log-likelihood:  -6753.854 \n\n\n\n\n6.5.3 Zero-inflated Poisson (m1_zip)\n\n\nCode\nm1_zip &lt;- zeroinfl(ihm4pain_num ~ age10 + sex + education +\n                 urban_rural + painlimit_lifework + opioid_freq3mo +\n                 phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n                 data = projectb_si_train)\n\nm1_zip_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_zip, type = \"response\"),\n           \".resid\" = resid(m1_zip, type = \"response\"))\n\nm1_zip_summary &lt;-\n  mets(m1_zip_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_zip\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_zip_summary &lt;- m1_zip_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_zip_summary &lt;- m1_zip_summary |&gt;\n  mutate(AIC = AIC(m1_zip),\n         BIC = BIC(m1_zip))\nsummary(m1_zip)\n\n\n\nCall:\nzeroinfl(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, data = projectb_si_train)\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.3529 -0.6426 -0.4657  0.5057  7.1811 \n\nCount model coefficients (poisson with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.415196   0.261037\nage10                                               -0.135764   0.024135\nsexMale                                             -0.210056   0.077075\neducationHigh school graduate/GED                    0.282405   0.167720\neducationSome college, no degree                     0.635911   0.165162\neducationAssociate's or bachelor's degree            0.619413   0.160655\neducationMaster's, doctoral, or professional degree  0.761770   0.176987\nurban_ruralMedium and small metro                    0.012747   0.111366\nurban_ruralLarge fringe metro                        0.063042   0.119672\nurban_ruralLarge central metro                       0.186333   0.115089\npainlimit_lifeworkSome days                          0.204220   0.098190\npainlimit_lifeworkMost days                          0.319729   0.112174\npainlimit_lifeworkEvery day                          0.201525   0.119923\nopioid_freq3moSome days                              0.040076   0.141439\nopioid_freq3moMost days                              0.221426   0.248309\nopioid_freq3moEvery day                             -0.075506   0.156667\nphq8total5unit                                      -0.056037   0.038500\nnum_pain_locations                                   0.082879   0.026625\nfam_income10k                                        0.017314   0.006237\nrace_ethnicityHispanic                              -0.359617   0.095201\nrace_ethnicityNH Black/African American only        -0.110367   0.145961\nrace_ethnicityOther single and multiple races       -0.217057   0.206899\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -1.591 0.111707    \nage10                                                -5.625 1.85e-08 ***\nsexMale                                              -2.725 0.006423 ** \neducationHigh school graduate/GED                     1.684 0.092223 .  \neducationSome college, no degree                      3.850 0.000118 ***\neducationAssociate's or bachelor's degree             3.856 0.000115 ***\neducationMaster's, doctoral, or professional degree   4.304 1.68e-05 ***\nurban_ruralMedium and small metro                     0.114 0.908874    \nurban_ruralLarge fringe metro                         0.527 0.598340    \nurban_ruralLarge central metro                        1.619 0.105441    \npainlimit_lifeworkSome days                           2.080 0.037541 *  \npainlimit_lifeworkMost days                           2.850 0.004368 ** \npainlimit_lifeworkEvery day                           1.680 0.092869 .  \nopioid_freq3moSome days                               0.283 0.776915    \nopioid_freq3moMost days                               0.892 0.372536    \nopioid_freq3moEvery day                              -0.482 0.629839    \nphq8total5unit                                       -1.455 0.145531    \nnum_pain_locations                                    3.113 0.001853 ** \nfam_income10k                                         2.776 0.005501 ** \nrace_ethnicityHispanic                               -3.777 0.000158 ***\nrace_ethnicityNH Black/African American only         -0.756 0.449562    \nrace_ethnicityOther single and multiple races        -1.049 0.294133    \n\nZero-inflation model coefficients (binomial with logit link):\n                                                      Estimate Std. Error\n(Intercept)                                          6.712e-01  7.979e-01\nage10                                               -4.693e-03  7.769e-02\nsexMale                                              2.826e-01  2.410e-01\neducationHigh school graduate/GED                   -2.112e-02  4.783e-01\neducationSome college, no degree                    -9.915e-02  4.802e-01\neducationAssociate's or bachelor's degree           -7.535e-01  5.073e-01\neducationMaster's, doctoral, or professional degree -8.290e-01  5.714e-01\nurban_ruralMedium and small metro                   -1.014e-02  3.239e-01\nurban_ruralLarge fringe metro                       -7.261e-04  3.504e-01\nurban_ruralLarge central metro                      -2.918e-01  3.640e-01\npainlimit_lifeworkSome days                          8.064e-03  3.156e-01\npainlimit_lifeworkMost days                          2.778e-01  3.413e-01\npainlimit_lifeworkEvery day                         -1.917e-01  3.966e-01\nopioid_freq3moSome days                              1.341e-02  4.731e-01\nopioid_freq3moMost days                              3.755e-01  6.382e-01\nopioid_freq3moEvery day                              3.516e-01  4.513e-01\nphq8total5unit                                      -1.027e-01  1.431e-01\nnum_pain_locations                                  -2.714e-01  8.580e-02\nfam_income10k                                       -4.744e-02  2.318e-02\nrace_ethnicityHispanic                              -1.585e+01  1.817e+03\nrace_ethnicityNH Black/African American only         2.591e-01  3.857e-01\nrace_ethnicityOther single and multiple races       -1.622e-01  8.016e-01\n                                                    z value Pr(&gt;|z|)   \n(Intercept)                                           0.841  0.40024   \nage10                                                -0.060  0.95184   \nsexMale                                               1.173  0.24089   \neducationHigh school graduate/GED                    -0.044  0.96478   \neducationSome college, no degree                     -0.206  0.83644   \neducationAssociate's or bachelor's degree            -1.485  0.13749   \neducationMaster's, doctoral, or professional degree  -1.451  0.14687   \nurban_ruralMedium and small metro                    -0.031  0.97502   \nurban_ruralLarge fringe metro                        -0.002  0.99835   \nurban_ruralLarge central metro                       -0.802  0.42270   \npainlimit_lifeworkSome days                           0.026  0.97961   \npainlimit_lifeworkMost days                           0.814  0.41575   \npainlimit_lifeworkEvery day                          -0.483  0.62889   \nopioid_freq3moSome days                               0.028  0.97738   \nopioid_freq3moMost days                               0.588  0.55624   \nopioid_freq3moEvery day                               0.779  0.43597   \nphq8total5unit                                       -0.718  0.47280   \nnum_pain_locations                                   -3.163  0.00156 **\nfam_income10k                                        -2.046  0.04073 * \nrace_ethnicityHispanic                               -0.009  0.99304   \nrace_ethnicityNH Black/African American only          0.672  0.50171   \nrace_ethnicityOther single and multiple races        -0.202  0.83960   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nNumber of iterations in BFGS optimization: 86 \nLog-likelihood: -3347 on 44 Df\n\n\n\n\n6.5.4 Zero-inflated Negative Binomial (m1_zinb)\n\n\nCode\nm1_zinb &lt;- zeroinfl(ihm4pain_num ~ age10 + sex + education +\n                          urban_rural + painlimit_lifework + opioid_freq3mo +\n                          phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity,\n                        dist = \"negbin\", data = projectb_si_train)\n\nm1_zinb_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_zinb, type = \"response\"),\n           \".resid\" = resid(m1_zinb, type = \"response\"))\n\nm1_zinb_summary &lt;-\n  mets(m1_zinb_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_zinb\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_zinb_summary &lt;- m1_zinb_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_zinb_summary &lt;- m1_zinb_summary |&gt;\n  mutate(AIC = AIC(m1_zinb),\n         BIC = BIC(m1_zinb))\nsummary(m1_zinb)\n\n\n\nCall:\nzeroinfl(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, data = projectb_si_train, dist = \"negbin\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.3529 -0.6426 -0.4657  0.5057  7.1811 \n\nCount model coefficients (negbin with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.415181   0.261036\nage10                                               -0.135766   0.024135\nsexMale                                             -0.210059   0.077075\neducationHigh school graduate/GED                    0.282398   0.167720\neducationSome college, no degree                     0.635914   0.165161\neducationAssociate's or bachelor's degree            0.619416   0.160655\neducationMaster's, doctoral, or professional degree  0.761771   0.176987\nurban_ruralMedium and small metro                    0.012739   0.111366\nurban_ruralLarge fringe metro                        0.063033   0.119671\nurban_ruralLarge central metro                       0.186324   0.115088\npainlimit_lifeworkSome days                          0.204214   0.098190\npainlimit_lifeworkMost days                          0.319721   0.112174\npainlimit_lifeworkEvery day                          0.201516   0.119922\nopioid_freq3moSome days                              0.040082   0.141439\nopioid_freq3moMost days                              0.221426   0.248310\nopioid_freq3moEvery day                             -0.075485   0.156665\nphq8total5unit                                      -0.056035   0.038500\nnum_pain_locations                                   0.082879   0.026625\nfam_income10k                                        0.017315   0.006237\nrace_ethnicityHispanic                              -0.359612   0.095200\nrace_ethnicityNH Black/African American only        -0.110358   0.145960\nrace_ethnicityOther single and multiple races       -0.217029   0.206893\nLog(theta)                                          15.442114  25.722300\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -1.591 0.111719    \nage10                                                -5.625 1.85e-08 ***\nsexMale                                              -2.725 0.006422 ** \neducationHigh school graduate/GED                     1.684 0.092230 .  \neducationSome college, no degree                      3.850 0.000118 ***\neducationAssociate's or bachelor's degree             3.856 0.000115 ***\neducationMaster's, doctoral, or professional degree   4.304 1.68e-05 ***\nurban_ruralMedium and small metro                     0.114 0.908932    \nurban_ruralLarge fringe metro                         0.527 0.598391    \nurban_ruralLarge central metro                        1.619 0.105455    \npainlimit_lifeworkSome days                           2.080 0.037545 *  \npainlimit_lifeworkMost days                           2.850 0.004369 ** \npainlimit_lifeworkEvery day                           1.680 0.092881 .  \nopioid_freq3moSome days                               0.283 0.776883    \nopioid_freq3moMost days                               0.892 0.372537    \nopioid_freq3moEvery day                              -0.482 0.629929    \nphq8total5unit                                       -1.455 0.145539    \nnum_pain_locations                                    3.113 0.001853 ** \nfam_income10k                                         2.776 0.005497 ** \nrace_ethnicityHispanic                               -3.777 0.000158 ***\nrace_ethnicityNH Black/African American only         -0.756 0.449599    \nrace_ethnicityOther single and multiple races        -1.049 0.294182    \nLog(theta)                                            0.600 0.548280    \n\nZero-inflation model coefficients (binomial with logit link):\n                                                      Estimate Std. Error\n(Intercept)                                          6.712e-01  7.979e-01\nage10                                               -4.698e-03  7.769e-02\nsexMale                                              2.826e-01  2.410e-01\neducationHigh school graduate/GED                   -2.113e-02  4.783e-01\neducationSome college, no degree                    -9.913e-02  4.802e-01\neducationAssociate's or bachelor's degree           -7.535e-01  5.073e-01\neducationMaster's, doctoral, or professional degree -8.290e-01  5.714e-01\nurban_ruralMedium and small metro                   -1.017e-02  3.239e-01\nurban_ruralLarge fringe metro                       -7.511e-04  3.504e-01\nurban_ruralLarge central metro                      -2.918e-01  3.640e-01\npainlimit_lifeworkSome days                          8.048e-03  3.156e-01\npainlimit_lifeworkMost days                          2.778e-01  3.413e-01\npainlimit_lifeworkEvery day                         -1.917e-01  3.966e-01\nopioid_freq3moSome days                              1.343e-02  4.731e-01\nopioid_freq3moMost days                              3.755e-01  6.382e-01\nopioid_freq3moEvery day                              3.516e-01  4.513e-01\nphq8total5unit                                      -1.027e-01  1.431e-01\nnum_pain_locations                                  -2.714e-01  8.580e-02\nfam_income10k                                       -4.744e-02  2.318e-02\nrace_ethnicityHispanic                              -1.685e+01  2.986e+03\nrace_ethnicityNH Black/African American only         2.591e-01  3.857e-01\nrace_ethnicityOther single and multiple races       -1.622e-01  8.015e-01\n                                                    z value Pr(&gt;|z|)   \n(Intercept)                                           0.841  0.40021   \nage10                                                -0.060  0.95178   \nsexMale                                               1.173  0.24091   \neducationHigh school graduate/GED                    -0.044  0.96477   \neducationSome college, no degree                     -0.206  0.83645   \neducationAssociate's or bachelor's degree            -1.485  0.13750   \neducationMaster's, doctoral, or professional degree  -1.451  0.14687   \nurban_ruralMedium and small metro                    -0.031  0.97496   \nurban_ruralLarge fringe metro                        -0.002  0.99829   \nurban_ruralLarge central metro                       -0.802  0.42265   \npainlimit_lifeworkSome days                           0.026  0.97965   \npainlimit_lifeworkMost days                           0.814  0.41578   \npainlimit_lifeworkEvery day                          -0.483  0.62884   \nopioid_freq3moSome days                               0.028  0.97735   \nopioid_freq3moMost days                               0.588  0.55624   \nopioid_freq3moEvery day                               0.779  0.43589   \nphq8total5unit                                       -0.718  0.47282   \nnum_pain_locations                                   -3.163  0.00156 **\nfam_income10k                                        -2.046  0.04073 * \nrace_ethnicityHispanic                               -0.006  0.99550   \nrace_ethnicityNH Black/African American only          0.672  0.50167   \nrace_ethnicityOther single and multiple races        -0.202  0.83968   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nTheta = 5086566.3791 \nNumber of iterations in BFGS optimization: 86 \nLog-likelihood: -3347 on 45 Df\n\n\n\n\n6.5.5 Hurdle with Poisson (m1_hurdle_pois)\n\n\nCode\nm1_hurdle_pois &lt;- hurdle(ihm4pain_num ~ age10 + sex + race_ethnicity + education +\n                           fam_income10k + urban_rural + num_pain_locations +\n                           painlimit_lifework + opioid_freq3mo + phq8total5unit,\n                        dist = \"poisson\", zero.dist = \"binomial\", \n                        data = projectb_si_train)\n\nm1_hurdle_pois_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_hurdle_pois, type = \"response\"),\n           \".resid\" = resid(m1_hurdle_pois, type = \"response\"))\n\nm1_hurdle_pois_summary &lt;-\n  mets(m1_hurdle_pois_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_hurdle_pois\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_hurdle_pois_summary &lt;- m1_hurdle_pois_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_hurdle_pois_summary &lt;- m1_hurdle_pois_summary |&gt;\n  mutate(AIC = AIC(m1_hurdle_pois),\n         BIC = BIC(m1_hurdle_pois))\nsummary(m1_hurdle_pois)\n\n\n\nCall:\nhurdle(formula = ihm4pain_num ~ age10 + sex + race_ethnicity + education + \n    fam_income10k + urban_rural + num_pain_locations + painlimit_lifework + \n    opioid_freq3mo + phq8total5unit, data = projectb_si_train, dist = \"poisson\", \n    zero.dist = \"binomial\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.3352 -0.6384 -0.4592  0.5140  7.1628 \n\nCount model coefficients (truncated poisson with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.045206   0.281619\nage10                                               -0.143934   0.024059\nsexMale                                             -0.178949   0.078531\nrace_ethnicityHispanic                              -0.220647   0.140983\nrace_ethnicityNH Black/African American only        -0.101348   0.141085\nrace_ethnicityOther single and multiple races       -0.098327   0.170501\neducationHigh school graduate/GED                    0.054218   0.206801\neducationSome college, no degree                     0.414146   0.200328\neducationAssociate's or bachelor's degree            0.402233   0.194865\neducationMaster's, doctoral, or professional degree  0.462490   0.213386\nfam_income10k                                        0.014675   0.006929\nurban_ruralMedium and small metro                    0.005048   0.114664\nurban_ruralLarge fringe metro                       -0.009438   0.125995\nurban_ruralLarge central metro                       0.148443   0.117913\nnum_pain_locations                                   0.079246   0.029779\npainlimit_lifeworkSome days                          0.179310   0.099253\npainlimit_lifeworkMost days                          0.248306   0.121008\npainlimit_lifeworkEvery day                          0.148881   0.127017\nopioid_freq3moSome days                              0.059283   0.158583\nopioid_freq3moMost days                              0.113070   0.279708\nopioid_freq3moEvery day                             -0.160421   0.164993\nphq8total5unit                                      -0.085068   0.040396\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -0.161  0.87247    \nage10                                                -5.982  2.2e-09 ***\nsexMale                                              -2.279  0.02268 *  \nrace_ethnicityHispanic                               -1.565  0.11757    \nrace_ethnicityNH Black/African American only         -0.718  0.47254    \nrace_ethnicityOther single and multiple races        -0.577  0.56415    \neducationHigh school graduate/GED                     0.262  0.79319    \neducationSome college, no degree                      2.067  0.03870 *  \neducationAssociate's or bachelor's degree             2.064  0.03900 *  \neducationMaster's, doctoral, or professional degree   2.167  0.03021 *  \nfam_income10k                                         2.118  0.03418 *  \nurban_ruralMedium and small metro                     0.044  0.96488    \nurban_ruralLarge fringe metro                        -0.075  0.94029    \nurban_ruralLarge central metro                        1.259  0.20806    \nnum_pain_locations                                    2.661  0.00779 ** \npainlimit_lifeworkSome days                           1.807  0.07083 .  \npainlimit_lifeworkMost days                           2.052  0.04017 *  \npainlimit_lifeworkEvery day                           1.172  0.24115    \nopioid_freq3moSome days                               0.374  0.70853    \nopioid_freq3moMost days                               0.404  0.68603    \nopioid_freq3moEvery day                              -0.972  0.33091    \nphq8total5unit                                       -2.106  0.03522 *  \nZero hurdle model coefficients (binomial with logit link):\n                                                     Estimate Std. Error\n(Intercept)                                         -1.479732   0.249322\nage10                                               -0.142153   0.023765\nsexMale                                             -0.375766   0.076124\nrace_ethnicityHispanic                               0.139327   0.135109\nrace_ethnicityNH Black/African American only        -0.272954   0.128870\nrace_ethnicityOther single and multiple races       -0.244884   0.174931\neducationHigh school graduate/GED                    0.355758   0.142993\neducationSome college, no degree                     0.759842   0.149059\neducationAssociate's or bachelor's degree            1.039827   0.141786\neducationMaster's, doctoral, or professional degree  1.328910   0.180035\nfam_income10k                                        0.042015   0.008126\nurban_ruralMedium and small metro                    0.027743   0.105044\nurban_ruralLarge fringe metro                        0.114360   0.118742\nurban_ruralLarge central metro                       0.346088   0.114916\nnum_pain_locations                                   0.212404   0.030285\npainlimit_lifeworkSome days                          0.239884   0.096082\npainlimit_lifeworkMost days                          0.275086   0.122223\npainlimit_lifeworkEvery day                          0.325687   0.118433\nopioid_freq3moSome days                              0.043253   0.167722\nopioid_freq3moMost days                              0.107665   0.265744\nopioid_freq3moEvery day                             -0.194347   0.137609\nphq8total5unit                                      -0.001161   0.039121\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -5.935 2.94e-09 ***\nage10                                                -5.982 2.21e-09 ***\nsexMale                                              -4.936 7.97e-07 ***\nrace_ethnicityHispanic                                1.031  0.30244    \nrace_ethnicityNH Black/African American only         -2.118  0.03417 *  \nrace_ethnicityOther single and multiple races        -1.400  0.16155    \neducationHigh school graduate/GED                     2.488  0.01285 *  \neducationSome college, no degree                      5.098 3.44e-07 ***\neducationAssociate's or bachelor's degree             7.334 2.24e-13 ***\neducationMaster's, doctoral, or professional degree   7.381 1.57e-13 ***\nfam_income10k                                         5.170 2.34e-07 ***\nurban_ruralMedium and small metro                     0.264  0.79170    \nurban_ruralLarge fringe metro                         0.963  0.33550    \nurban_ruralLarge central metro                        3.012  0.00260 ** \nnum_pain_locations                                    7.013 2.33e-12 ***\npainlimit_lifeworkSome days                           2.497  0.01254 *  \npainlimit_lifeworkMost days                           2.251  0.02440 *  \npainlimit_lifeworkEvery day                           2.750  0.00596 ** \nopioid_freq3moSome days                               0.258  0.79650    \nopioid_freq3moMost days                               0.405  0.68537    \nopioid_freq3moEvery day                              -1.412  0.15786    \nphq8total5unit                                       -0.030  0.97632    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nNumber of iterations in BFGS optimization: 30 \nLog-likelihood: -3346 on 44 Df\n\n\n\n\n6.5.6 Hurdle with Negative Binomial (m1_hurdle_nb)\n\n\nCode\nm1_hurdle_nb &lt;- hurdle(ihm4pain_num ~ age10 + sex + education +\n                          urban_rural + painlimit_lifework + opioid_freq3mo +\n                          phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity,\n                       dist = \"negbin\", zero.dist = \"binomial\", \n                       data = projectb_si_train)\n\nm1_hurdle_nb_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_hurdle_nb, type = \"response\"),\n           \".resid\" = resid(m1_hurdle_nb, type = \"response\"))\n\nm1_hurdle_nb_summary &lt;-\n  mets(m1_hurdle_nb_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_hurdle_nb\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_hurdle_nb_summary &lt;- m1_hurdle_nb_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_hurdle_nb_summary &lt;- m1_hurdle_nb_summary |&gt;\n  mutate(AIC = AIC(m1_hurdle_nb),\n         BIC = BIC(m1_hurdle_nb))\nsummary(m1_hurdle_nb)\n\n\n\nCall:\nhurdle(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, data = projectb_si_train, dist = \"negbin\", \n    zero.dist = \"binomial\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.3352 -0.6384 -0.4592  0.5140  7.1628 \n\nCount model coefficients (truncated negbin with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.045178   0.281617\nage10                                               -0.143937   0.024059\nsexMale                                             -0.178955   0.078531\neducationHigh school graduate/GED                    0.054212   0.206800\neducationSome college, no degree                     0.414166   0.200326\neducationAssociate's or bachelor's degree            0.402225   0.194864\neducationMaster's, doctoral, or professional degree  0.462490   0.213385\nurban_ruralMedium and small metro                    0.005048   0.114663\nurban_ruralLarge fringe metro                       -0.009442   0.125995\nurban_ruralLarge central metro                       0.148444   0.117912\npainlimit_lifeworkSome days                          0.179297   0.099253\npainlimit_lifeworkMost days                          0.248299   0.121008\npainlimit_lifeworkEvery day                          0.148878   0.127017\nopioid_freq3moSome days                              0.059280   0.158583\nopioid_freq3moMost days                              0.113059   0.279709\nopioid_freq3moEvery day                             -0.160405   0.164991\nphq8total5unit                                      -0.085068   0.040396\nnum_pain_locations                                   0.079248   0.029779\nfam_income10k                                        0.014675   0.006929\nrace_ethnicityHispanic                              -0.220641   0.140982\nrace_ethnicityNH Black/African American only        -0.101337   0.141084\nrace_ethnicityOther single and multiple races       -0.098315   0.170499\nLog(theta)                                          19.343411        NaN\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -0.160  0.87255    \nage10                                                -5.983  2.2e-09 ***\nsexMale                                              -2.279  0.02268 *  \neducationHigh school graduate/GED                     0.262  0.79321    \neducationSome college, no degree                      2.067  0.03869 *  \neducationAssociate's or bachelor's degree             2.064  0.03900 *  \neducationMaster's, doctoral, or professional degree   2.167  0.03020 *  \nurban_ruralMedium and small metro                     0.044  0.96488    \nurban_ruralLarge fringe metro                        -0.075  0.94026    \nurban_ruralLarge central metro                        1.259  0.20805    \npainlimit_lifeworkSome days                           1.806  0.07085 .  \npainlimit_lifeworkMost days                           2.052  0.04018 *  \npainlimit_lifeworkEvery day                           1.172  0.24115    \nopioid_freq3moSome days                               0.374  0.70854    \nopioid_freq3moMost days                               0.404  0.68606    \nopioid_freq3moEvery day                              -0.972  0.33095    \nphq8total5unit                                       -2.106  0.03522 *  \nnum_pain_locations                                    2.661  0.00779 ** \nfam_income10k                                         2.118  0.03419 *  \nrace_ethnicityHispanic                               -1.565  0.11758    \nrace_ethnicityNH Black/African American only         -0.718  0.47259    \nrace_ethnicityOther single and multiple races        -0.577  0.56419    \nLog(theta)                                              NaN      NaN    \nZero hurdle model coefficients (binomial with logit link):\n                                                     Estimate Std. Error\n(Intercept)                                         -1.479732   0.249322\nage10                                               -0.142153   0.023765\nsexMale                                             -0.375766   0.076124\neducationHigh school graduate/GED                    0.355758   0.142993\neducationSome college, no degree                     0.759842   0.149059\neducationAssociate's or bachelor's degree            1.039827   0.141786\neducationMaster's, doctoral, or professional degree  1.328910   0.180035\nurban_ruralMedium and small metro                    0.027743   0.105044\nurban_ruralLarge fringe metro                        0.114360   0.118742\nurban_ruralLarge central metro                       0.346088   0.114916\npainlimit_lifeworkSome days                          0.239884   0.096082\npainlimit_lifeworkMost days                          0.275086   0.122223\npainlimit_lifeworkEvery day                          0.325687   0.118433\nopioid_freq3moSome days                              0.043253   0.167722\nopioid_freq3moMost days                              0.107665   0.265744\nopioid_freq3moEvery day                             -0.194347   0.137609\nphq8total5unit                                      -0.001161   0.039121\nnum_pain_locations                                   0.212404   0.030285\nfam_income10k                                        0.042015   0.008126\nrace_ethnicityHispanic                               0.139327   0.135109\nrace_ethnicityNH Black/African American only        -0.272954   0.128870\nrace_ethnicityOther single and multiple races       -0.244884   0.174931\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -5.935 2.94e-09 ***\nage10                                                -5.982 2.21e-09 ***\nsexMale                                              -4.936 7.97e-07 ***\neducationHigh school graduate/GED                     2.488  0.01285 *  \neducationSome college, no degree                      5.098 3.44e-07 ***\neducationAssociate's or bachelor's degree             7.334 2.24e-13 ***\neducationMaster's, doctoral, or professional degree   7.381 1.57e-13 ***\nurban_ruralMedium and small metro                     0.264  0.79170    \nurban_ruralLarge fringe metro                         0.963  0.33550    \nurban_ruralLarge central metro                        3.012  0.00260 ** \npainlimit_lifeworkSome days                           2.497  0.01254 *  \npainlimit_lifeworkMost days                           2.251  0.02440 *  \npainlimit_lifeworkEvery day                           2.750  0.00596 ** \nopioid_freq3moSome days                               0.258  0.79650    \nopioid_freq3moMost days                               0.405  0.68537    \nopioid_freq3moEvery day                              -1.412  0.15786    \nphq8total5unit                                       -0.030  0.97632    \nnum_pain_locations                                    7.013 2.33e-12 ***\nfam_income10k                                         5.170 2.34e-07 ***\nrace_ethnicityHispanic                                1.031  0.30244    \nrace_ethnicityNH Black/African American only         -2.118  0.03417 *  \nrace_ethnicityOther single and multiple races        -1.400  0.16155    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nTheta: count = 251615122.8885\nNumber of iterations in BFGS optimization: 49 \nLog-likelihood: -3346 on 45 Df"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#comparing-m1-versions",
    "href": "NHISstudy2024-01-07GitHub.html#comparing-m1-versions",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.6 Comparing m1 Versions",
    "text": "6.6 Comparing m1 Versions\n\n6.6.1 Comparing with Rootograms\nTo begin a comparison of the 4 variations of Model 1, I generated four rootogram plots using the countreg::rootogram() function.\n\n\nCode\npar(mfrow = c(3,2))\ncountreg::rootogram(m1_pois, main = \"Rootogram for m1_pois\")\ncountreg::rootogram(m1_nb, main = \"Rootogram for m1_nb\")\ncountreg::rootogram(m1_zip, main = \"Rootogram for m1_zip\")\ncountreg::rootogram(m1_zinb, main = \"Rootogram for m1_zinb\")\ncountreg::rootogram(m1_hurdle_pois, main = \"Rootogram for m1_hurdle_pois\")\ncountreg::rootogram(m1_hurdle_nb, main = \"Rootogram for m1_hurdle_nb\")\n\n\n\n\n\nCode\npar(mfrow = c(1,1))\n\n\nLooking at the plots above, there is a clear improvement observed between 1) the Poisson (m1_pois) and negative binomial (m1_nb) models; and 2) the zero-inflated (m1_zip and m1_zinb) and hurdle (m1_hurdle_pois and mt_hurdle_nb) models as the latter appear to fit 0 counts perfectly and lack the over/under-fitting of counts 1-3. However, there do not appear to be any noticeable differences in predicting counts between the bottom four models. Furthermore, it appears each model predicts counts of ihm4pain_num &gt; 4, but not to a substantial degree. Certainly, some subjects may have engaged in more than four IHM modalities for pain, but these were not measured in the 2019 NHIS.\n\n\n6.6.2 Comparing with Fit Statistics\nTo further examine differences, I generated m1_summary as a combination of the 6 previous model summaries using the bind_rows() function. I then selected the Model, \\(R^2\\), RMSE, MAE, AIC, and BIC values for output.\n\n\nCode\nm1_summary &lt;- bind_rows(m1_pois_summary, m1_nb_summary, \n                        m1_zip_summary, m1_zinb_summary, \n                        m1_hurdle_pois_summary, m1_hurdle_nb_summary)\n\nm1_summary |&gt; select(Model, R2, RMSE, MAE, AIC, BIC) |&gt;\n  flextable() |&gt;\n  colformat_double(j = 2:4, digits = 3) |&gt;\n  colformat_double(j = 5:6, digits = 0) |&gt;\n  bold(i = 5, j = 1:6, bold = TRUE) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nModelR2RMSEMAEAICBICm1_pois0.1200.8050.6246,8426,978m1_nb0.1190.8060.6246,8006,942m1_zip0.1200.8060.6226,7837,055m1_zinb0.1200.8060.6226,7857,063m1_hurdle_pois0.1210.8050.6226,7807,052m1_hurdle_nb0.1210.8050.6226,7827,060\n\n\nSimilar to the rootograms, there is a clear improvement in \\(R^2\\) between 1) the Poisson (m1_pois) and negative binomial (m1_nb) models; and 2) the zero-inflated (m1_zip and m1_zinb) and hurdle (m1_hurdle_pois and mt_hurdle_nb) models. m1_hurdle_pois appears to be the best fit based on it’s \\(R^2\\) (0.121), RMSE (0.805), and AIC (6780 [lowest overall]). Importantly, m1_hurdle_pois has the lowest BIC among the four models that had better rootograms in the plot above.\n\n\n6.6.3 Comparing with Vuong tests\nFinally, given the inclination to use m1_hurdle_pois, I used the vuong() function to compare it to the other models.\nm1_hurdle_pois v. m1_pois\n\n\nCode\nvuong(m1_hurdle_pois, m1_pois)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A    p-value\nRaw                    4.991730 model1 &gt; model2  2.992e-07\nAIC-corrected          2.913802 model1 &gt; model2 0.00178528\nBIC-corrected         -3.503540 model2 &gt; model1 0.00022956\n\n\nm1_hurdle_pois is a better fit than m1_pois based on small p-values from the the Raw, and AIC-corrected Vuong tests.\nm1_hurdle_pois v. m1_nb\n\n\nCode\nvuong(m1_hurdle_pois, m1_nb)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A    p-value\nRaw                    4.754520 model1 &gt; model2 9.9459e-07\nAIC-corrected          1.369766 model1 &gt; model2    0.08538\nBIC-corrected         -9.083491 model2 &gt; model1 &lt; 2.22e-16\n\n\nm1_hurdle_pois is a better fit than m1_nb based on small p-values from the the Raw Vuong test.\nm1_hurdle_pois v. m1_zip\n\n\nCode\nvuong(m1_hurdle_pois, m1_zip)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A p-value\nRaw                   0.3795831 model1 &gt; model2 0.35213\nAIC-corrected         0.3795831 model1 &gt; model2 0.35213\nBIC-corrected         0.3795831 model1 &gt; model2 0.35213\n\n\nm1_hurdle_pois is not meaningfully different than m1_zip (p = .352).\nm1_hurdle_pois v. m1_zinb\n\n\nCode\nvuong(m1_hurdle_pois, m1_zinb)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A p-value\nRaw                   0.3795879 model1 &gt; model2 0.35213\nAIC-corrected         0.3795879 model1 &gt; model2 0.35213\nBIC-corrected         0.3795879 model1 &gt; model2 0.35213\n\n\nm1_hurdle_pois is not meaningfully different than m1_zinb (p = .352).\nm1_hurdle_pois v. m1_hurdle_nb\n\n\nCode\nvuong(m1_hurdle_pois, m1_hurdle_nb)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A p-value\nRaw                -0.007316386 model2 &gt; model1 0.49708\nAIC-corrected      -0.007316386 model2 &gt; model1 0.49708\nBIC-corrected      -0.007316386 model2 &gt; model1 0.49708\n\n\nm1_hurdle_pois is not meaningfully different than m1_hurdle_nb (p = .497)."
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#final-model-choice",
    "href": "NHISstudy2024-01-07GitHub.html#final-model-choice",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.7 Final Model Choice",
    "text": "6.7 Final Model Choice\nBased on a combination of the rootograms, the fit statistics, and the Vuong tests, I chose m1_hurdle_pois as the model for the count outcome.\nThe hurdle model also makes sense given its description (Ford 2016).\n\nThe hurdle model is a two-part model that specifies one process for zero counts and another process for positive counts. The idea is that positive counts occur once a threshold is crossed, or put another way, a hurdle is cleared. If the hurdle is not cleared, then we have a count of 0.\n\nConceptually, moving from no engagement in IHM modalities for pain to engaging in any number of IHM modalities for pain seems like a hurdle to model independently of the count data."
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#fitting-weighted-hurdle-model",
    "href": "NHISstudy2024-01-07GitHub.html#fitting-weighted-hurdle-model",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.8 Fitting Weighted Hurdle Model",
    "text": "6.8 Fitting Weighted Hurdle Model\nIn the following code, I added weights to m1_hurdle_pois model using the code, weights = wt_final/mean(wt_final). I then printed a summary of the model.\n\n\nCode\nm1_hurdle_pois &lt;- hurdle(ihm4pain_num ~ age10 + sex + race_ethnicity + education +\n                           fam_income10k + urban_rural + num_pain_locations +\n                           painlimit_lifework + opioid_freq3mo + phq8total5unit,\n                        dist = \"poisson\", zero.dist = \"binomial\", \n                        weights = wt_final/mean(wt_final),\n                        data = projectb_si_train)\n\nmets &lt;- metric_set(rsq, rmse, mae)\n\nm1_hurdle_pois_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_hurdle_pois, type = \"response\"),\n           \".resid\" = resid(m1_hurdle_pois, type = \"response\"))\n\nm1_hurdle_pois_summary &lt;-\n  mets(m1_hurdle_pois_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_hurdle_pois\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_hurdle_pois_summary &lt;- m1_hurdle_pois_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_hurdle_pois_summary &lt;- m1_hurdle_pois_summary |&gt;\n  mutate(AIC = AIC(m1_hurdle_pois),\n         BIC = BIC(m1_hurdle_pois))\n\nsummary(m1_hurdle_pois)\n\n\n\nCall:\nhurdle(formula = ihm4pain_num ~ age10 + sex + race_ethnicity + education + \n    fam_income10k + urban_rural + num_pain_locations + painlimit_lifework + \n    opioid_freq3mo + phq8total5unit, data = projectb_si_train, weights = wt_final/mean(wt_final), \n    dist = \"poisson\", zero.dist = \"binomial\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.8226 -0.5770 -0.3611  0.4732  8.1198 \n\nCount model coefficients (truncated poisson with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.288706   0.286847\nage10                                               -0.143633   0.025058\nsexMale                                             -0.254302   0.080070\nrace_ethnicityHispanic                              -0.187190   0.136711\nrace_ethnicityNH Black/African American only        -0.096093   0.139174\nrace_ethnicityOther single and multiple races       -0.306117   0.184700\neducationHigh school graduate/GED                    0.239399   0.208846\neducationSome college, no degree                     0.638642   0.202086\neducationAssociate's or bachelor's degree            0.572008   0.199347\neducationMaster's, doctoral, or professional degree  0.648524   0.222696\nfam_income10k                                        0.010163   0.006892\nurban_ruralMedium and small metro                    0.066435   0.124326\nurban_ruralLarge fringe metro                        0.056516   0.132087\nurban_ruralLarge central metro                       0.216033   0.125488\nnum_pain_locations                                   0.097209   0.029301\npainlimit_lifeworkSome days                          0.190048   0.101775\npainlimit_lifeworkMost days                          0.273623   0.122793\npainlimit_lifeworkEvery day                          0.165813   0.129089\nopioid_freq3moSome days                             -0.118804   0.180672\nopioid_freq3moMost days                              0.235398   0.269783\nopioid_freq3moEvery day                             -0.265695   0.189130\nphq8total5unit                                      -0.104129   0.039421\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -1.006 0.314184    \nage10                                                -5.732 9.92e-09 ***\nsexMale                                              -3.176 0.001493 ** \nrace_ethnicityHispanic                               -1.369 0.170925    \nrace_ethnicityNH Black/African American only         -0.690 0.489910    \nrace_ethnicityOther single and multiple races        -1.657 0.097443 .  \neducationHigh school graduate/GED                     1.146 0.251674    \neducationSome college, no degree                      3.160 0.001576 ** \neducationAssociate's or bachelor's degree             2.869 0.004112 ** \neducationMaster's, doctoral, or professional degree   2.912 0.003589 ** \nfam_income10k                                         1.475 0.140336    \nurban_ruralMedium and small metro                     0.534 0.593090    \nurban_ruralLarge fringe metro                         0.428 0.668743    \nurban_ruralLarge central metro                        1.722 0.085154 .  \nnum_pain_locations                                    3.318 0.000908 ***\npainlimit_lifeworkSome days                           1.867 0.061854 .  \npainlimit_lifeworkMost days                           2.228 0.025859 *  \npainlimit_lifeworkEvery day                           1.284 0.198972    \nopioid_freq3moSome days                              -0.658 0.510815    \nopioid_freq3moMost days                               0.873 0.382911    \nopioid_freq3moEvery day                              -1.405 0.160072    \nphq8total5unit                                       -2.641 0.008255 ** \nZero hurdle model coefficients (binomial with logit link):\n                                                     Estimate Std. Error\n(Intercept)                                         -1.678505   0.240666\nage10                                               -0.152575   0.023318\nsexMale                                             -0.218202   0.076494\nrace_ethnicityHispanic                              -0.064007   0.129418\nrace_ethnicityNH Black/African American only        -0.380766   0.128323\nrace_ethnicityOther single and multiple races       -0.353984   0.170466\neducationHigh school graduate/GED                    0.415864   0.135167\neducationSome college, no degree                     0.785447   0.141858\neducationAssociate's or bachelor's degree            1.053611   0.135944\neducationMaster's, doctoral, or professional degree  1.396878   0.184676\nfam_income10k                                        0.036441   0.007846\nurban_ruralMedium and small metro                    0.064509   0.110355\nurban_ruralLarge fringe metro                        0.262959   0.120586\nurban_ruralLarge central metro                       0.463635   0.118048\nnum_pain_locations                                   0.180661   0.029999\npainlimit_lifeworkSome days                          0.327998   0.097323\npainlimit_lifeworkMost days                          0.410528   0.122285\npainlimit_lifeworkEvery day                          0.472318   0.120034\nopioid_freq3moSome days                              0.139740   0.168191\nopioid_freq3moMost days                              0.161674   0.270131\nopioid_freq3moEvery day                             -0.344714   0.145339\nphq8total5unit                                       0.071419   0.037659\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -6.974 3.07e-12 ***\nage10                                                -6.543 6.01e-11 ***\nsexMale                                              -2.853 0.004337 ** \nrace_ethnicityHispanic                               -0.495 0.620900    \nrace_ethnicityNH Black/African American only         -2.967 0.003005 ** \nrace_ethnicityOther single and multiple races        -2.077 0.037841 *  \neducationHigh school graduate/GED                     3.077 0.002093 ** \neducationSome college, no degree                      5.537 3.08e-08 ***\neducationAssociate's or bachelor's degree             7.750 9.16e-15 ***\neducationMaster's, doctoral, or professional degree   7.564 3.91e-14 ***\nfam_income10k                                         4.644 3.41e-06 ***\nurban_ruralMedium and small metro                     0.585 0.558844    \nurban_ruralLarge fringe metro                         2.181 0.029207 *  \nurban_ruralLarge central metro                        3.928 8.58e-05 ***\nnum_pain_locations                                    6.022 1.72e-09 ***\npainlimit_lifeworkSome days                           3.370 0.000751 ***\npainlimit_lifeworkMost days                           3.357 0.000788 ***\npainlimit_lifeworkEvery day                           3.935 8.32e-05 ***\nopioid_freq3moSome days                               0.831 0.406064    \nopioid_freq3moMost days                               0.599 0.549505    \nopioid_freq3moEvery day                              -2.372 0.017702 *  \nphq8total5unit                                        1.896 0.057901 .  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nNumber of iterations in BFGS optimization: 29 \nLog-likelihood: -3275 on 44 Df"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#model-coefficients",
    "href": "NHISstudy2024-01-07GitHub.html#model-coefficients",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.9 Model Coefficients",
    "text": "6.9 Model Coefficients\nTo generate a singular summary of coefficients from m1_hurdle_pois, I performed the following\n\nGenerated an initial m1_hurdle_pois_coef tibble containing the variables Type (i.e., count or non-zero), Group (i.e., each variable group), and Comparison (e.g., Age +10yrs, Male v. Female) to match the output from m1_hurdle_pois\nGenerated m1_hurdle_pois_pe as a tibble of the exponentiated coefficients from m1_hurdle_pois\nGenerated m1_hurdle_pois_ci as a tibble of the exponentiated 95% CI from m1_hurdle_pois\nBound all of the above into the tibble, m1_hurdle_pois_coef.\n\n\n\nCode\nm1_hurdle_pois_coef &lt;- tibble(Type = c(\"count\", \"count\", \"count\", \n                                       \"count\", \"count\", \"count\",\n                                       \"count\", \"count\", \"count\",\n                                       \"count\", \"count\", \"count\",\n                                       \"count\", \"count\", \"count\", \n                                       \"count\", \"count\", \"count\",\n                                       \"count\", \"count\", \"count\", \"count\",\n                                       \"non-zero\", \"non-zero\", \"non-zero\", \n                                       \"non-zero\", \"non-zero\", \"non-zero\",\n                                       \"non-zero\", \"non-zero\", \"non-zero\", \n                                       \"non-zero\", \"non-zero\", \"non-zero\",\n                                       \"non-zero\", \"non-zero\", \"non-zero\", \n                                       \"non-zero\", \"non-zero\", \"non-zero\",\n                                       \"non-zero\", \"non-zero\", \"non-zero\", \"non-zero\"),\n                              Group = c(\"(Intercept)\", \"Age\", \"Sex\", \n                                        \"Race/Ethnicity\", \"Race/Ethnicity\", \"Race/Ethnicity\",\n                                        \"Education\", \"Education\", \n                                        \"Education\", \"Education\", \n                                        \"Family income\", \n                                        \"Proximity to metro area\", \"Proximity to metro area\",\n                                        \"Proximity to metro area\", \n                                        \"Number of pain locations\", \n                                        \"Pain limiting life or work\", \n                                        \"Pain limiting life or work\",\n                                        \"Pain limiting life or work\", \n                                        \"Opioid use past 3 mo\", \n                                        \"Opioid use past 3 mo\",\n                                        \"Opioid use past 3 mo\", \n                                        \"PHQ-8\", \n                                        \"(Intercept)\", \"Age\", \"Sex\", \n                                        \"Race/Ethnicity\", \"Race/Ethnicity\", \"Race/Ethnicity\",\n                                        \"Education\", \"Education\", \n                                        \"Education\", \"Education\", \n                                        \"Family income\", \n                                        \"Proximity to metro area\", \"Proximity to metro area\",\n                                        \"Proximity to metro area\", \n                                        \"Number of pain locations\", \n                                        \"Pain limiting life or work\", \n                                        \"Pain limiting life or work\",\n                                        \"Pain limiting life or work\", \n                                        \"Opioid use past 3 mo\", \n                                        \"Opioid use past 3 mo\",\n                                        \"Opioid use past 3 mo\", \n                                        \"PHQ-8\"),\n                              Comparison = c(\"(Intercept)\", \"Age +10yrs\", \n                                             \"Male v. Female\", \n                                             \"Hispanic v. NH White\",\n                                             \"NH Black v. NH White\",\n                                             \"Other v. NH White\",\n                                             \"HS/GED v. &lt; HS\", \n                                             \"Some College v. &lt; HS\", \n                                             \"Assoc/Bach v. &lt; HS\",\n                                             \"Masters/PhD v. &lt; HS\", \n                                             \"Fam income +$10,000\",\n                                             \"M/S metro v. Non-metro\", \n                                             \"L fringe metro v. Non-metro\",\n                                             \"L central metro v. Non-metro\", \n                                             \"Pain locations +1\", \n                                             \"Pain limit some days v. Never\", \n                                             \"Pain limit most days v. Never\",\n                                             \"Pain limit every day v. Never\", \n                                             \"Opioids some days v. Never\", \n                                             \"Opioids most days v. Never\",\n                                             \"Opioids every day v. Never\", \n                                             \"PHQ-8 +5 units\", \n                                             \"(Intercept)\", \"Age +10yrs\", \n                                             \"Male v. Female\", \n                                             \"Hispanic v. NH White\",\n                                             \"NH Black v. NH White\",\n                                             \"Other v. NH White\",\n                                             \"HS/GED v. &lt; HS\", \n                                             \"Some College v. &lt; HS\", \n                                             \"Assoc/Bach v. &lt; HS\",\n                                             \"Masters/PhD v. &lt; HS\", \n                                             \"Fam income +$10,000\",\n                                             \"M/S metro v. Non-metro\", \n                                             \"L fringe metro v. Non-metro\",\n                                             \"L central metro v. Non-metro\", \n                                             \"Pain locations +1\", \n                                             \"Pain limit some days v. Never\", \n                                             \"Pain limit most days v. Never\",\n                                             \"Pain limit every day v. Never\", \n                                             \"Opioids some days v. Never\", \n                                             \"Opioids most days v. Never\",\n                                             \"Opioids every day v. Never\", \n                                             \"PHQ-8 +5 units\"))\n\nm1_hurdle_pois_pe &lt;- exp(coef(m1_hurdle_pois)) |&gt; as_tibble()\nm1_hurdle_pois_ci &lt;- exp(confint(m1_hurdle_pois)) |&gt; as_tibble() |&gt;\n  clean_names() |&gt;\n  rename(Conf.low = \"x2_5_percent\",\n         Conf.high = \"x97_5_percent\")\n\nm1_hurdle_pois_coef &lt;- bind_cols(m1_hurdle_pois_coef, \n                                 m1_hurdle_pois_pe, \n                                 m1_hurdle_pois_ci) |&gt;\n  rename(Estimate = value)\n\n\n\n6.9.1 Numeric Summary of Odds of ihm4pain_num != 0\nIn the following code, I generated a numeric summary of the exponentiated coefficients from m1_hurdle_pois describing the odds of ihm4pain_num != 0.\n\n\nCode\nm1_hurdle_pois_coef |&gt; \n  filter(Type == \"non-zero\") |&gt;\n  select(Group, Comparison, Estimate, Conf.low, Conf.high) |&gt; \n  mutate(Estimate = round(Estimate, digits = 3),\n         Conf.low = round(Conf.low, digits = 3),\n         Conf.high = round(Conf.high, digits = 3)) |&gt;\n  rename(aOR = Estimate,\n         \"95% CI Low\" = Conf.low,\n         \"95% CI High\" = Conf.high) |&gt;\n  flextable() |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  add_header_lines(values = \"Supplemental Table 1: aOR of Engagement in IHM Modalities for Pain\") |&gt;\n  autofit() |&gt;\n  add_footer_lines(values = \"Abbreviations: Assoc, associate’s; aOR, adjusted odds ratio; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; mo, months; NH, Non-Hispanic; S, small; v., versus; yrs, years\", top = FALSE) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nSupplemental Table 1: aOR of Engagement in IHM Modalities for PainGroupComparisonaOR95% CI Low95% CI High(Intercept)(Intercept)0.1870.1160.299AgeAge +10yrs0.8580.8200.899SexMale v. Female0.8040.6920.934Race/EthnicityHispanic v. NH White0.9380.7281.209Race/EthnicityNH Black v. NH White0.6830.5310.879Race/EthnicityOther v. NH White0.7020.5030.980EducationHS/GED v. &lt; HS1.5161.1631.975EducationSome College v. &lt; HS2.1931.6612.896EducationAssoc/Bach v. &lt; HS2.8682.1973.744EducationMasters/PhD v. &lt; HS4.0432.8155.806Family incomeFam income +$10,0001.0371.0211.053Proximity to metro areaM/S metro v. Non-metro1.0670.8591.324Proximity to metro areaL fringe metro v. Non-metro1.3011.0271.648Proximity to metro areaL central metro v. Non-metro1.5901.2612.004Number of pain locationsPain locations +11.1981.1301.271Pain limiting life or workPain limit some days v. Never1.3881.1471.680Pain limiting life or workPain limit most days v. Never1.5081.1861.916Pain limiting life or workPain limit every day v. Never1.6041.2682.029Opioid use past 3 moOpioids some days v. Never1.1500.8271.599Opioid use past 3 moOpioids most days v. Never1.1750.6921.996Opioid use past 3 moOpioids every day v. Never0.7080.5330.942PHQ-8PHQ-8 +5 units1.0740.9981.156Abbreviations: Assoc, associate’s; aOR, adjusted odds ratio; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; mo, months; NH, Non-Hispanic; S, small; v., versus; yrs, years\n\n\nIn examining the effects table above, I will summarize the effect of Masters/PhD v. &lt; HS using two fictional cases: Luke Skywalker and Din Djarin\nSuppose Luke Skywalker and Din Djarin 1) have the same demographic profile (i.e., same age, male); 2) reside in rural areas; 3) rated similar challenges related to pain interfering with life or work in the past 3 months; 4) used the same amount of opioids for chronic pain within the past 3 months; 5) reported the same score on the PHQ-8; 6) reported the same number of locations where they were bothered at least “a little” by pain in the past three months; 7) have the same family income; and 8) are of the same race and ethnicity. However, Luke Skywalker has a PhD in being a Jedi while Din Djarin did not graduate “This is the Way” High School. In this scenario, m1_hurdle_pois predicts that Luke Skywalker’s odds of ihm4pain_num != 0 will be 4.043 times that of Din Djarin.\nThe 95% confidence interval for this estimated odds ratio for the effect of Masters/PhD v. &lt; HS on ihm4pain_num != 0 is (2.815, 5.806). This confidence interval does not include one. Thus, holding all other variables constant, having a Masters, PhD, or professional degree is associated with higher odds of having engaged in an IHM modality to manage pain in the past three months.\n\n\n6.9.2 Numeric Summary of Relative Change in Count of ihm4pain_num\nIn the following code, I generated a numeric summary of the exponentiated coefficients from m1_hurdle_pois describing the predicted relative change in the count of ihm4pain_num.\n\n\nCode\nm1_hurdle_pois_coef |&gt; \n  filter(Type == \"count\") |&gt;\n  select(Group, Comparison, Estimate, Conf.low, Conf.high) |&gt; \n  mutate(Estimate = round(Estimate, digits = 3),\n         Conf.low = round(Conf.low, digits = 3),\n         Conf.high = round(Conf.high, digits = 3)) |&gt;\n  rename(\"Relative change\" = Estimate,\n         \"95% CI Low\" = Conf.low,\n         \"95% CI High\" = Conf.high) |&gt;\n  flextable() |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  add_header_lines(values = \"Supplemental Table 2: Relative Change in Count of IHM Modalities Used for Pain\") |&gt;\n  autofit() |&gt;\n  add_footer_lines(values = \"Abbreviations: Assoc, associate’s; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; mo, months; NH, Non-Hispanic; S, small; v., versus; yrs, years\", top = FALSE) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nSupplemental Table 2: Relative Change in Count of IHM Modalities Used for PainGroupComparisonRelative change95% CI Low95% CI High(Intercept)(Intercept)0.7490.4271.315AgeAge +10yrs0.8660.8250.910SexMale v. Female0.7750.6630.907Race/EthnicityHispanic v. NH White0.8290.6341.084Race/EthnicityNH Black v. NH White0.9080.6921.193Race/EthnicityOther v. NH White0.7360.5131.057EducationHS/GED v. &lt; HS1.2700.8441.913EducationSome College v. &lt; HS1.8941.2752.814EducationAssoc/Bach v. &lt; HS1.7721.1992.619EducationMasters/PhD v. &lt; HS1.9131.2362.959Family incomeFam income +$10,0001.0100.9971.024Proximity to metro areaM/S metro v. Non-metro1.0690.8381.364Proximity to metro areaL fringe metro v. Non-metro1.0580.8171.371Proximity to metro areaL central metro v. Non-metro1.2410.9711.587Number of pain locationsPain locations +11.1021.0411.167Pain limiting life or workPain limit some days v. Never1.2090.9911.476Pain limiting life or workPain limit most days v. Never1.3151.0341.672Pain limiting life or workPain limit every day v. Never1.1800.9161.520Opioid use past 3 moOpioids some days v. Never0.8880.6231.265Opioid use past 3 moOpioids most days v. Never1.2650.7462.147Opioid use past 3 moOpioids every day v. Never0.7670.5291.111PHQ-8PHQ-8 +5 units0.9010.8340.973Abbreviations: Assoc, associate’s; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; mo, months; NH, Non-Hispanic; S, small; v., versus; yrs, years\n\n\nIn examining the effects table above, I will summarize the effect of Age using two fictional cases: Han Solo and Luke Skywalker\nPer the guidance by Yoshida, given the response is positive (among those who have positive counts for engaging in IHM modalities), the average count is 0.701 (Intercept).\nSuppose Han Solo and Luke Skywalker 1) are both male and of the same race and ethnicity; 2) have the same level of education; 3) reside in rural areas; 4) rated similar challenges related to pain interfering with life or work in the past 3 months; 5) used the same amount of opioids for chronic pain within the past 3 months; 6) reported the same score on the PHQ-8; 7) reported the same number of locations where they were bothered at least “a little” by pain in the past three months; and 8) have the same family income. However, Han Solo is 10 years older than Luke Skywalker. In this scenario, m1_hurdle_pois predicts that the number of IHM modalities that Han Solo engaged in for pain in the past 3 months will be .866 times that of Luke’s (13.4% lower than Luke’s).\nThe 95% confidence interval for this estimated effect of age10 on ihm4pain_num is (0.825, 0.910). This confidence interval does not include one. Thus, holding all other variables constant, being 10 years older is associated with lower counts of IHM modalities used to manage pain in the past three months.\n\n\n6.9.3 Visual Summary of Odds of ihm4pain_num != 0\nTo visualize the effects of the covariates on odds of ihm4pain_num != 0, I first generated the m1_coef_non0 tibble, limited to the “non-zero” coefficients. I then used ggplot() to plot the effects. Education covariates are placed on a separate axis given their size to not obscure the other covariates.\n\n\nCode\nm1_coef_non0 &lt;- m1_hurdle_pois_coef |&gt; \n  filter(Type == \"non-zero\", Comparison != \"(Intercept)\", Group != \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\nm1_coef_non0educ &lt;- m1_hurdle_pois_coef |&gt; \n  filter(Type == \"non-zero\", Comparison != \"(Intercept)\", Group == \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\np1 &lt;- ggplot(m1_coef_non0, aes(x = Estimate, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Conf.high, xmin = Conf.low), linewidth = .5, \n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"aOR\",\n       y = \"\",\n       title = \"aOR of Engaging in ≥ 1 IHM Modality for Pain\") +\n  scale_x_continuous(breaks = seq(0,4,0.25))\n\np2 &lt;- ggplot(m1_coef_non0educ, aes(x = Estimate, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Conf.high, xmin = Conf.low), linewidth = .5,\n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"aOR\",\n       y = \"\") +\n  scale_x_continuous(breaks = seq(0,8,0.5))\n\np1/p2 + plot_layout(heights = c(5,1))\n\n\n\n\n\n\n\n6.9.4 Visual Summary of Estimated Relative Change in Count of ihm4pain_num\nTo visualize the effects of the covariates on the estimated relative change in count of ihm4pain_num, I first generated the m1_coef_count tibble, limited to the “count” coefficients. I then used ggplot() to plot the effects. Education covariates are placed on a separate axis given their size to not obscure the other covariates.\n\n\nCode\nm1_coef_count &lt;- m1_hurdle_pois_coef |&gt; \n  filter(Type == \"count\", Comparison != \"(Intercept)\", Group != \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\nm1_coef_count_educ &lt;- m1_hurdle_pois_coef |&gt; \n  filter(Type == \"count\", Comparison != \"(Intercept)\",\n         Group == \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\np1 &lt;- ggplot(m1_coef_count, aes(x = Estimate, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Conf.high, xmin = Conf.low), linewidth = .5, \n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"Relative Change in Count\",\n       y = \"\",\n       title = \"Relative Change in Count of IHM Modalities Used for Pain\",\n       subtitle = \"Assuming Engagement in &gt; 0 IHM Modalities\") +\n  scale_x_continuous(breaks = seq(0,7,0.25))\n\np2 &lt;- ggplot(m1_coef_count_educ, aes(x = Estimate, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Conf.high, xmin = Conf.low), linewidth = .5, \n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"Relative Change in Count\",\n       y = \"\") +\n  scale_x_continuous(breaks = seq(0,7,0.5))\n\np1/p2 + plot_layout(heights = c(5,1))"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#check-model-assumptions",
    "href": "NHISstudy2024-01-07GitHub.html#check-model-assumptions",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.10 Check Model Assumptions",
    "text": "6.10 Check Model Assumptions\nTo generate a residuals vs. fitted plot from m1_hurdle_pois, I used ggplot() and geom_point().\n\n\nCode\nggplot(m1_hurdle_pois_aug, aes(x = .fitted, y = .resid)) +\n    geom_point() +\n    labs(title = \"Residuals vs. Fitted `ihm4pain_num`\",\n         subtitle = \"Hurdle model with Poisson counts\")\n\n\n\n\n\nIn examining the plot above, I see no major issues of concern."
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#validating-m1_hurdle_pois",
    "href": "NHISstudy2024-01-07GitHub.html#validating-m1_hurdle_pois",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.11 Validating m1_hurdle_pois",
    "text": "6.11 Validating m1_hurdle_pois\n\n6.11.1 Fit Summary in Test Data\nTo validate m1_hurdle_pois in the projectb_si_test data, I performed the following to generate m1test_hurdle_pois_summary, a summary of fit statistics.\n\nI created m1test_hurdle_pois_aug as an augmentation of m1_hurdle_pois applied to the projectb_si_test data. This time I used mutate() to obtain .fitted and .resid values.\nI generated, \\(R^2\\), RMSE, and MAE values using the mets() function.\nI used group_by() and summarize() to pivot m1test_hurdle_pois_summary such that there would be one column for each fit statistic.\n\n\n\nCode\nm1test_hurdle_pois_aug &lt;- projectb_si_test |&gt;\n    mutate(\".fitted\" = predict(m1_hurdle_pois, type = \"response\"),\n           \".resid\" = resid(m1_hurdle_pois, type = \"response\"))\n\nm1test_hurdle_pois_summary &lt;-\n  mets(m1test_hurdle_pois_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_hurdle_pois\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1test_hurdle_pois_summary &lt;- m1test_hurdle_pois_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\n\n\n\n6.11.2 Comparing Fits in Datasets\nI then bound together m1_hurdle_pois_summary and m1test_hurdle_pois_summary into m1_summaryfinal to present a table comparing the \\(R^2\\), RMSE, and MAE values from the training and testing data.\n\n\nCode\nm1_summaryfinal &lt;- bind_rows(m1_hurdle_pois_summary, \n                             m1test_hurdle_pois_summary) |&gt;\n  mutate(Sample = c(\"Training\", \"Testing\"))\n\nm1_summaryfinal |&gt; select(Sample, R2, RMSE, MAE) |&gt;\n  flextable() |&gt;\n  colformat_double(digits = 4) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nSampleR2RMSEMAETraining0.11820.80690.6137Testing0.00010.90670.6929\n\n\nIn examining the table above, it appears the model does not perform as well in the testing data given the lower \\(R^2\\) (0.0001 vs. 0.1182). m1_hurdle_pois also has higher RMSE and MAE in the testing data.\n\n\n6.11.3 Table Comparing Observed and Predicted Counts\nTo further explore the accuracy of m1_hurdle_pois, I created a table (m1_countsum) summarizing the observed and expected counts from the testing and training datasets as well as their respective m1_hurdle_pois applications.\n\n\nCode\nm1_countsum &lt;- tibble(Source = c(\"Training data observations\", \n                                 \"m1_hurdle_pois in training\", \n                                 \"Test data observations\", \n                                 \"m1_hurdle_pois in test\"),\n                      ZeroIHM = c(sum(projectb_si_train$ihm4pain_num == 0),\n                                  round(sum(predict(m1_hurdle_pois, \n                                                    type = \"prob\")[,1]),0),\n                                  sum(projectb_si_test$ihm4pain_num == 0),\n                                  round(sum(predict(m1_hurdle_pois, \n                                                    newdata = projectb_si_test, \n                                                    type = \"prob\")[,1]),0)),\n                      OneIHM = c(sum(projectb_si_train$ihm4pain_num == 1),\n                                 round(sum(predict(m1_hurdle_pois, \n                                                   type = \"prob\")[,2]),0),\n                                 sum(projectb_si_test$ihm4pain_num == 1),\n                                 round(sum(predict(m1_hurdle_pois, \n                                                   newdata = projectb_si_test, \n                                                   type = \"prob\")[,2]),0)),\n                      TwoIHM = c(sum(projectb_si_train$ihm4pain_num == 2),\n                                 round(sum(predict(m1_hurdle_pois, \n                                                   type = \"prob\")[,3]),0),\n                                 sum(projectb_si_test$ihm4pain_num == 2),\n                                 round(sum(predict(m1_hurdle_pois, \n                                                   newdata = projectb_si_test, \n                                                   type = \"prob\")[,3]),0)),\n                      ThreeIHM = c(sum(projectb_si_train$ihm4pain_num == 3),\n                                   round(sum(predict(m1_hurdle_pois, \n                                                     type = \"prob\")[,4]),0),\n                                   sum(projectb_si_test$ihm4pain_num == 3),\n                                   round(sum(predict(m1_hurdle_pois, \n                                                     newdata = projectb_si_test, \n                                                     type = \"prob\")[,4]),0)),\n                      FourIHM = c(sum(projectb_si_train$ihm4pain_num == 4),\n                                  round(sum(predict(m1_hurdle_pois, \n                                                    type = \"prob\")[,5]),0),\n                                  sum(projectb_si_test$ihm4pain_num == 4),\n                                  round(sum(predict(m1_hurdle_pois, \n                                                    newdata = projectb_si_test, \n                                                    type = \"prob\")[,5]),0))) |&gt;\n  mutate(MoreThan4IHM = nrow(projectb_si_train) - (ZeroIHM + OneIHM + TwoIHM + ThreeIHM + FourIHM),\n         Total = (ZeroIHM + OneIHM + TwoIHM + ThreeIHM + \n                    FourIHM + MoreThan4IHM)) |&gt;\n  rename(\"0\" = ZeroIHM,\n         \"1\" = OneIHM,\n         \"2\" = TwoIHM,\n         \"3\" = ThreeIHM,\n         \"4\" = FourIHM,\n         \"&gt;4\" = MoreThan4IHM)\n\n\n\n\n6.11.4 Plot Comparing Observed and Predicted Counts\nTo facilitate a visual comparison, I generated m1_pivot and a pair of plots comparing observed vs. predicted values in the training and test samples.\n\n\nCode\nm1_pivot &lt;- m1_countsum |&gt;\n  select(-c(Total)) |&gt;\n  pivot_longer(!Source, names_to = \"Count\", values_to = \"Value\") |&gt;\n  mutate(Count = factor(Count, levels = c(\"0\", \"1\", \"2\", \"3\", \"4\", \"&gt;4\")))\n\nm1_pivot_train &lt;- m1_pivot |&gt;\n  filter(Source %in% c(\"Training data observations\", \n                       \"m1_hurdle_pois in training\")) |&gt;\n  mutate(Source = if_else(Source == \"Training data observations\", \n                          \"Observed\", \"Predicted\"),\n         Source = factor(Source, levels = c(\"Observed\", \"Predicted\")))\n\nm1_pivot_test &lt;- m1_pivot |&gt;\n  filter(Source %in% c(\"Test data observations\", \n                       \"m1_hurdle_pois in test\")) |&gt;\n  mutate(Source = if_else(Source == \"Test data observations\", \n                          \"Observed\", \"Predicted\"),\n         Source = factor(Source, levels = c(\"Observed\", \"Predicted\")))\n\np1 &lt;- ggplot(data = m1_pivot_train, aes(x = Count, y = Value, fill = Source)) +\n  geom_bar(stat = \"identity\", position = position_dodge(), alpha = 0.75) +\n  ylim(0, 2500) +\n  labs(x = \"Count of IHM Modalities\",\n       y = \"Number of Subjects\",\n       title = \"Training Data (n = 3557)\") + \n  theme(legend.position=\"bottom\",\n        legend.title = element_blank())\n\np2 &lt;- ggplot(data = m1_pivot_test, aes(x = Count, y = Value, fill = Source)) +\n  geom_bar(stat = \"identity\", position = position_dodge(), alpha = 0.75) +\n  ylim(0, 2500) +\n  labs(x = \"Count of IHM Modalities\",\n       y = \"Number of Subjects\",\n       title = \"Test Data (n = 3557)\") +\n  guides(fill=\"none\")\n\np1 + p2 +\n  plot_annotation(\"Comparing Observed v. Predicted Values in Weighted Hurdle Poisson Model\")\n\n\n\n\n\n\n\n\nSource01234&gt;4TotalTraining data observations2,2578113431163003,557m1_hurdle_pois in training2,329787312962583,557Test data observations2,2977913241073803,557m1_hurdle_pois in test2,354778303922463,557\n\n\nIn examining the plots above, while there is slightly greater deviation from the observed counts in the test data, it appears the model performs quite well in predicting each level of the count of ihm4pain_num in both the training and test datasets."
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#create-dataset",
    "href": "NHISstudy2024-01-07GitHub.html#create-dataset",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.1 Create Dataset",
    "text": "7.1 Create Dataset\nFor this model, the outcome was defined as engagement in nonpharmacologic modalities only (ie, engaging in IHM, a chronic pain self-management program, support groups, or physical, rehabilitative, occupational, or talk therapy while never using opioids) rather than opioids only (ie, using opioids on at least some days while not using any nonpharmacologic modalities). The already single-imputed data, projectb_si, were filtered to include the 3300 subjects engaging in either nonpharmacologic only or opioids only. With this new m2_dataset_si dataset, the outcome nonpharm_over_opioid was defined as 1 if “Nonpharm only” and 0 if “Opioids only.”\n\n\nCode\nm2_dataset_si &lt;- projectb_si |&gt;\n  filter(nonpharm_opioid %in% \n           c(\"Opioids only\", \"Nonpharm only\")) |&gt;\n  mutate(nonpharm_opioid = factor(nonpharm_opioid, \n                                  levels = c(\"Nonpharm only\", \n                                             \"Opioids only\")),\n         nonpharm_over_opioid = \n           if_else(nonpharm_opioid == \"Nonpharm only\", 1, 0))\n\nm2_dataset_si |&gt; tabyl(nonpharm_opioid, nonpharm_over_opioid)\n\n\n nonpharm_opioid   0    1\n   Nonpharm only   0 2790\n    Opioids only 510    0"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#create-survey-design-1",
    "href": "NHISstudy2024-01-07GitHub.html#create-survey-design-1",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.2 Create Survey Design",
    "text": "7.2 Create Survey Design\nI then used the svydesign() function to generate the survey design.\n\n\nCode\nnhis_des2 &lt;- svydesign(data = m2_dataset_si, id = ~ subject_id,\n                        weights = ~ wt_final, nest = TRUE)"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#total-population-represented-1",
    "href": "NHISstudy2024-01-07GitHub.html#total-population-represented-1",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.3 Total population represented",
    "text": "7.3 Total population represented\nThe following code details the steps taken to generate a combined Table 2.\n\n\nCode\ntotal_n2 &lt;- svytotal(~ one, nhis_des2, na.rm = FALSE) |&gt; as_tibble() |&gt;\n  mutate(Variable = \"Total, n\",\n         total = floor(total),\n         total = formatC(total, format = \"d\", big.mark = \",\"),\n         p.value = \"\") |&gt;\n  select(Variable, All = total, p.value)\n\n\n\n\nCode\nnonpharm_n &lt;- svyby(~ one, ~ nonpharm_opioid, nhis_des2, svytotal) |&gt; as_tibble() |&gt; filter(nonpharm_opioid == \"Nonpharm only\") |&gt; select(Nonpharm = one) |&gt;\n  mutate(Nonpharm = round(Nonpharm),\n         Nonpharm = formatC(Nonpharm, format = \"d\", big.mark = \",\"))\nopioids_n &lt;- svyby(~ one, ~ nonpharm_opioid, nhis_des2, svytotal) |&gt; as_tibble() |&gt; filter(nonpharm_opioid == \"Opioids only\") |&gt; select(Opioids = one) |&gt;\n  mutate(Opioids = round(Opioids),\n         Opioids = formatC(Opioids, format = \"d\", big.mark = \",\"))\ntotal_n2 &lt;- bind_cols(total_n2, nonpharm_n, opioids_n) |&gt;\n  mutate(All = as.character(All),\n         Nonpharm = as.character(Nonpharm),\n         Opioids = as.character(Opioids))\n\n\n\n\nCode\ntotal_n2 &lt;- total_n2 |&gt; select(Variable, All, Nonpharm, Opioids, p.value) \n\ntotal_n2 |&gt;\n  flextable() |&gt;\n  autofit() |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nVariableAllNonpharmOpioidsp.valueTotal, n22,707,27519,099,2163,608,059"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#crosstabulation-1",
    "href": "NHISstudy2024-01-07GitHub.html#crosstabulation-1",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.4 Crosstabulation",
    "text": "7.4 Crosstabulation\n\n\nCode\ntable2_cross &lt;- nhis_des2 |&gt;\n  tbl_svysummary(\n    include = c(age, sex, race_ethnicity, education, \n                fam_income1k, urban_rural, num_pain_locations,\n                painlimit_lifework, phq8total),\n    type = c(num_pain_locations = \"continuous\",\n             fam_income = \"continuous\"),\n    statistic = list(all_continuous()  ~ \"{mean}\",\n                     all_categorical() ~ \"{p}\"),\n    label = list(age ~ \"Age in years, mean (95% CI)\",\n                 sex ~ \"Sex, % (95% CI)\",\n                 race_ethnicity ~ \"Race/Ethnicity, % (95% CI)\",\n                 education ~ \"Education, % (95% CI)\",\n                 fam_income1k ~ \"Family income in $1000s, mean (95% CI)\",\n                 urban_rural ~ \"Proximity to metro area, % (95% CI)\",\n                 num_pain_locations ~ \"Number of pain locations, mean (95% CI)\",\n                 painlimit_lifework ~ \"Pain limiting life/work, % (95% CI)\",\n                 phq8total ~ \"PHQ-8 total, mean (95% CI)\"),\n    digits = list(all_continuous() ~ 1,\n                  all_categorical() ~ 1),\n    by = nonpharm_opioid) |&gt;\n  add_overall() |&gt;\n  add_ci(pattern = \"{stat} ({ci})\", \n         style_fun = list(all_categorical() ~ style_percent_1digit, \n                          all_continuous() ~ style_number_1digit),\n         statistic = list(all_categorical() ~ \"{conf.low}-{conf.high}\", \n                          all_continuous() ~ \"{conf.low}-{conf.high}\")) |&gt;\n  add_p(pvalue_fun = function(x) style_pvalue(x, digits = 3)) |&gt;\n  modify_header(label = \"Variable\",\n                stat_0 ~ \"All\",\n                stat_1 ~ \"Nonpharm\",\n                stat_2 ~ \"Opioids\",\n                p.value ~ \"p.value\")\n\ntable2_cross\n\n\n\n\n\n\n  \n    \n    \n      Variable\n      All1,2\n      Nonpharm1,2\n      Opioids1,2\n      p.value3\n    \n  \n  \n    Age in years, mean (95% CI)\n54.0 (53.2-54.7)\n53.0 (52.2-53.8)\n59.2 (57.6-60.8)\n&lt;0.001\n    Sex, % (95% CI)\n\n\n\n0.797\n        Female\n59.2 (57.1-61.3)\n59.4 (57.1-61.6)\n58.6 (53.0-63.9)\n\n        Male\n40.8 (38.7-42.9)\n40.6 (38.4-42.9)\n41.4 (36.1-47.0)\n\n    Race/Ethnicity, % (95% CI)\n\n\n\n0.221\n        NH White only\n74.3 (72.4-76.1)\n74.6 (72.6-76.6)\n72.6 (67.2-77.3)\n\n        Hispanic\n10.1 (8.91-11.5)\n10.0 (8.73-11.5)\n10.7 (7.59-14.8)\n\n        NH Black/African American only\n9.8 (8.60-11.1)\n9.2 (7.96-10.6)\n12.8 (9.77-16.5)\n\n        Other single and multiple races\n5.8 (4.82-6.92)\n6.1 (5.11-7.31)\n4.0 (1.84-8.57)\n\n    Education, % (95% CI)\n\n\n\n&lt;0.001\n        Less than high school\n12.1 (10.7-13.7)\n9.6 (8.25-11.2)\n25.0 (20.3-30.2)\n\n        High school graduate/GED\n26.7 (24.8-28.6)\n25.4 (23.5-27.5)\n33.4 (28.4-38.8)\n\n        Some college, no degree\n20.4 (18.8-22.2)\n20.6 (18.8-22.5)\n19.4 (15.4-24.2)\n\n        Associate's or bachelor's degree\n31.2 (29.4-33.1)\n33.7 (31.6-35.8)\n18.3 (14.8-22.4)\n\n        Master's, doctoral, or professional degree\n9.6 (8.54-10.7)\n10.6 (9.47-11.9)\n3.9 (2.47-6.07)\n\n    Family income in $1000s, mean (95% CI)\n68.5 (66.2-70.8)\n72.8 (70.3-75.4)\n45.6 (41.6-49.6)\n&lt;0.001\n    Proximity to metro area, % (95% CI)\n\n\n\n&lt;0.001\n        Nonmetropolitan\n18.0 (16.5-19.6)\n16.5 (15.0-18.2)\n25.9 (21.7-30.7)\n\n        Medium and small metro\n33.0 (31.1-35.0)\n32.8 (30.8-34.9)\n33.9 (28.9-39.3)\n\n        Large fringe metro\n22.1 (20.4-23.9)\n23.3 (21.5-25.3)\n15.7 (12.4-19.7)\n\n        Large central metro\n26.8 (25.0-28.8)\n27.3 (25.3-29.4)\n24.5 (19.8-29.8)\n\n    Number of pain locations, mean (95% CI)\n3.2 (3.2-3.3)\n3.2 (3.1-3.3)\n3.3 (3.2-3.5)\n0.086\n    Pain limiting life/work, % (95% CI)\n\n\n\n&lt;0.001\n        Never\n22.1 (20.5-23.8)\n24.2 (22.4-26.1)\n10.9 (8.13-14.5)\n\n        Some days\n38.5 (36.4-40.6)\n39.3 (37.1-41.5)\n34.3 (29.1-39.9)\n\n        Most days\n17.2 (15.8-18.8)\n16.9 (15.3-18.7)\n18.9 (15.3-23.1)\n\n        Every day\n22.2 (20.5-24.0)\n19.6 (17.9-21.5)\n36.0 (30.9-41.3)\n\n    PHQ-8 total, mean (95% CI)\n5.6 (5.3-5.8)\n5.4 (5.1-5.6)\n6.5 (5.9-7.2)\n&lt;0.001\n  \n  \n  \n    \n      1 Mean; %\n    \n    \n      2 CI = Confidence Interval\n    \n    \n      3 Wilcoxon rank-sum test for complex survey samples; chi-squared test with Rao & Scott’s second-order correction"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#assemble-table-2-tibble",
    "href": "NHISstudy2024-01-07GitHub.html#assemble-table-2-tibble",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.5 Assemble Table 2 Tibble",
    "text": "7.5 Assemble Table 2 Tibble\n\n\nCode\ntable2_cross &lt;- table2_cross |&gt; as.data.frame() |&gt; as_tibble()\n\ntable2_cross[is.na(table2_cross)] &lt;- \"\"\n\ntable2_cross$p.value &lt;- sub(\"0\\\\.\",\".\", table2_cross$p.value)\ntable2_cross$p.value &lt;- sub(\" \",\"\", table2_cross$p.value)\n\ntable2 &lt;- bind_rows(total_n2, table2_cross) |&gt;\n  rename(\"Weighted variable\" = Variable,\n         \"Combined groups\" = All,\n         \"Nonpharm only\" = Nonpharm,\n         \"Opioids only\" = Opioids,\n         \"P value\" = p.value)"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#print-table-2",
    "href": "NHISstudy2024-01-07GitHub.html#print-table-2",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.6 Print Table 2",
    "text": "7.6 Print Table 2\nI printed Table 2 using the flextable() function.\n\n\nCode\ntable2 |&gt; flextable() |&gt;\n  add_header_lines(values = \"Table 2: Socio-Demographic, Pain, and Mental Health Characteristics By Nonpharmacologic Modality Engagement\") |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  add_footer_lines(values = \"Abbreviations: CI, confidence interval; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; metro, metropolitan; NH, Non-Hispanic; Nonpharm, nonpharmacologic\", \n                   top = FALSE) |&gt;\n  padding(i = c(4:5, 7:10, 12:16, 19:22, 25:28), j = 1, \n          padding.left = 20) |&gt;\n  bold(i = c(1, 2, 3, 6, 11, 17:18, 23:24, 29), j = 1, bold = TRUE) |&gt;\n  flextable::footnote(i = c(2, 17, 23, 29), j = 5, \n                      ref_symbols = \"a\",\n                      value = as_paragraph(\"Wilcoxon rank-sum test for complex survey samples\")) |&gt;\n  flextable::footnote(i = c(3, 6, 11, 18, 24), \n                      j = 5,\n                      ref_symbols = \"b\",\n                      value = as_paragraph(\"Chi-squared test with Rao & Scott’s second-order correction\")) |&gt;\n  autofit(part = c(\"body\", \"header\"))\n\n\n\nTable 2: Socio-Demographic, Pain, and Mental Health Characteristics By Nonpharmacologic Modality EngagementWeighted variableCombined groupsNonpharm onlyOpioids onlyP valueTotal, n22,707,27519,099,2163,608,059Age in years, mean (95% CI)54.0 (53.2-54.7)53.0 (52.2-53.8)59.2 (57.6-60.8)&lt;.001aSex, % (95% CI).797bFemale59.2 (57.1-61.3)59.4 (57.1-61.6)58.6 (53.0-63.9)Male40.8 (38.7-42.9)40.6 (38.4-42.9)41.4 (36.1-47.0)Race/Ethnicity, % (95% CI).221bNH White only74.3 (72.4-76.1)74.6 (72.6-76.6)72.6 (67.2-77.3)Hispanic10.1 (8.91-11.5)10.0 (8.73-11.5)10.7 (7.59-14.8)NH Black/African American only9.8 (8.60-11.1)9.2 (7.96-10.6)12.8 (9.77-16.5)Other single and multiple races5.8 (4.82-6.92)6.1 (5.11-7.31)4.0 (1.84-8.57)Education, % (95% CI)&lt;.001bLess than high school12.1 (10.7-13.7)9.6 (8.25-11.2)25.0 (20.3-30.2)High school graduate/GED26.7 (24.8-28.6)25.4 (23.5-27.5)33.4 (28.4-38.8)Some college, no degree20.4 (18.8-22.2)20.6 (18.8-22.5)19.4 (15.4-24.2)Associate's or bachelor's degree31.2 (29.4-33.1)33.7 (31.6-35.8)18.3 (14.8-22.4)Master's, doctoral, or professional degree9.6 (8.54-10.7)10.6 (9.47-11.9)3.9 (2.47-6.07)Family income in $1000s, mean (95% CI)68.5 (66.2-70.8)72.8 (70.3-75.4)45.6 (41.6-49.6)&lt;.001aProximity to metro area, % (95% CI)&lt;.001bNonmetropolitan18.0 (16.5-19.6)16.5 (15.0-18.2)25.9 (21.7-30.7)Medium and small metro33.0 (31.1-35.0)32.8 (30.8-34.9)33.9 (28.9-39.3)Large fringe metro22.1 (20.4-23.9)23.3 (21.5-25.3)15.7 (12.4-19.7)Large central metro26.8 (25.0-28.8)27.3 (25.3-29.4)24.5 (19.8-29.8)Number of pain locations, mean (95% CI)3.2 (3.2-3.3)3.2 (3.1-3.3)3.3 (3.2-3.5).086aPain limiting life/work, % (95% CI)&lt;.001bNever22.1 (20.5-23.8)24.2 (22.4-26.1)10.9 (8.13-14.5)Some days38.5 (36.4-40.6)39.3 (37.1-41.5)34.3 (29.1-39.9)Most days17.2 (15.8-18.8)16.9 (15.3-18.7)18.9 (15.3-23.1)Every day22.2 (20.5-24.0)19.6 (17.9-21.5)36.0 (30.9-41.3)PHQ-8 total, mean (95% CI)5.6 (5.3-5.8)5.4 (5.1-5.6)6.5 (5.9-7.2)&lt;.001aAbbreviations: CI, confidence interval; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; metro, metropolitan; NH, Non-Hispanic; Nonpharm, nonpharmacologicaWilcoxon rank-sum test for complex survey samplesbChi-squared test with Rao & Scott’s second-order correction"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#fit-weighted-logistic-model-with-survey-weights",
    "href": "NHISstudy2024-01-07GitHub.html#fit-weighted-logistic-model-with-survey-weights",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.7 Fit Weighted Logistic Model with Survey Weights",
    "text": "7.7 Fit Weighted Logistic Model with Survey Weights\nI fit the model m2_lrm_wt with the lrm() function, defining weights with weights = wt_final.\nIn this analysis, I chose to predict the outcome nonpharm_over_opioid based on 9 variables: age, sex, race_ethnicity, education, fam_income1k urban_rural, num_pain_locations, painlimit_lifework, and phq8total.\n\n\nCode\nset.seed(19900317)\ndd &lt;- datadist(m2_dataset_si, adjto.cat = \"first\")\noptions(datadist = \"dd\")\n\nm2_lrm_wt &lt;- lrm(nonpharm_over_opioid ~ \n                age + sex + race_ethnicity + education +\n                               fam_income1k + urban_rural + num_pain_locations +\n                               painlimit_lifework + phq8total,\n                weights = wt_final, normwt = TRUE,\n              data = m2_dataset_si, x = TRUE, y = TRUE)\n\nm2_lrm_wt\n\n\nLogistic Regression Model\n\nlrm(formula = nonpharm_over_opioid ~ age + sex + race_ethnicity + \n    education + fam_income1k + urban_rural + num_pain_locations + \n    painlimit_lifework + phq8total, data = m2_dataset_si, x = TRUE, \n    y = TRUE, weights = wt_final, normwt = TRUE)\n\n\nSum of Weights by Response Category\n\n        0         1 \n 524.3515 2775.6485 \n\n                        Model Likelihood        Discrimination    Rank Discrim.    \n                              Ratio Test               Indexes          Indexes    \n Obs          3300    LR chi2     326.37        R2       0.161    C       0.737    \n  0            510    d.f.            18      R2(18,3300)0.089    Dxy     0.475    \n  1           2790    Pr(&gt; chi2) &lt;0.0001    R2(18,1323.1)0.208    gamma   0.475    \nSum of weights3300                              Brier    0.121    tau-a   0.124    \n max |deriv| 1e-07                                                                 \n\n                                                     Coef    S.E.   Wald Z\nIntercept                                             2.1393 0.3310  6.46 \nage                                                  -0.0212 0.0033 -6.50 \nsex=Male                                             -0.1856 0.1038 -1.79 \nrace_ethnicity=Hispanic                               0.2904 0.1785  1.63 \nrace_ethnicity=NH Black/African American only        -0.1415 0.1636 -0.87 \nrace_ethnicity=Other single and multiple races        0.4662 0.2511  1.86 \neducation=High school graduate/GED                    0.4940 0.1454  3.40 \neducation=Some college, no degree                     0.7391 0.1627  4.54 \neducation=Associate's or bachelor's degree            1.1555 0.1644  7.03 \neducation=Master's, doctoral, or professional degree  1.3719 0.2696  5.09 \nfam_income1k                                          0.0074 0.0013  5.54 \nurban_rural=Medium and small metro                    0.2832 0.1362  2.08 \nurban_rural=Large fringe metro                        0.6227 0.1623  3.84 \nurban_rural=Large central metro                       0.3709 0.1525  2.43 \nnum_pain_locations                                    0.0004 0.0411  0.01 \npainlimit_lifework=Some days                         -0.6143 0.1669 -3.68 \npainlimit_lifework=Most days                         -0.7064 0.1879 -3.76 \npainlimit_lifework=Every day                         -1.0145 0.1773 -5.72 \nphq8total                                            -0.0070 0.0097 -0.72 \n                                                     Pr(&gt;|Z|)\nIntercept                                            &lt;0.0001 \nage                                                  &lt;0.0001 \nsex=Male                                             0.0739  \nrace_ethnicity=Hispanic                              0.1038  \nrace_ethnicity=NH Black/African American only        0.3869  \nrace_ethnicity=Other single and multiple races       0.0634  \neducation=High school graduate/GED                   0.0007  \neducation=Some college, no degree                    &lt;0.0001 \neducation=Associate's or bachelor's degree           &lt;0.0001 \neducation=Master's, doctoral, or professional degree &lt;0.0001 \nfam_income1k                                         &lt;0.0001 \nurban_rural=Medium and small metro                   0.0376  \nurban_rural=Large fringe metro                       0.0001  \nurban_rural=Large central metro                      0.0150  \nnum_pain_locations                                   0.9913  \npainlimit_lifework=Some days                         0.0002  \npainlimit_lifework=Most days                         0.0002  \npainlimit_lifework=Every day                         &lt;0.0001 \nphq8total                                            0.4712"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#numeric-summary-of-coefficients-m2_coef_wt",
    "href": "NHISstudy2024-01-07GitHub.html#numeric-summary-of-coefficients-m2_coef_wt",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.8 Numeric Summary of Coefficients (m2_coef_wt)",
    "text": "7.8 Numeric Summary of Coefficients (m2_coef_wt)\nThe following code generates a numeric summary of coefficients from the model and adds meaningful labels for comparison.\n\n\nCode\nm2_coef_wt &lt;- summary(m2_lrm_wt, conf.int = 0.95) |&gt; as_tibble() |&gt;\n  filter(Type == 2) |&gt;\n  mutate(Group = c(\"Age\", \"Family income\",\n                   \"Number of pain locations\",\n                   \"PHQ-8\", \n                   \"Sex\", \n                   \"Race/Ethnicity\", \"Race/Ethnicity\", \"Race/Ethnicity\",\n                   \"Education\", \"Education\", \n                   \"Education\", \"Education\", \n                   \"Proximity to metro area\", \"Proximity to metro area\",\n                   \"Proximity to metro area\", \n                   \"Pain limiting life or work\", \n                   \"Pain limiting life or work\",\n                   \"Pain limiting life or work\"),\n         Comparison = c(\"Age 69 v. 46\", \n                        \"Family income $85k v. $22k\",\n                        \"4 pain locations v. 2\",\n                        \"PHQ-8 score 8 v. 1\",\n                        \"Male v. Female\", \n                        \"Hispanic v. NH White\",\n                        \"NH Black v. NH White\",\n                        \"Other v. NH White\",\n                        \"HS/GED v. &lt; HS\", \n                        \"Some College v. &lt; HS\", \n                        \"Assoc/Bach v. &lt; HS\",\n                        \"Masters/PhD v. &lt; HS\", \n                        \"M/S metro v. Non-metro\", \n                        \"L fringe metro v. Non-metro\",\n                        \"L central metro v. Non-metro\", \n                        \"Pain limit some days v. Never\", \n                        \"Pain limit most days v. Never\",\n                        \"Pain limit every day v. Never\"),\n         Effect = as.numeric(Effect)) |&gt;\n  rename(Lower0.95 = \"Lower 0.95\", Upper0.95 = \"Upper 0.95\") |&gt;\n  mutate(Lower0.95 = as.numeric(Lower0.95), Upper0.95 = as.numeric(Upper0.95))\n\nm2_coef_wt &lt;- m2_coef_wt |&gt;\n  mutate(Comparison = factor(Comparison, levels = c(\"Age 69 v. 46\",\n                                                    \"Male v. Female\",\n                                                    \"Hispanic v. NH White\",\n                                                    \"NH Black v. NH White\",\n                                                    \"Other v. NH White\",\n                                                    \"HS/GED v. &lt; HS\", \n                                                    \"Some College v. &lt; HS\", \n                                                    \"Assoc/Bach v. &lt; HS\",\n                                                    \"Masters/PhD v. &lt; HS\", \n                                                    \"Family income $85k v. $22k\",\n                                                    \"M/S metro v. Non-metro\", \n                                                    \"L fringe metro v. Non-metro\",\n                                                    \"L central metro v. Non-metro\", \n                                                    \"4 pain locations v. 2\",\n                                                    \"Pain limit some days v. Never\", \n                                                    \"Pain limit most days v. Never\",\n                                                    \"Pain limit every day v. Never\",\n                                                    \"PHQ-8 score 8 v. 1\"))) |&gt;\n  arrange(Comparison)\n\n\nThe following code generates Supplemental Table 3, providing a numeric summmary of the coefficients from m2_lrm_wt.\n\n\nCode\nm2_coef_wt |&gt; \n  select(Group, Comparison, Effect, Lower0.95, Upper0.95) |&gt; \n  mutate(Effect = round(Effect, digits = 3),\n         Lower0.95 = round(Lower0.95, digits = 3),\n         Upper0.95 = round(Upper0.95, digits = 3)) |&gt;\n  rename(aOR = Effect,\n         \"95% CI Low\" = Lower0.95,\n         \"95% CI High\" = Upper0.95) |&gt;\n  flextable() |&gt; \n  bold(bold = TRUE, part = \"header\") |&gt;\n  add_header_lines(values = \"Supplemental Table 3: aOR of Engagement in Nonpharmacologic Only vs. Opioids Only\") |&gt;\n  autofit() |&gt;\n  add_footer_lines(values = \"Abbreviations: Assoc, associate’s; aOR, adjusted odds ratio; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; NH, Non-Hispanic; S, small; v., versus; yrs, years\", top = FALSE) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nSupplemental Table 3: aOR of Engagement in Nonpharmacologic Only vs. Opioids OnlyGroupComparisonaOR95% CI Low95% CI HighAgeAge 69 v. 460.6140.5300.711SexMale v. Female0.8310.6781.018Race/EthnicityHispanic v. NH White1.3370.9421.897Race/EthnicityNH Black v. NH White0.8680.6301.196Race/EthnicityOther v. NH White1.5940.9742.607EducationHS/GED v. &lt; HS1.6391.2322.179EducationSome College v. &lt; HS2.0941.5222.881EducationAssoc/Bach v. &lt; HS3.1762.3014.383EducationMasters/PhD v. &lt; HS3.9432.3256.687Family incomeFamily income $85k v. $22k1.5961.3521.883Proximity to metro areaM/S metro v. Non-metro1.3271.0161.734Proximity to metro areaL fringe metro v. Non-metro1.8641.3562.562Proximity to metro areaL central metro v. Non-metro1.4491.0751.954Number of pain locations4 pain locations v. 21.0010.8521.176Pain limiting life or workPain limit some days v. Never0.5410.3900.750Pain limiting life or workPain limit most days v. Never0.4930.3410.713Pain limiting life or workPain limit every day v. Never0.3630.2560.513PHQ-8PHQ-8 score 8 v. 10.9520.8341.088Abbreviations: Assoc, associate’s; aOR, adjusted odds ratio; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; NH, Non-Hispanic; S, small; v., versus; yrs, years"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#effects-plot-m2_coef_wt",
    "href": "NHISstudy2024-01-07GitHub.html#effects-plot-m2_coef_wt",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.9 Effects Plot (m2_coef_wt)",
    "text": "7.9 Effects Plot (m2_coef_wt)\nTo visualize the effects of the covariates on odds of nonpharm_over_opioid = 1, I used ggplot() to plot the effects. Education covariates are placed on a separate axis given their size to not obscure the other covariates.\n\n\nCode\nm2_coef_plot_wt &lt;- m2_coef_wt |&gt; \n  filter(Comparison != \"(Intercept)\", Group != \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\nm2_coef_plot_educ_wt &lt;- m2_coef_wt |&gt; \n  filter(Comparison != \"(Intercept)\", Group == \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\np1 &lt;- ggplot(m2_coef_plot_wt, aes(x = Effect, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Upper0.95, xmin = Lower0.95), linewidth = .5,\n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"aOR\",\n       y = \"\",\n       title = \"aOR of Using Nonpharmacologic Only vs. Opioids Only\") +\n  scale_x_continuous(breaks = seq(0,8,0.5))\n\np2 &lt;- ggplot(m2_coef_plot_educ_wt, aes(x = Effect, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Upper0.95, xmin = Lower0.95), linewidth = .5,\n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"aOR\",\n       y = \"\") +\n  scale_x_continuous(breaks = seq(0,8,0.5))\n\np1/p2 + plot_layout(heights = c(5,1))"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#summarizing-fit-m2_coef_wt",
    "href": "NHISstudy2024-01-07GitHub.html#summarizing-fit-m2_coef_wt",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.10 Summarizing Fit (m2_coef_wt)",
    "text": "7.10 Summarizing Fit (m2_coef_wt)\nTo summarize the fit of m2_lrm_wt, I simply entered m2_lrm_wt within the code. From the output, the Nagelkerke \\(R^2\\) is 0.161 and the unvalidated area under the ROC curve (aka c-statistic) is 0.737.\n\n\nCode\nm2_lrm_wt\n\n\nLogistic Regression Model\n\nlrm(formula = nonpharm_over_opioid ~ age + sex + race_ethnicity + \n    education + fam_income1k + urban_rural + num_pain_locations + \n    painlimit_lifework + phq8total, data = m2_dataset_si, x = TRUE, \n    y = TRUE, weights = wt_final, normwt = TRUE)\n\n\nSum of Weights by Response Category\n\n        0         1 \n 524.3515 2775.6485 \n\n                        Model Likelihood        Discrimination    Rank Discrim.    \n                              Ratio Test               Indexes          Indexes    \n Obs          3300    LR chi2     326.37        R2       0.161    C       0.737    \n  0            510    d.f.            18      R2(18,3300)0.089    Dxy     0.475    \n  1           2790    Pr(&gt; chi2) &lt;0.0001    R2(18,1323.1)0.208    gamma   0.475    \nSum of weights3300                              Brier    0.121    tau-a   0.124    \n max |deriv| 1e-07                                                                 \n\n                                                     Coef    S.E.   Wald Z\nIntercept                                             2.1393 0.3310  6.46 \nage                                                  -0.0212 0.0033 -6.50 \nsex=Male                                             -0.1856 0.1038 -1.79 \nrace_ethnicity=Hispanic                               0.2904 0.1785  1.63 \nrace_ethnicity=NH Black/African American only        -0.1415 0.1636 -0.87 \nrace_ethnicity=Other single and multiple races        0.4662 0.2511  1.86 \neducation=High school graduate/GED                    0.4940 0.1454  3.40 \neducation=Some college, no degree                     0.7391 0.1627  4.54 \neducation=Associate's or bachelor's degree            1.1555 0.1644  7.03 \neducation=Master's, doctoral, or professional degree  1.3719 0.2696  5.09 \nfam_income1k                                          0.0074 0.0013  5.54 \nurban_rural=Medium and small metro                    0.2832 0.1362  2.08 \nurban_rural=Large fringe metro                        0.6227 0.1623  3.84 \nurban_rural=Large central metro                       0.3709 0.1525  2.43 \nnum_pain_locations                                    0.0004 0.0411  0.01 \npainlimit_lifework=Some days                         -0.6143 0.1669 -3.68 \npainlimit_lifework=Most days                         -0.7064 0.1879 -3.76 \npainlimit_lifework=Every day                         -1.0145 0.1773 -5.72 \nphq8total                                            -0.0070 0.0097 -0.72 \n                                                     Pr(&gt;|Z|)\nIntercept                                            &lt;0.0001 \nage                                                  &lt;0.0001 \nsex=Male                                             0.0739  \nrace_ethnicity=Hispanic                              0.1038  \nrace_ethnicity=NH Black/African American only        0.3869  \nrace_ethnicity=Other single and multiple races       0.0634  \neducation=High school graduate/GED                   0.0007  \neducation=Some college, no degree                    &lt;0.0001 \neducation=Associate's or bachelor's degree           &lt;0.0001 \neducation=Master's, doctoral, or professional degree &lt;0.0001 \nfam_income1k                                         &lt;0.0001 \nurban_rural=Medium and small metro                   0.0376  \nurban_rural=Large fringe metro                       0.0001  \nurban_rural=Large central metro                      0.0150  \nnum_pain_locations                                   0.9913  \npainlimit_lifework=Some days                         0.0002  \npainlimit_lifework=Most days                         0.0002  \npainlimit_lifework=Every day                         &lt;0.0001 \nphq8total                                            0.4712"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#validating-m2_coef_wt",
    "href": "NHISstudy2024-01-07GitHub.html#validating-m2_coef_wt",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.11 Validating m2_coef_wt",
    "text": "7.11 Validating m2_coef_wt\nTo validate m2_lrm_wt, I first set a seed of 19900317 using the set.seed() function. I then used the validate() function with 40 bootstrap repetitions to generate validated (index.corrected) \\(R^2\\) and Dxy values. I stored this validated summary as val_m2 so that I could obtain specific values for a summary table below.\n\n\nCode\nset.seed(19900317)\nval_m2 &lt;- validate(m2_lrm_wt, method = \"boot\", B = 40)\n\n\n\n\nCode\nfit_report &lt;- tibble(Model = \"m2\") |&gt;\n  mutate(\"Validated R2\" = case_when(\n    Model == \"m2\" ~ val_m2[2,5]),\n    \"Validated C stat\" = case_when(\n      Model == \"m2\" ~  0.5 + (val_m2[1,5]/2)),\n    AIC = AIC(m2_lrm_wt),\n    BIC = BIC(m2_lrm_wt))\n    \nfit_report |&gt; \n  select(Model, \"Validated R2\", \"Validated C stat\", AIC, BIC) |&gt;\n  flextable() |&gt;\n  colformat_double(j = 2:3, digits = 3) |&gt;\n  colformat_double(j = 4:5, digits = 0) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nModelValidated R2Validated C statAICBICm20.1480.7282,6012,717"
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#references",
    "href": "NHISstudy2024-01-07GitHub.html#references",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.12 References",
    "text": "7.12 References\nFord, C. (2016). Getting Started with Hurdle Models. University of Virginia Library. https://data.library.virginia.edu/getting-started-with-hurdle-models/\nKroenke, K., Spitzer, R. L., & Williams, J. B. (2001). The PHQ-9: validity of a brief depression severity measure. Journal of General Internal Medicine, 16(9), 606-613. https://doi.org/10.1046/j.1525-1497.2001.016009606.x\nLöwe, B., Decker, O., Müller, S., Brähler, E., Schellberg, D., Herzog, W., & Herzberg, P. Y. (2008). Validation and standardization of the Generalized Anxiety Disorder Screener (GAD-7) in the general population. Medical Care, 46(3), 266-274. https://doi.org/10.1097/MLR.0b013e318160d093\nNational Center for Health Statistics. (2021, 2021-04-05). 2019 National Health Interview Survey. National Center for Health Statistics. https://www.cdc.gov/nchs/nhis/2019nhis.htm\nYoshida, K. (2014). Models for excess zeros using pscl package (Hurdle and zero-inflated regression models) and their interpretations. Retrieved May 1 from https://rpubs.com/kaz_yos/pscl-2\nZelaya, C. E., Dahlhamer, J. M., Lucas, J. W., & Connor, E. M. (2020). Chronic Pain and High-impact Chronic Pain Among U.S. Adults, 2019."
  },
  {
    "objectID": "NHISstudy2024-01-07GitHub.html#acknowledgments",
    "href": "NHISstudy2024-01-07GitHub.html#acknowledgments",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.13 Acknowledgments",
    "text": "7.13 Acknowledgments\n\nRobert J. Trager, DC (methodology, interpretation, literature review, first draft of introduction)\nJeffery A. Dusek, PhD (methodology, interpretation)\nThe National Center for Health Statistics (data collection)\nThomas E. Love, PhD (methodology instruction)"
  },
  {
    "objectID": "index.html#r-packages-and-setup",
    "href": "index.html#r-packages-and-setup",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "R Packages and Setup",
    "text": "R Packages and Setup\nI loaded the following packages to ensure I had the necessary data cleaning, analysis, and visualization tools needed for this project. Given the number of packages, I used conflict_prefer() to ensure functions would not interfere with each other. I also loaded uhred for use in plots.\n\n\nCode\nknitr::opts_chunk$set(comment = NA) # do not remove this\n\nlibrary(janitor)\nlibrary(gt)\nlibrary(naniar)\nlibrary(rms)\nlibrary(patchwork)\nlibrary(Epi)\nlibrary(car)\nlibrary(caret)\nlibrary(GGally)\nlibrary(pscl)\nlibrary(VGAM)\nlibrary(MASS)\nlibrary(flextable)\nlibrary(mosaic)\nlibrary(pROC)\nlibrary(ROCR)\nlibrary(gtsummary)\nlibrary(simputation)\nlibrary(ggrepel)\nlibrary(nnet)\nlibrary(kableExtra)\nlibrary(conflicted)\nlibrary(survey)\nlibrary(tidymodels)\nlibrary(tidyverse)\n\nconflict_prefer(\"select\", \"dplyr\")\nconflict_prefer(\"summarize\", \"dplyr\")\nconflict_prefer(\"filter\", \"dplyr\")\nconflict_prefer(\"mean\", \"base\")\nconflict_prefer(\"sum\", \"base\")\nconflict_prefer(\"vif\", \"car\")\nconflict_prefer(\"count\", \"dplyr\")\n\nuhred &lt;- \"#B70022\" \n\ntheme_set(theme_bw())"
  },
  {
    "objectID": "index.html#national-health-interview-survey",
    "href": "index.html#national-health-interview-survey",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "1.1 National Health Interview Survey",
    "text": "1.1 National Health Interview Survey\nThe data for this project comes from the 2019 National Health Interview Survey (NHIS) Website (National Center for Health Statistics, 2021). To obtain the data, I downloaded the CSV data file for the Sample Adult Interview to my local hard drive and unzipped the adult19.csv file.\nAccording to the National Health Interview Survey website:\nPurpose: “The main objective of the NHIS is to monitor the health of the United States population through the collection and analysis of data on a broad range of health topics. NHIS data are used widely throughout the Department of Health and Human Services (HHS) to monitor trends in illness and disability and to track progress toward achieving national health objectives. The data are also used by the public health research community for epidemiological and policy analysis of such timely issues as characterizing those with various health problems, determining barriers to accessing and using appropriate health care, and evaluating Federal health programs.”\nDesign: The NHIS is a cross-sectional household interview survey.\nTarget population: “The target population for the NHIS is the civilian non-institutionalized population residing within the 50 states and the District of Columbia at the time of the interview. Persons excluded from the universe are those with no fixed household address (e.g., homeless and/or transient persons not residing in shelters), active duty military personnel, and civilians living on military bases, persons in long-term care institutions (e.g., nursing homes for the elderly, hospitals for the chronically ill or physically or intellectually disabled, and wards for abused or neglected children), persons in correctional facilities (e.g., prisons or jails, juvenile detention centers, and halfway houses), and U.S. nationals living in foreign countries. While active-duty Armed Forces personnel cannot be sampled for inclusion in the survey, any civilians residing with Armed Forces personnel in non-military housing are eligible to be sampled.”\nSampling strategy: “To keep survey operations manageable, cost-effective, and timely, the NHIS uses geographically clustered sampling techniques to select the sample of dwelling units for the NHIS. The sample is designed in such a way that each month’s sample is nationally representative. Data collection on the NHIS is continuous, i.e., from January to December each year.”\n“One ‘sample adult’ aged 18 years or older and one ‘sample child’ aged 17 years or younger (if any children live in the household) are randomly selected from each household following a brief initial interview that identifies everyone who usually lives or stays in the household. Information about the sample adult is collected from the sample adult herself or himself unless she or he is physically or mentally unable to do so, in which case a knowledgeable proxy can answer for the sample adult. Information about the sample child is collected from a parent or adult who is knowledgeable about and responsible for the health care of the sample child. This respondent may or may not also be the sample adult.”\nData collection procedures: “The U.S. Census Bureau, under a contractual agreement, is the data collection agent for the NHIS. NHIS data are collected continuously throughout the year by Census interviewers. Nationally, about 750 interviewers (also called ‘Field Representatives’) are trained and directed by health survey supervisors in the U.S. Census Bureau Regional Offices to conduct interviews for NHIS.\nThe NHIS is conducted using computer-assisted personal interviewing. Face-to-face interviews are conducted in respondents’ homes, but follow-ups to complete interviews may be conducted over the telephone. A telephone interview may also be conducted when the respondent requests a telephone interview or when road conditions or travel distances would make it difficult to schedule a personal visit before the required completion date. In 2019, 34.3% of the Sample Adult interviews and 31.7% of the Sample Child interviews were conducted at least partially by telephone.”"
  },
  {
    "objectID": "index.html#the-subjects",
    "href": "index.html#the-subjects",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "1.2 The Subjects",
    "text": "1.2 The Subjects\nSubjects included in this project are adults (18 years and older) with chronic pain as defined by responding “most days” or “every day” to the survey question, “In the past 3 months, how often did you have pain?” (Zelaya et al., 2020)."
  },
  {
    "objectID": "index.html#loading-the-raw-data",
    "href": "index.html#loading-the-raw-data",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "3.1 Loading the Raw Data",
    "text": "3.1 Loading the Raw Data\nI ingested the adult19.csv raw data that I downloaded and unzipped from the 2019 National Health Interview Survey (NHIS) Website as projectb_raw using the read_csv() function.\n\n\nCode\nprojectb_raw &lt;- read_csv(\"data/adult19.csv\", show_col_types = FALSE)"
  },
  {
    "objectID": "index.html#cleaning-the-data",
    "href": "index.html#cleaning-the-data",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "3.2 Cleaning the Data",
    "text": "3.2 Cleaning the Data\nIn the following code, I created a new tibble, projectb_clean, limited to respondents who stated that they had pain on most days (PAIFRQ3M_A = 3) or everyday (PAIFRQ3M_A = 4) in response to the question PAIFRQ3M_A, “In the past three months, how often did you have pain?” as this matched the chronic pain definition reported by the National Center for Health Statistics (Zelaya et al., 2020). I also set the filter at PAIFRQ3M_A &lt; 7 to exclude responses that were missing, refused, non ascertained, or “don’t know” in response to the chronic pain question.\nAfter filtering to the chronic pain cohort, I selected the variables from the NHIS that I needed for this analysis.\n\n\nCode\nprojectb_clean &lt;- projectb_raw |&gt;\n  filter(PAIFRQ3M_A &gt;= 3 & PAIFRQ3M_A &lt; 7) |&gt; #Limited to pain on most days or everyday per Zelaya et al. (2020)\n  select(subject_id = HHX, age = AGEP_A, sex = SEX_A,\n         wt_final = WTFA_A,\n         education = EDUC_A, urban_rural = URBRRL,\n         painlimit_lifework = PAIWKLM3M_A,\n         anymeds12mo = RX12M_A, opioids12mo = OPD12M_A, opioids3mo = OPD3M_A, \n         opioids_chonpain3mo = OPDCHRONIC_A, opioid_freq3mo = OPDFREQ_A,\n         GAD71_A, GAD72_A, GAD73_A, GAD74_A, \n         GAD75_A, GAD76_A, GAD77_A, anx_severity = GADCAT_A,\n         back_pain = PAIBACK3M_A, upper_ext_pain = PAIULMB3M_A,\n         lower_ext_pain = PAILLMB3M_A, headache_migraine = PAIHDFC3M_A,\n         abd_pelvic_pain = PAIAPG3M_A, tooth_jaw_pain = PAITOOTH3M_A,\n         chiro = PAICHIRO_A, yoga_taichi = PAIYOGA_A, \n         massage = PAIMASSAGE_A, meditation = PAIMEDITAT_A,\n         race_ethnicity = HISPALLP_A, fam_income = FAMINCTC_A,\n         pt_rehab_ot = PAIPHYSTPY_A, talk_therapy = PAITALKTPY_A,\n         chron_pain_selfmgmt = PAIPROGRAM_A, peer_support_grp = PAIGROUP_A,\n         PHQ81_A, PHQ82_A, PHQ83_A, PHQ84_A, PHQ85_A, \n         PHQ86_A, PHQ87_A, PHQ88_A, dep_severity = PHQCAT_A)\n\n\n\n3.2.1 Recode Refused, Not Ascertained, and Don’t Know as Missing\nUsing the 2019 NHIS Codebook, I recoded all responses that were Refused, Not Ascertained, or Don’t Know as NA.\n\n\nCode\nprojectb_clean$age[projectb_clean$age &gt;= 97] &lt;- NA\nprojectb_clean$sex[projectb_clean$sex &gt;= 7] &lt;- NA\nprojectb_clean$education[projectb_clean$education &gt;= 97] &lt;- NA\nprojectb_clean$painlimit_lifework[projectb_clean$painlimit_lifework &gt;= 7] &lt;- NA\nprojectb_clean$anymeds12mo[projectb_clean$anymeds12mo &gt;= 7] &lt;- NA\nprojectb_clean$opioids12mo[projectb_clean$opioids12mo &gt;= 7] &lt;- NA\nprojectb_clean$opioids3mo[projectb_clean$opioids3mo &gt;= 7] &lt;- NA\nprojectb_clean$opioids_chonpain3mo[projectb_clean$opioids_chonpain3mo &gt;= 7] &lt;- NA\nprojectb_clean$opioid_freq3mo[projectb_clean$opioid_freq3mo &gt;= 7] &lt;- NA\nprojectb_clean$GAD71_A[projectb_clean$GAD71_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD72_A[projectb_clean$GAD72_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD73_A[projectb_clean$GAD73_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD74_A[projectb_clean$GAD74_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD75_A[projectb_clean$GAD75_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD76_A[projectb_clean$GAD76_A &gt;= 7] &lt;- NA\nprojectb_clean$GAD77_A[projectb_clean$GAD77_A &gt;= 7] &lt;- NA\nprojectb_clean$anx_severity[projectb_clean$anx_severity &gt;= 8] &lt;- NA\n\n\nprojectb_clean$back_pain[projectb_clean$back_pain &gt;= 7] &lt;- NA\nprojectb_clean$upper_ext_pain[projectb_clean$upper_ext_pain &gt;= 7] &lt;- NA\nprojectb_clean$lower_ext_pain[projectb_clean$lower_ext_pain &gt;= 7] &lt;- NA\nprojectb_clean$headache_migraine[projectb_clean$headache_migraine &gt;= 7] &lt;- NA\nprojectb_clean$abd_pelvic_pain[projectb_clean$abd_pelvic_pain &gt;= 7] &lt;- NA\nprojectb_clean$tooth_jaw_pain[projectb_clean$tooth_jaw_pain &gt;= 7] &lt;- NA\n\nprojectb_clean$chiro[projectb_clean$chiro &gt;= 7] &lt;- NA\nprojectb_clean$yoga_taichi[projectb_clean$yoga_taichi &gt;= 7] &lt;- NA\nprojectb_clean$massage[projectb_clean$massage &gt;= 7] &lt;- NA\nprojectb_clean$meditation[projectb_clean$meditation &gt;= 7] &lt;- NA\n\nprojectb_clean$race_ethnicity[projectb_clean$race_ethnicity &gt;= 97] &lt;- NA\n\nprojectb_clean$pt_rehab_ot[projectb_clean$pt_rehab_ot &gt;= 7] &lt;- NA\nprojectb_clean$talk_therapy[projectb_clean$talk_therapy &gt;= 7] &lt;- NA\nprojectb_clean$chron_pain_selfmgmt[projectb_clean$chron_pain_selfmgmt &gt;= 7] &lt;- NA\nprojectb_clean$peer_support_grp[projectb_clean$peer_support_grp &gt;= 7] &lt;- NA\n\nprojectb_clean$PHQ81_A[projectb_clean$PHQ81_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ82_A[projectb_clean$PHQ82_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ83_A[projectb_clean$PHQ83_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ84_A[projectb_clean$PHQ84_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ85_A[projectb_clean$PHQ85_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ86_A[projectb_clean$PHQ86_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ87_A[projectb_clean$PHQ87_A &gt;= 7] &lt;- NA\nprojectb_clean$PHQ88_A[projectb_clean$PHQ88_A &gt;= 7] &lt;- NA\nprojectb_clean$dep_severity[projectb_clean$dep_severity &gt;= 8] &lt;- NA\n\n\n\n\n3.2.2 Recode Binary Variables From (1 = Yes, 2 = No) to (1 = Yes, 0 = No)\nIn the following code, I recoded binary variables with initial responses in the format, 1 = Yes, 2 = No, to binary variables coded as 1 = Yes, 0 = No using the mutate() function, subtracting 2 from the variables chiro, yoga_taichi, massage, meditation, anymeds12mo, opioids12mo, opioids3mo, opioids_chonpain3mo, pt_rehab_ot, talk_therapy, chron_pain_selfmgmt, and peer_support_grp.\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(chiro = as.numeric(2 - chiro),\n         yoga_taichi = as.numeric(2 - yoga_taichi),\n         massage = as.numeric(2 - massage),\n         meditation = as.numeric(2 - meditation),\n         anymeds12mo = as.numeric(2 - anymeds12mo),\n         opioids12mo = as.numeric(2 - opioids12mo),\n         opioids3mo = as.numeric(2 - opioids3mo),\n         opioids_chonpain3mo = as.numeric(2 - opioids_chonpain3mo),\n         pt_rehab_ot = as.numeric(2 - pt_rehab_ot),\n         talk_therapy = as.numeric(2 - talk_therapy),\n         chron_pain_selfmgmt = as.numeric(2 - chron_pain_selfmgmt),\n         peer_support_grp = as.numeric(2 - peer_support_grp))\n\n\n\n\n3.2.3 Recode Categorical Variables to Meaningful Factors\nUsing the 2019 NHIS Codebook, I recoded the following variables to meaningful, ascending, and ordered factors using the mutate() and factor() functions. To make race_ethnicity 6 categories, I combined “NH Amer Indian Alaska Natv only” and “NH Amer Indian Alaska Natv and any other group” into “NH Amer Indian Alaska Natv.”\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(sex = factor(case_when(\n    sex == 1 ~ \"Male\",\n    sex == 2 ~ \"Female\"))) |&gt;\n  mutate(race_ethnicity = case_when(\n    race_ethnicity == 1 ~ \"Hispanic\",\n    race_ethnicity == 2 ~ \"NH White only\",\n    race_ethnicity == 3 ~ \"NH Black/African American only\",\n    race_ethnicity == 4 ~ \"NH Asian only\",\n    race_ethnicity == 5 ~ \"NH Amer Indian Alaska Natv\",\n    race_ethnicity == 6 ~ \"NH Amer Indian Alaska Natv\",\n    race_ethnicity == 7 ~ \"Other single and multiple races\")) |&gt;\n  mutate(race_ethnicity = \n           factor(race_ethnicity, \n                  levels = c(\"NH White only\", \n                             \"Hispanic\", \n                             \"NH Black/African American only\", \n                             \"NH Asian only\", \n                             \"NH Amer Indian Alaska Natv\",\n                             \"Other single and multiple races\"))) |&gt;\n  mutate(painlimit_lifework = case_when(\n    painlimit_lifework == 1 ~ \"Never\",\n    painlimit_lifework == 2 ~ \"Some days\",\n    painlimit_lifework == 3 ~ \"Most days\",\n    painlimit_lifework == 4 ~ \"Every day\")) |&gt;\n  mutate(painlimit_lifework = factor(painlimit_lifework, \n                                     levels = c(\"Never\", \n                                                \"Some days\", \n                                                \"Most days\", \n                                                \"Every day\"))) |&gt;\n  mutate(anx_severity = case_when(\n    anx_severity == 1 ~ \"None/Minimal\",\n    anx_severity == 2 ~ \"Mild\",\n    anx_severity == 3 ~ \"Moderate\",\n    anx_severity == 4 ~ \"Severe\")) |&gt;\n  mutate(anx_severity = factor(anx_severity, \n                               levels = c(\"None/Minimal\", \n                                          \"Mild\", \n                                          \"Moderate\", \n                                          \"Severe\"))) |&gt;\n  mutate(dep_severity = case_when(\n    dep_severity == 1 ~ \"None/Minimal\",\n    dep_severity == 2 ~ \"Mild\",\n    dep_severity == 3 ~ \"Moderate\",\n    dep_severity == 4 ~ \"Severe\")) |&gt;\n  mutate(dep_severity = factor(dep_severity, \n                               levels = c(\"None/Minimal\", \n                                          \"Mild\", \n                                          \"Moderate\", \n                                          \"Severe\"))) |&gt;\n  mutate(opioid_freq3mo = case_when(\n    opioid_freq3mo == 1 ~ \"Some days\",\n    opioid_freq3mo == 2 ~ \"Most days\",\n    opioid_freq3mo == 3 ~ \"Every day\")) |&gt;\n  mutate(opioid_freq3mo = factor(opioid_freq3mo, levels = c(\"Some days\", \n                                                        \"Most days\", \n                                                        \"Every day\"))) |&gt;\n  mutate(education = case_when(\n    education == 0 ~ \"Less than high school\",\n    education == 1 ~ \"Less than high school\",\n    education == 2 ~ \"Less than high school\",\n    education == 3 ~ \"High school graduate/GED\",\n    education == 4 ~ \"High school graduate/GED\",\n    education == 5 ~ \"Some college, no degree\",\n    education == 6 ~ \"Associate's or bachelor's degree\",\n    education == 7 ~ \"Associate's or bachelor's degree\",\n    education == 8 ~ \"Associate's or bachelor's degree\",\n    education == 9 ~ \"Master's, doctoral, or professional degree\",\n    education == 10 ~ \"Master's, doctoral, or professional degree\",\n    education == 11 ~ \"Master's, doctoral, or professional degree\")) |&gt;\n  mutate(education = factor(education, levels = c(\"Less than high school\", \n                                                  \"High school graduate/GED\",\n                                                  \"Some college, no degree\",\n                                                  \"Associate's or bachelor's degree\",\n                                                  \"Master's, doctoral, or professional degree\"))) |&gt;\n  mutate(urban_rural = case_when(\n    urban_rural == 1 ~ \"Large central metro\",\n    urban_rural == 2 ~ \"Large fringe metro\",\n    urban_rural == 3 ~ \"Medium and small metro\",\n    urban_rural == 4 ~ \"Nonmetropolitan\")) |&gt;\n  mutate(urban_rural = factor(urban_rural, levels = c(\"Nonmetropolitan\", \n                                                      \"Medium and small metro\", \n                                                      \"Large fringe metro\",\n                                                      \"Large central metro\")))\n\n\n\n\n3.2.4 Calculate GAD-7 total\nIn the following code, I recoded the original NHIS responses to conform to the actual scoring method for the GAD-7 (Löwe et al., 2008). I then calculated gad7total by adding each of the individual GAD-7 responses. Finally, to verify that gad7total was scored correctly, I summarized gad7total by anx_severity using favstats() to ensure that the values were in range. Interestingly, in the 2019 NHIS, it appears that they scored subjects even if they had missing individual items on the GAD-7.\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(GAD71_A = case_when(\n    GAD71_A == 1 ~ 0,\n    GAD71_A == 2 ~ 1,\n    GAD71_A == 3 ~ 2,\n    GAD71_A == 4 ~ 3)) |&gt;\n  mutate(GAD72_A = case_when(\n    GAD72_A == 1 ~ 0,\n    GAD72_A == 2 ~ 1,\n    GAD72_A == 3 ~ 2,\n    GAD72_A == 4 ~ 3)) |&gt;\n  mutate(GAD73_A = case_when(\n    GAD73_A == 1 ~ 0,\n    GAD73_A == 2 ~ 1,\n    GAD73_A == 3 ~ 2,\n    GAD73_A == 4 ~ 3)) |&gt;\n  mutate(GAD74_A = case_when(\n    GAD74_A == 1 ~ 0,\n    GAD74_A == 2 ~ 1,\n    GAD74_A == 3 ~ 2,\n    GAD74_A == 4 ~ 3)) |&gt;\n  mutate(GAD75_A = case_when(\n    GAD75_A == 1 ~ 0,\n    GAD75_A == 2 ~ 1,\n    GAD75_A == 3 ~ 2,\n    GAD75_A == 4 ~ 3)) |&gt;\n  mutate(GAD76_A = case_when(\n    GAD76_A == 1 ~ 0,\n    GAD76_A == 2 ~ 1,\n    GAD76_A == 3 ~ 2,\n    GAD76_A == 4 ~ 3)) |&gt;\n  mutate(GAD77_A = case_when(\n    GAD77_A == 1 ~ 0,\n    GAD77_A == 2 ~ 1,\n    GAD77_A == 3 ~ 2,\n    GAD77_A == 4 ~ 3)) |&gt;\n  mutate(gad7total = GAD71_A + GAD72_A + GAD73_A + \n           GAD74_A + GAD75_A + GAD76_A + GAD77_A)\n\nfavstats(gad7total ~ anx_severity, data = projectb_clean) |&gt; \n  flextable() |&gt;\n  colformat_double(digits = 2) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nanx_severityminQ1medianQ3maxmeansdnmissingNone/Minimal0.000.000.002.004.001.001.314,87027Mild5.005.006.008.009.006.601.311,14112Moderate10.0011.0012.0013.0014.0011.831.425744Severe15.0016.0018.0019.0021.0017.822.135085\n\n\n\n\n3.2.5 Calculate PHQ-8 Total\nIn the following code, I recoded the original NHIS responses to conform to the actual scoring method for the PHQ-8 (Kroenke et al., 2001). I then calculated phq8total by adding each of the individual PHQ-8 responses.\nFinally, to verify that phq8total was scored correctly, I summarized phq8total by dep_severity using favstats() to ensure that the values were in range. Interestingly, in the 2019 NHIS, it appears that they dropped “moderate-to-severe depression” as a value given that they did not use the full PHQ-9, and they scored subjects even if they had missing individual items on the PHQ-8.\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(PHQ81_A = case_when(\n    PHQ81_A == 1 ~ 0,\n    PHQ81_A == 2 ~ 1,\n    PHQ81_A == 3 ~ 2,\n    PHQ81_A == 4 ~ 3)) |&gt;\n  mutate(PHQ82_A = case_when(\n    PHQ82_A == 1 ~ 0,\n    PHQ82_A == 2 ~ 1,\n    PHQ82_A == 3 ~ 2,\n    PHQ82_A == 4 ~ 3)) |&gt;\n  mutate(PHQ83_A = case_when(\n    PHQ83_A == 1 ~ 0,\n    PHQ83_A == 2 ~ 1,\n    PHQ83_A == 3 ~ 2,\n    PHQ83_A == 4 ~ 3)) |&gt;\n  mutate(PHQ84_A = case_when(\n    PHQ84_A == 1 ~ 0,\n    PHQ84_A == 2 ~ 1,\n    PHQ84_A == 3 ~ 2,\n    PHQ84_A == 4 ~ 3)) |&gt;\n  mutate(PHQ85_A = case_when(\n    PHQ85_A == 1 ~ 0,\n    PHQ85_A == 2 ~ 1,\n    PHQ85_A == 3 ~ 2,\n    PHQ85_A == 4 ~ 3)) |&gt;\n  mutate(PHQ86_A = case_when(\n    PHQ86_A == 1 ~ 0,\n    PHQ86_A == 2 ~ 1,\n    PHQ86_A == 3 ~ 2,\n    PHQ86_A == 4 ~ 3)) |&gt;\n  mutate(PHQ87_A = case_when(\n    PHQ87_A == 1 ~ 0,\n    PHQ87_A == 2 ~ 1,\n    PHQ87_A == 3 ~ 2,\n    PHQ87_A == 4 ~ 3)) |&gt;\n  mutate(PHQ88_A = case_when(\n    PHQ88_A == 1 ~ 0,\n    PHQ88_A == 2 ~ 1,\n    PHQ88_A == 3 ~ 2,\n    PHQ88_A == 4 ~ 3)) |&gt;\n  mutate(phq8total = PHQ81_A + PHQ82_A + PHQ83_A + PHQ84_A + \n           PHQ85_A + PHQ86_A + PHQ87_A + PHQ88_A)\n\nfavstats(phq8total ~ dep_severity, data = projectb_clean) |&gt; \n  flextable() |&gt;\n  colformat_double(digits = 2) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\ndep_severityminQ1medianQ3maxmeansdnmissingNone/Minimal0.000.001.003.004.001.461.424,16334Mild5.005.006.008.009.006.661.401,58517Moderate10.0010.0011.0013.0014.0011.681.3974913Severe15.0016.0018.0020.0024.0018.322.805669\n\n\n\n\n3.2.6 Integrative Health and Medicine (IHM) Variables\nIn the following code, I performed the following steps to create the 5-level count outcome, ihm4pain_num, and the binary variable, ihm4pain_bin.\n\nFirst, I used the mutate() function to create ihm4pain_num as the sum of engaging in chiro, yoga_taichi, massage, or meditation to manage pain in the past 3 months.\nThen, I created the binary outcome, ihm4pain_bin, which was equal to 1 if ihm4pain_num &gt;= 1 and equal to 0 if ihm4pain_num == 0.\n\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(ihm4pain_num = chiro + yoga_taichi + massage + meditation,\n         ihm4pain_bin = case_when(ihm4pain_num &gt;= 1 ~ 1,\n                                  ihm4pain_num == 0 ~ 0))\n\n\n\n\n3.2.7 Opioid frequency\nTo create a single variable describing frequency of opioid use in the past 3 months to manage chronic pain, I performed the following steps:\n\nFirst, since 1) the opioid frequency question was only asked to subjects who were taking prescription medications and opioid medications and 2) subjects responding “No” to the prescription medication and opioid use questions would be assumed to have never taken opioids in the past 3 months, I coded opioid_freq3mo_final as equal to “Never” if the subject answered “No” to anymeds12mo, opioids12mo, opioids3mo, or opioids_chonpain3mo.\nNext, if subjects responded “Some days”, “Most days”, “Every day” to the opioid_freq3mo question, I coded the opioid_freq3mo_final variable as equal to that response.\nFinally, I coded opioid_freq3mo_final as a meaningfully ordered factor.\n\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(opioid_freq3mo_final = case_when(\n    anymeds12mo == 0|\n      opioids12mo == 0|\n      opioids3mo == 0|\n      opioids_chonpain3mo == 0 ~ \"Never\",\n    opioid_freq3mo %in% c(\"Some days\", \"Most days\", \"Every day\") ~ \n      opioid_freq3mo),\n  opioid_freq3mo_final = factor(opioid_freq3mo_final, \n                                levels = c(\"Never\",\n                                           \"Some days\",\n                                           \"Most days\",\n                                           \"Every day\")))\n\n\n\n\n3.2.8 Number of Pain Locations\nTo create a single variable quantifying the total number of locations in which subjects reported being bothered at least “a little” by pain in the past three months, I performed the following steps:\n\nI converted the 6 individual pain variables to binary variables such that 1 indicated being bothered at least “a little” (&gt;= 2), and 0 meant “Not at all.”\nI then calculated num_pain_locations as the sum of those binary variables, ignoring missingness using the rowSums() function.\nFinally, I used mutate() and if_else() to mark num_pain_locations as missing if all pain locations were missing.\n\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(back_pain = if_else(back_pain &gt;= 2, 1, 0),\n         upper_ext_pain = if_else(upper_ext_pain &gt;= 2, 1, 0),\n         lower_ext_pain = if_else(lower_ext_pain &gt;= 2, 1, 0),\n         headache_migraine = if_else(headache_migraine &gt;= 2, 1, 0),\n         abd_pelvic_pain = if_else(abd_pelvic_pain &gt;= 2, 1, 0),\n         tooth_jaw_pain = if_else(tooth_jaw_pain &gt;= 2, 1, 0))\n\nprojectb_clean$num_pain_locations &lt;- rowSums(projectb_clean[,c(\"back_pain\",\n                                             \"upper_ext_pain\",\n                                             \"lower_ext_pain\",\n                                             \"headache_migraine\",\n                                             \"abd_pelvic_pain\",\n                                             \"tooth_jaw_pain\")], na.rm=TRUE)\n\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(num_pain_locations = if_else(\n    is.na(back_pain) & is.na(upper_ext_pain) &\n      is.na(lower_ext_pain) & is.na(headache_migraine) &\n      is.na(abd_pelvic_pain) & is.na(tooth_jaw_pain), NA, num_pain_locations))\n\n\n\n\n3.2.9 Chronic Pain Treatment Category - SUPPORT\nIn the following code, I performed the following steps to create the 4-category outcome, pain_tx_type.\n\nFirst, I used the mutate() function to create support4pain_num as the sum of engaging in pt_rehab_ot, talk_therapy, chron_pain_selfmgmt, or peer_support_grp to manage pain in the past 3 months. In this case, SUPPORT stands for SUpportive, Physical, Psychological, Occupational, or Rehabilitative Therapies.\nNext, I created the binary outcome, support4pain_bin, which was equal to 1 if support4pain_num &gt;= 1 and equal to 0 if support4pain_num == 0.\nThen, I created the outcome variable pain_tx_type as equal to None, IHM only, SUPPORT only, or SUPPORT and IHM based on the the support4pain_num and ihm4pain_bin variables.\nFinally, I ensured pain_tx_type was coded as a factor using the factor function, with “None” as the reference category.\n\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(support4pain_num = pt_rehab_ot + talk_therapy + \n           chron_pain_selfmgmt + peer_support_grp,\n         support4pain_bin = case_when(support4pain_num &gt;= 1 ~ 1,\n                                  support4pain_num == 0 ~ 0),\n         pain_tx_type = case_when(\n           ihm4pain_bin == 0 & support4pain_bin == 0 ~ \"None\",\n           ihm4pain_bin == 1 & support4pain_bin == 0 ~ \"IHM only\",\n           ihm4pain_bin == 0 & support4pain_bin == 1 ~ \"SUPPORT only\",\n           ihm4pain_bin == 1 & support4pain_bin == 1 ~ \"SUPPORT and IHM\"),\n         pain_tx_type = factor(pain_tx_type, levels = c(\"None\", \n                                                        \"IHM only\", \n                                                        \"SUPPORT only\", \n                                                        \"SUPPORT and IHM\")))\n\n\n\n\n3.2.10 Chronic Pain Treatment Category - Opioids\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(nonpharm_opioid = case_when(\n    opioid_freq3mo_final == \"Never\" &\n      ihm4pain_bin == 0 & support4pain_bin == 0 ~ \"None\",\n    opioid_freq3mo_final %in% c(\"Some days\",\n                                \"Most days\",\n                                \"Every day\") &\n      ihm4pain_bin == 0 & support4pain_bin == 0 ~ \"Opioids only\",\n    opioid_freq3mo_final == \"Never\" &\n      (ihm4pain_bin == 1|support4pain_bin == 1) ~ \"Nonpharm only\",\n    opioid_freq3mo_final %in% c(\"Some days\",\n                                \"Most days\",\n                                \"Every day\") &\n      (ihm4pain_bin == 1|support4pain_bin == 1) ~ \"Opioids + Nonpharm\"),\n    nonpharm_opioid = factor(nonpharm_opioid, levels = c(\"None\", \n                                                     \"Opioids only\", \n                                                     \"Nonpharm only\", \n                                                     \"Opioids + Nonpharm\")))\n\n\nprojectb_clean |&gt; tabyl(nonpharm_opioid) |&gt;\n  adorn_pct_formatting() |&gt;\n  flextable() |&gt;\n  colformat_double(digits = 0) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nnonpharm_opioidnpercentvalid_percentNone3,20144.6%45.0%Opioids only5107.1%7.2%Nonpharm only2,79138.9%39.2%Opioids + Nonpharm6158.6%8.6%670.9%-\n\n\n\n\n3.2.11 IHM Category\n\n\nCode\nprojectb_clean &lt;- projectb_clean |&gt;\n  mutate(manualtx4pain = case_when(\n    chiro + massage &gt;= 1 ~ 1,\n    chiro + massage == 0 ~ 0),\n    mindbodytx4pain = case_when(\n      yoga_taichi + meditation &gt;= 1 ~ 1,\n      yoga_taichi + meditation  == 0 ~ 0),\n    ihm4pain_cat = case_when(\n      manualtx4pain + mindbodytx4pain == 0 ~ \"None\",\n      manualtx4pain == 1 & mindbodytx4pain == 0 ~ \"Manual only\",\n      manualtx4pain == 0 & mindbodytx4pain == 1 ~ \"Mind-body only\",\n      manualtx4pain == 1 & mindbodytx4pain == 1 ~ \"Manual and mind-body\"),\n    ihm4pain_cat = factor(ihm4pain_cat, levels = c(\"None\", \n                                                   \"Manual only\", \n                                                   \"Mind-body only\", \n                                                   \"Manual and mind-body\")))\nprojectb_clean |&gt; tabyl(ihm4pain_cat) |&gt;\n  adorn_pct_formatting() |&gt;\n  flextable() |&gt;\n  colformat_double(digits = 0) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nihm4pain_catnpercentvalid_percentNone4,58763.9%64.0%Manual only1,12515.7%15.7%Mind-body only81811.4%11.4%Manual and mind-body6338.8%8.8%210.3%-\n\n\n\n\n3.2.12 Selecting Variables I Used and Arranging the Tibble\nWith all variables recoded, I created the projectb_data tibble as a subset of projectb_clean, limited to the variables needed for analysis and subjects with complete data on the outcomes, ihm4pain_num and nonpharm_opioid. I also renamed opioid_freq3mo_final as opioid_freq3mo.\n\n\nCode\nprojectb_data &lt;- projectb_clean |&gt;\n  select(subject_id, age, sex, education, urban_rural,\n         painlimit_lifework, opioid_freq3mo = opioid_freq3mo_final,\n         gad7total, phq8total, num_pain_locations,\n         ihm4pain_num, race_ethnicity, fam_income, \n         nonpharm_opioid, ihm4pain_bin, ihm4pain_cat, wt_final) |&gt;\n  filter(!is.na(ihm4pain_num), !is.na(nonpharm_opioid))\n\n\n\n\n3.2.13 Working with Categorical Predictors\nTo examine distribution of categorical predictors, I used the tbl_summary() function to summarize the factor variables in projectb_data.\n\n\nCode\nprojectb_data |&gt; select(where(~ is.factor(.x))) |&gt;\n  tbl_summary() |&gt;\n  modify_header(label ~ \"**Variable**\") |&gt;\n  bold_labels()\n\n\n\n\n\n\n  \n    \n    \n      Variable\n      N = 7,1141\n    \n  \n  \n    sex\n\n        Female\n4,050 (57%)\n        Male\n3,063 (43%)\n        Unknown\n1\n    education\n\n        Less than high school\n870 (12%)\n        High school graduate/GED\n2,057 (29%)\n        Some college, no degree\n1,325 (19%)\n        Associate's or bachelor's degree\n2,193 (31%)\n        Master's, doctoral, or professional degree\n628 (8.9%)\n        Unknown\n41\n    urban_rural\n\n        Nonmetropolitan\n1,491 (21%)\n        Medium and small metro\n2,500 (35%)\n        Large fringe metro\n1,456 (20%)\n        Large central metro\n1,667 (23%)\n    painlimit_lifework\n\n        Never\n1,999 (28%)\n        Some days\n2,480 (35%)\n        Most days\n1,088 (15%)\n        Every day\n1,543 (22%)\n        Unknown\n4\n    opioid_freq3mo\n\n        Never\n5,991 (84%)\n        Some days\n342 (4.8%)\n        Most days\n133 (1.9%)\n        Every day\n648 (9.1%)\n    race_ethnicity\n\n        NH White only\n5,421 (76%)\n        Hispanic\n605 (8.5%)\n        NH Black/African American only\n743 (10%)\n        NH Asian only\n113 (1.6%)\n        NH Amer Indian Alaska Natv\n168 (2.4%)\n        Other single and multiple races\n64 (0.9%)\n    nonpharm_opioid\n\n        None\n3,201 (45%)\n        Opioids only\n510 (7.2%)\n        Nonpharm only\n2,790 (39%)\n        Opioids + Nonpharm\n613 (8.6%)\n    ihm4pain_cat\n\n        None\n4,554 (64%)\n        Manual only\n1,114 (16%)\n        Mind-body only\n815 (11%)\n        Manual and mind-body\n631 (8.9%)\n  \n  \n  \n    \n      1 n (%)\n    \n  \n\n\n\n\nIn examining the table above, I decided that the variable race_ethnicity required some collapsing of categories to ensure all categories contained at least 25 subjects in the testing and training samples. Therefore, I combined the race_ethnicity categories “NH Asian only”, “NH Amer Indian Alaska Natv”, and “Other single and multiple races” into “Other single and multiple races.”\n\n\nCode\nprojectb_data &lt;- projectb_data |&gt;\n  mutate(race_ethnicity = case_when(\n    race_ethnicity == \"NH White only\" ~ \"NH White only\",\n    race_ethnicity == \"Hispanic\" ~ \"Hispanic\",\n    race_ethnicity == \"NH Black/African American only\" ~ \n      \"NH Black/African American only\",\n    race_ethnicity == \"NH Asian only\" ~ \"Other single and multiple races\",\n    race_ethnicity == \"NH Amer Indian Alaska Natv\" ~ \n      \"Other single and multiple races\",\n    race_ethnicity == \"Other single and multiple races\" ~ \n      \"Other single and multiple races\")) |&gt;\n  mutate(race_ethnicity = factor(race_ethnicity, \n                                 levels = c(\"NH White only\", \n                                            \"Hispanic\", \n                                            \"NH Black/African American only\", \n                                            \"Other single and multiple races\")))"
  },
  {
    "objectID": "index.html#print-and-save-the-final-tibble",
    "href": "index.html#print-and-save-the-final-tibble",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "3.3 Print and Save The Final Tibble",
    "text": "3.3 Print and Save The Final Tibble\nNext, I verified that projectb_data was a tibble by printing it. In this tibble, I can confirm that:\n\nIt is a tibble and thus calling it prints only the first 10 rows.\nThe initial row tells me that this is a tibble and specifies its dimensions.\nI have a complete set of 7,114 NHIS subjects.\nI’ve included only 17 variables\n\n\n\nCode\nprojectb_data\n\n\n# A tibble: 7,114 × 17\n   subject_id   age sex    education              urban_rural painlimit_lifework\n   &lt;chr&gt;      &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt;                  &lt;fct&gt;       &lt;fct&gt;             \n 1 H007122       60 Male   Some college, no degr… Large cent… Some days         \n 2 H007736       78 Male   Some college, no degr… Large cent… Most days         \n 3 H022161       61 Male   High school graduate/… Large cent… Some days         \n 4 H045961       71 Female Associate's or bachel… Large cent… Never             \n 5 H025759       80 Female Some college, no degr… Large cent… Some days         \n 6 H003675       52 Female Master's, doctoral, o… Large cent… Most days         \n 7 H044229       25 Female Some college, no degr… Nonmetropo… Never             \n 8 H035660       37 Female Some college, no degr… Medium and… Some days         \n 9 H062584       65 Female Master's, doctoral, o… Medium and… Some days         \n10 H008849       26 Male   Less than high school  Nonmetropo… Some days         \n# ℹ 7,104 more rows\n# ℹ 11 more variables: opioid_freq3mo &lt;fct&gt;, gad7total &lt;dbl&gt;, phq8total &lt;dbl&gt;,\n#   num_pain_locations &lt;dbl&gt;, ihm4pain_num &lt;dbl&gt;, race_ethnicity &lt;fct&gt;,\n#   fam_income &lt;dbl&gt;, nonpharm_opioid &lt;fct&gt;, ihm4pain_bin &lt;dbl&gt;,\n#   ihm4pain_cat &lt;fct&gt;, wt_final &lt;dbl&gt;\n\n\n\n3.3.1 Save The Tibble\nFinally, I saved the final tibble, projectb_data, as an Rds file using the saveRDS() function.\n\n\nCode\nsaveRDS(projectb_data, file = \"data/projectb_data2024-01-07.Rds\")"
  },
  {
    "objectID": "index.html#defining-the-variables",
    "href": "index.html#defining-the-variables",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "4.1 Defining the Variables",
    "text": "4.1 Defining the Variables\n7,114 adults ages 18-85 with pain on most days or every day in the past 3 months and participating in the 2019 NHIS with data on the variables listed in the table below.\nFor each of my 17 selected variables, I have included the original variable name from the raw NHIS file.\n\n\n\n\n\n\n\n\n\n\nVariable\nRole\nType\nDescription (units/levels)\nOriginal NHIS Variable Name\n\n\n\n\nsubject_id\nidentifier\n-\nRandomly assigned household number unique to a household (H000074-H064180)\nHHX\n\n\nage\ninput\nquant\nAge of subject\nAGEP_A\n\n\nsex\ninput\n2-cat\nSex (Male or Female)\nSEX_A\n\n\neducation\ninput\n5-cat\nEducation level (Less than high school; High school graduate/GED; Some college, no degree; Associate’s or bachelor’s degree; Master’s, doctoral, or professional degree)\nEDUC_A\n\n\nurban_rural\ninput\n4-cat\nUrban-rural classification scheme for counties (Large central metro, Large fringe metro, Medium and small metro, Non-metropolitan)\nURBRRL\n\n\npainlimit_lifework\ninput\n4-cat\nHow often pain limited the subject’s life or work activities in the past 3 months (Never, Some days, Most days, or Every day)\nPAIWKLM3M_A\n\n\nopioid_freq3mo\ninput\n4-cat\nHow often the subject took a prescription opioid for chronic pain in the past three months (Never, Some days, Most days, or Every day)\nRX12M_A, OPD12M_A, OPD3M_A, OPDCHRONIC_A, OPDFREQ_A\n\n\ngad7total\ninput\nquant\nSubject’s total score on the GAD-7 anxiety scale (scale units 0 - 21)\nSUM(GAD71_A, GAD72_A, GAD73_A, GAD74_A, GAD75_A, GAD76_A, GAD77_A)\n\n\nphq8total\ninput\nquant\nSubject’s total score on the PHQ-8 depression scale (scale units 0 - 24)\nSUM(PHQ81_A, PHQ82_A, PHQ83_A, PHQ84_A, PHQ85_A, PHQ86_A, PHQ87_A, PHQ88_A)\n\n\nnum_pain_locations\ninput\nquant\nTotal number of locations in which subject reported being bothered at least “a little” by pain in the past three months (0 - 6)\nPAIBACK3M_A, PAIULMB3M_A, PAILLMB3M_A, PAIHDFC3M_A, PAIAPG3M_A, PAITOOTH3M_A\n\n\nihm4pain_num\noutcome\nquant\nHow many integrative health and medicine (IHM) modalities (i.e., chiropractic care, yoga/Tai Chi, meditation/guided imagery, or massage) subject used to manage pain in the past three months (0, 1, 2, 3, or 4)\nPAICHIRO_A, PAIYOGA_A, PAIMASSAGE_A, PAIMEDITAT_A\n\n\nrace_ethnicity\ninput\n4-cat\nRace and Hispanic origin (NH White only, Hispanic, NH Black/African American only, or Other single and multiple races)\nHISPALLP_A\n\n\nfam_income\ninput\nquant\nAdult annual family income\nFAMINCTC_A\n\n\nnonpharm_opioid\noutcome\n4-cat\nEngagement in one of the following categories of care for pain in the past three months (None, Opioids only, Nonpharm only, Opioids + Nonpharm).\nPAICHIRO_A, PAIYOGA_A, PAIMASSAGE_A, PAIMEDITAT_A, PAIPHYSTPY_A, PAITALKTPY_A, PAIPROGRAM_A, PAIGROUP_A, RX12M_A, OPD12M_A, OPD3M_A, OPDCHRONIC_A, OPDFREQ_A\n\n\nihm4pain_bin\noutcome\nquant\nWhether or not subject engaged in integrative health and medicine (IHM) modalities (i.e., chiropractic care, yoga/Tai Chi, meditation/guided imagery, or massage) to manage pain in the past three months (0, 1, 2, 3, or 4)\nPAICHIRO_A, PAIYOGA_A, PAIMASSAGE_A, PAIMEDITAT_A\n\n\nihm4pain_cat\noutcome\nquant\nWhich type of (IHM) modalities (i.e., chiropractic care, yoga/Tai Chi, meditation/guided imagery, or massage) subject used to manage pain in the past three months (None, Manual only, Mind-body only, Manual and mind-body)\nPAICHIRO_A, PAIYOGA_A, PAIMASSAGE_A, PAIMEDITAT_A\n\n\nwt_final\nweight\nquant\nWeight - Final Annual\nWTFA_A"
  },
  {
    "objectID": "index.html#numerical-description",
    "href": "index.html#numerical-description",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "4.2 Numerical Description",
    "text": "4.2 Numerical Description\nThe following code provides a numerical summary of all variables included in the projectb_data dataset using the describe() function from the Hmisc() library.\nIn examining the data, I confirm that:\n\nThere are no impossible values for age (i.e., &gt; 85 or &lt; 18), fam_income, or phq8total (i.e., &gt; 24 or &lt; 0).\nEach factor variable is in an appropriate ascending order.\nAll categorical and binary variables have at least 30 observations in each category.\n\n\n\nCode\ndescribe(projectb_data)\n\n\nprojectb_data \n\n 17  Variables      7114  Observations\n--------------------------------------------------------------------------------\nsubject_id \n       n  missing distinct \n    7114        0     7114 \n\nlowest : H000003 H000005 H000010 H000023 H000040\nhighest: H064153 H064154 H064160 H064165 H064180\n--------------------------------------------------------------------------------\nage \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7107        7       68        1    58.68    18.56       29       35 \n     .25      .50      .75      .90      .95 \n      48       60       71       80       85 \n\nlowest : 18 19 20 21 22, highest: 81 82 83 84 85\n--------------------------------------------------------------------------------\nsex \n       n  missing distinct \n    7113        1        2 \n                        \nValue      Female   Male\nFrequency    4050   3063\nProportion  0.569  0.431\n--------------------------------------------------------------------------------\neducation \n       n  missing distinct \n    7073       41        5 \n\nlowest : Less than high school                      High school graduate/GED                   Some college, no degree                    Associate's or bachelor's degree           Master's, doctoral, or professional degree\nhighest: Less than high school                      High school graduate/GED                   Some college, no degree                    Associate's or bachelor's degree           Master's, doctoral, or professional degree\n--------------------------------------------------------------------------------\nurban_rural \n       n  missing distinct \n    7114        0        4 \n                                                                               \nValue             Nonmetropolitan Medium and small metro     Large fringe metro\nFrequency                    1491                   2500                   1456\nProportion                  0.210                  0.351                  0.205\n                                 \nValue         Large central metro\nFrequency                    1667\nProportion                  0.234\n--------------------------------------------------------------------------------\npainlimit_lifework \n       n  missing distinct \n    7110        4        4 \n                                                  \nValue          Never Some days Most days Every day\nFrequency       1999      2480      1088      1543\nProportion     0.281     0.349     0.153     0.217\n--------------------------------------------------------------------------------\nopioid_freq3mo \n       n  missing distinct \n    7114        0        4 \n                                                  \nValue          Never Some days Most days Every day\nFrequency       5991       342       133       648\nProportion     0.842     0.048     0.019     0.091\n--------------------------------------------------------------------------------\ngad7total \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7033       81       22    0.946    3.977    5.245        0        0 \n     .25      .50      .75      .90      .95 \n       0        2        6       12       16 \n\nlowest :  0  1  2  3  4, highest: 17 18 19 20 21\n--------------------------------------------------------------------------------\nphq8total \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7007      107       25    0.985    5.058    5.674        0        0 \n     .25      .50      .75      .90      .95 \n       1        3        8       13       17 \n\nlowest :  0  1  2  3  4, highest: 20 21 22 23 24\n--------------------------------------------------------------------------------\nnum_pain_locations \n       n  missing distinct     Info     Mean      Gmd \n    7106        8        7    0.954    3.071    1.514 \n                                                    \nValue          0     1     2     3     4     5     6\nFrequency     82   850  1554  2034  1469   819   298\nProportion 0.012 0.120 0.219 0.286 0.207 0.115 0.042\n\nFor the frequency table, variable is rounded to the nearest 0\n--------------------------------------------------------------------------------\nihm4pain_num \n       n  missing distinct     Info     Mean      Gmd \n    7114        0        5    0.725    0.545   0.7913 \n                                        \nValue          0     1     2     3     4\nFrequency   4554  1602   667   223    68\nProportion 0.640 0.225 0.094 0.031 0.010\n\nFor the frequency table, variable is rounded to the nearest 0\n--------------------------------------------------------------------------------\nrace_ethnicity \n       n  missing distinct \n    7114        0        4 \n                                                                          \nValue                        NH White only                        Hispanic\nFrequency                             5421                             605\nProportion                           0.762                           0.085\n                                                                          \nValue       NH Black/African American only Other single and multiple races\nFrequency                              743                             345\nProportion                           0.104                           0.048\n--------------------------------------------------------------------------------\nfam_income \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7114        0     1225        1    57217    51257     8741    11000 \n     .25      .50      .75      .90      .95 \n   20110    40434    79000   125000   160000 \n\nlowest :      0      1      4      5     10, highest: 209500 210000 215341 218000 220000\n--------------------------------------------------------------------------------\nnonpharm_opioid \n       n  missing distinct \n    7114        0        4 \n                                                                   \nValue                    None       Opioids only      Nonpharm only\nFrequency                3201                510               2790\nProportion              0.450              0.072              0.392\n                             \nValue      Opioids + Nonpharm\nFrequency                 613\nProportion              0.086\n--------------------------------------------------------------------------------\nihm4pain_bin \n       n  missing distinct     Info      Sum     Mean      Gmd \n    7114        0        2    0.691     2560   0.3599   0.4608 \n\n--------------------------------------------------------------------------------\nihm4pain_cat \n       n  missing distinct \n    7114        0        4 \n                                                                         \nValue                      None          Manual only       Mind-body only\nFrequency                  4554                 1114                  815\nProportion                0.640                0.157                0.115\n                               \nValue      Manual and mind-body\nFrequency                   631\nProportion                0.089\n--------------------------------------------------------------------------------\nwt_final \n       n  missing distinct     Info     Mean      Gmd      .05      .10 \n    7114        0     7072        1     6986     4729     2341     2761 \n     .25      .50      .75      .90      .95 \n    3692     5837     8509    12623    16424 \n\nlowest : 733.485 738.112 762.185 763.376 822.349\nhighest: 45380.6 48013.1 49073.1 51662.9 78079.9\n--------------------------------------------------------------------------------"
  },
  {
    "objectID": "index.html#missingness",
    "href": "index.html#missingness",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "5.1 Missingness",
    "text": "5.1 Missingness\nFor this analysis, I assumed that the data were Missing at Random (MAR). Specifically, I assumed that the probability of a predictor missing data depended upon available information from the other predictors. For example, missing phq8total data may be related to other variables such as how much pain limited the subject’s life or work activities (painlimit_lifework) or race_ethnicity rather than their level of depression. In this situation, certain subjects may have been less likely to rate their anxiety based on their other characteristics. Thus, single imputation was warranted and required as missingness could be accounted for by studying variables with complete information. Missing NOT at Random (MNAR) was not an appropriate assumption here as there was no indication in the data or the 2019 NHIS Codebook that data were missing due to the variables themselves.\n\n5.1.1 Missing Values\nTo explore missingness within the projectb_data, I first used the n_miss() to quantify total missing values.\n\n\nCode\nprojectb_data |&gt; n_miss()\n\n\n[1] 249\n\n\n\n\n5.1.2 Missing Values Within Variables\nI then used the miss_var_summary() to determine which variables contained those 249 missing values. These variables included phq8total, gad7total, education, num_pain_locations, age, painlimit_lifework, and sex. Given the relative infrequency of missing data (highest = 1.50%), I expected that performing imputation would not alter subsequent models in any meaningful way.\n\n\nCode\nmiss_var_summary(projectb_data) |&gt;   flextable() |&gt;\n  colformat_double(digits = 2) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nvariablen_misspct_missphq8total1071.50gad7total811.14education410.58num_pain_locations80.11age70.10painlimit_lifework40.06sex10.01subject_id00.00urban_rural00.00opioid_freq3mo00.00ihm4pain_num00.00race_ethnicity00.00fam_income00.00nonpharm_opioid00.00ihm4pain_bin00.00ihm4pain_cat00.00wt_final00.00\n\n\n\n\n5.1.3 Missing Values within Cases\nFinally, to understand missing values within cases, I used the miss_case_table() function, which revealed that 159 cases were missing 1 value, 42 cases were missing 2 values, and 2 cases were missing 3 values\n\n\nCode\nmiss_case_table(projectb_data) |&gt; flextable() |&gt;\n  colformat_double(digits = 0) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nn_miss_in_casen_casespct_cases06,91197115922421320"
  },
  {
    "objectID": "index.html#generating-the-single-imputation-dataset",
    "href": "index.html#generating-the-single-imputation-dataset",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "5.2 Generating the Single Imputation Dataset",
    "text": "5.2 Generating the Single Imputation Dataset\nTo perform single imputation and generate the projectb_si dataset, I performed the following steps:\n\nSet a seed of 19900317 using the set.seed() function\nCreated projectb_si as a data.frame() derived from projectb_data\nUsed robust linear models to impute the quantitative variable gad7total based on the predictors with no missing values: urban_rural, race_ethnicity, fam_income and opioid_freq3mo,\nUsed robust linear models to impute the quantitative variable phq8total based on gad7total and the predictors with no missing values: urban_rural, race_ethnicity, fam_income, and opioid_freq3mo.\nUsed classification and regression trees (impute_cart()) to impute the categorical variable education based on the now complete variable, phq8total, and the other complete predictors.\nUsed predictive mean matching (impute_pmm()) to impute the quantitative integer variable num_pain_locations based on the now complete variable, education, and the other complete predictors as I wanted the imputation to be an integer.\nUsed robust linear models to impute the quantitative variable age based on the now complete variable, num_pain_locations, and the other complete predictors.\nUsed classification and regression trees to impute the categorical variable painlimit_lifework based on the now complete variable, age, and the other complete predictors.\nUsed classification and regression trees to impute the categorical variable sex based on the now complete variable, painlimit_lifework, and the other complete predictors.\nUsed the as_tibble() function to ensure projectb_si was stored as a tibble.\nI performed mutations to use the variable one in the survey design and transform covariates so that coefficients would represent meaningful increases in (1) age10 [10 unit increment increase in age]; (2) gad7total5unit [5-unit increases in GAD-7]; (3) phq8total5unit [5-unit increases in PHQ-8]; (4) fam_income10k [10,000 dollar increase in family income]; (5) fam_income10k [1,000 dollar increase in family income].\nI created a meaningful factor for the ihm4pain_bin_fact variable (i.e., IHM vs. No IHM)\nUsed the n_miss() function to verify that projectb_si contained no missing values.\n\n\n\nCode\nset.seed(19900317)\nprojectb_si &lt;- projectb_data |&gt; data.frame() |&gt;\n  impute_rlm(gad7total ~ urban_rural + race_ethnicity +\n               fam_income + opioid_freq3mo) |&gt;\n  impute_rlm(phq8total ~ gad7total + urban_rural + race_ethnicity +\n               fam_income + opioid_freq3mo) |&gt;\n  impute_cart(education ~ phq8total + gad7total + urban_rural + race_ethnicity +\n               fam_income + opioid_freq3mo) |&gt;\n  impute_pmm(num_pain_locations ~ phq8total + opioid_freq3mo + education + gad7total + \n               urban_rural + race_ethnicity + fam_income) |&gt;\n  impute_rlm(age ~ phq8total + num_pain_locations + opioid_freq3mo + education + \n               gad7total + urban_rural + race_ethnicity + \n               fam_income) |&gt;\n  impute_cart(painlimit_lifework ~ phq8total + age + num_pain_locations + \n                opioid_freq3mo + education + gad7total + \n                urban_rural + race_ethnicity + fam_income) |&gt;\n  impute_cart(sex ~ phq8total + painlimit_lifework + age + num_pain_locations + \n                opioid_freq3mo + education + gad7total + \n                urban_rural + race_ethnicity + fam_income) |&gt;\n  as_tibble() |&gt;\n  mutate(one = 1,\n         age10 = age/10,\n         gad7total5unit = gad7total/5,\n         phq8total5unit = phq8total/5,\n         fam_income10k = round(fam_income/10000, digits = 2),\n         fam_income1k = round(fam_income/1000, digits = 2),\n         ihm4pain_bin_fact = factor(case_when(ihm4pain_bin == 0 ~ \"No IHM\",\n                                              ihm4pain_bin == 1 ~ \"IHM\")))\nn_miss(projectb_si)\n\n\n[1] 0"
  },
  {
    "objectID": "index.html#table-1-bivariate-analysis",
    "href": "index.html#table-1-bivariate-analysis",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.1 Table 1: Bivariate Analysis",
    "text": "6.1 Table 1: Bivariate Analysis\nThe following code details the steps taken to generate Table 1.\n\n6.1.1 Create Survey Design\n\n\nCode\nnhis_des &lt;- svydesign(data = projectb_si, id = ~ subject_id,\n                        weights = ~ wt_final, nest = TRUE)\n\n\n\n\n6.1.2 Total population represented\n\n\nCode\ntotal_n &lt;- svytotal(~ one, nhis_des, na.rm = FALSE) |&gt; as_tibble() |&gt;\n  mutate(Variable = \"Total, n\",\n         total = floor(total),\n         total = formatC(total, format = \"d\", big.mark = \",\"),\n         p.value = \"\") |&gt;\n  select(Variable, All = total, p.value)\n\n\n\n\nCode\nihm_n &lt;- svyby(~ one, ~ ihm4pain_bin, nhis_des, svytotal) |&gt; as_tibble() |&gt; filter(ihm4pain_bin == 1) |&gt; select(IHM = one) |&gt;\n  mutate(IHM = round(IHM),\n         IHM = formatC(IHM, format = \"d\", big.mark = \",\"))\nno_ihm_n &lt;- svyby(~ one, ~ ihm4pain_bin, nhis_des, svytotal) |&gt; as_tibble() |&gt; filter(ihm4pain_bin == 0) |&gt; select(NoIHM = one) |&gt;\n  mutate(NoIHM = round(NoIHM),\n         NoIHM = formatC(NoIHM, format = \"d\", big.mark = \",\"))\ntotal_n &lt;- bind_cols(total_n, ihm_n, no_ihm_n) |&gt;\n  mutate(All = as.character(All),\n         IHM = as.character(IHM),\n         NoIHM = as.character(NoIHM))\n\n\n\n\nCode\ntotal_n &lt;- total_n |&gt; select(Variable, All, IHM, NoIHM, p.value) \n\ntotal_n |&gt;\n  flextable() |&gt;\n  autofit() |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nVariableAllIHMNoIHMp.valueTotal, n49,695,21217,610,40032,084,812\n\n\n\n\n6.1.3 Crosstabulation\n\n\nCode\nstyle_percent_1digit &lt;- purrr::partial(gtsummary::style_percent, digits = 1)\nstyle_number_1digit &lt;- purrr::partial(gtsummary::style_number, digits = 1)\n\ntable1_cross &lt;- nhis_des |&gt;\n  tbl_svysummary(\n    include = c(age, sex, race_ethnicity, education, \n                fam_income1k, urban_rural, num_pain_locations,\n                painlimit_lifework, opioid_freq3mo, phq8total),\n    type = c(num_pain_locations = \"continuous\",\n             fam_income = \"continuous\"),\n    statistic = list(all_continuous()  ~ \"{mean}\",\n                     all_categorical() ~ \"{p}\"),\n    label = list(age ~ \"Age in years, mean (95% CI)\",\n                 sex ~ \"Sex, % (95% CI)\",\n                 race_ethnicity ~ \"Race/Ethnicity, % (95% CI)\",\n                 education ~ \"Education, % (95% CI)\",\n                 fam_income1k ~ \"Family income in $1000s, mean (95% CI)\",\n                 urban_rural ~ \"Proximity to metro area, % (95% CI)\",\n                 num_pain_locations ~ \"Number of pain locations, mean (95% CI)\",\n                 painlimit_lifework ~ \"Pain limiting life/work, % (95% CI)\",\n                 opioid_freq3mo ~ \"Opioid use in past 3 months, % (95% CI)\",\n                 phq8total ~ \"PHQ-8 total, mean (95% CI)\"),\n    digits = list(all_continuous() ~ 1,\n                  all_categorical() ~ 1),\n    by = ihm4pain_bin_fact) |&gt;\n  add_overall() |&gt;\n  add_ci(pattern = \"{stat} ({ci})\", \n         style_fun = list(all_categorical() ~ style_percent_1digit, \n                          all_continuous() ~ style_number_1digit),\n         statistic = list(all_categorical() ~ \"{conf.low}-{conf.high}\", \n                          all_continuous() ~ \"{conf.low}-{conf.high}\")) |&gt;\n  add_p(pvalue_fun = function(x) style_pvalue(x, digits = 3)) |&gt;\n  modify_header(label = \"Variable\",\n                stat_0 ~ \"All\",\n                stat_1 ~ \"IHM\",\n                stat_2 ~ \"NoIHM\",\n                p.value ~ \"p.value\")\n\ntable1_cross\n\n\n\n\n\n\n  \n    \n    \n      Variable\n      All1,2\n      IHM1,2\n      NoIHM1,2\n      p.value3\n    \n  \n  \n    Age in years, mean (95% CI)\n55.4 (54.9-55.9)\n51.8 (51.0-52.6)\n57.3 (56.7-57.9)\n&lt;0.001\n    Sex, % (95% CI)\n\n\n\n&lt;0.001\n        Female\n54.9 (53.5-56.3)\n60.3 (57.9-62.6)\n52.0 (50.2-53.7)\n\n        Male\n45.1 (43.7-46.5)\n39.7 (37.4-42.1)\n48.0 (46.3-49.8)\n\n    Race/Ethnicity, % (95% CI)\n\n\n\n0.005\n        NH White only\n73.2 (71.9-74.5)\n74.8 (72.7-76.8)\n72.3 (70.6-73.9)\n\n        Hispanic\n10.5 (9.59-11.5)\n10.1 (8.79-11.6)\n10.7 (9.52-12.0)\n\n        NH Black/African American only\n11.0 (10.1-11.9)\n9.0 (7.73-10.5)\n12.1 (11.0-13.3)\n\n        Other single and multiple races\n5.3 (4.66-6.03)\n6.1 (5.01-7.33)\n4.9 (4.11-5.81)\n\n    Education, % (95% CI)\n\n\n\n&lt;0.001\n        Less than high school\n15.5 (14.4-16.7)\n8.8 (7.45-10.4)\n19.2 (17.7-20.7)\n\n        High school graduate/GED\n30.4 (29.1-31.7)\n25.2 (23.1-27.5)\n33.2 (31.6-34.9)\n\n        Some college, no degree\n19.1 (18.0-20.2)\n21.3 (19.4-23.4)\n17.8 (16.5-19.2)\n\n        Associate's or bachelor's degree\n28.2 (27.0-29.4)\n34.3 (32.2-36.6)\n24.8 (23.4-26.3)\n\n        Master's, doctoral, or professional degree\n6.9 (6.31-7.53)\n10.3 (9.11-11.6)\n5.0 (4.42-5.71)\n\n    Family income in $1000s, mean (95% CI)\n63.1 (61.6-64.6)\n71.7 (69.0-74.3)\n58.4 (56.7-60.2)\n&lt;0.001\n    Proximity to metro area, % (95% CI)\n\n\n\n&lt;0.001\n        Nonmetropolitan\n19.9 (18.8-21.0)\n16.1 (14.5-17.9)\n22.0 (20.6-23.5)\n\n        Medium and small metro\n33.9 (32.6-35.3)\n33.1 (30.9-35.3)\n34.4 (32.8-36.1)\n\n        Large fringe metro\n21.7 (20.5-22.9)\n23.6 (21.6-25.8)\n20.6 (19.2-22.1)\n\n        Large central metro\n24.4 (23.2-25.7)\n27.2 (25.1-29.4)\n22.9 (21.4-24.5)\n\n    Number of pain locations, mean (95% CI)\n3.1 (3.1-3.1)\n3.4 (3.3-3.4)\n3.0 (2.9-3.0)\n&lt;0.001\n    Pain limiting life/work, % (95% CI)\n\n\n\n&lt;0.001\n        Never\n28.2 (27.0-29.5)\n22.9 (21.1-24.9)\n31.1 (29.5-32.8)\n\n        Some days\n35.6 (34.2-36.9)\n38.6 (36.2-40.9)\n33.9 (32.2-35.6)\n\n        Most days\n15.4 (14.4-16.5)\n17.1 (15.2-19.0)\n14.5 (13.3-15.8)\n\n        Every day\n20.8 (19.7-22.0)\n21.5 (19.6-23.5)\n20.5 (19.1-21.9)\n\n    Opioid use in past 3 months, % (95% CI)\n\n\n\n0.026\n        Never\n84.8 (83.7-85.8)\n85.5 (83.7-87.2)\n84.4 (83.1-85.7)\n\n        Some days\n4.7 (4.12-5.38)\n5.1 (3.97-6.45)\n4.5 (3.86-5.27)\n\n        Most days\n1.8 (1.47-2.19)\n2.2 (1.63-2.91)\n1.6 (1.20-2.09)\n\n        Every day\n8.7 (7.91-9.53)\n7.2 (6.12-8.49)\n9.5 (8.47-10.6)\n\n    PHQ-8 total, mean (95% CI)\n5.3 (5.1-5.4)\n5.7 (5.4-6.0)\n5.0 (4.8-5.2)\n&lt;0.001\n  \n  \n  \n    \n      1 Mean; %\n    \n    \n      2 CI = Confidence Interval\n    \n    \n      3 Wilcoxon rank-sum test for complex survey samples; chi-squared test with Rao & Scott’s second-order correction\n    \n  \n\n\n\n\n\n\n6.1.4 Assemble Table 1 Tibble\n\n\nCode\ntable1_cross &lt;- table1_cross |&gt; as.data.frame() |&gt; as_tibble()\n\ntable1_cross[is.na(table1_cross)] &lt;- \"\"\n\ntable1_cross$p.value &lt;- sub(\"0\\\\.\",\".\", table1_cross$p.value)\ntable1_cross$p.value &lt;- sub(\" \",\"\", table1_cross$p.value)\n\ntable1 &lt;- bind_rows(total_n, table1_cross) |&gt;\n  rename(\"No IHM\" = NoIHM,\n         \"All with chronic pain\" = All,\n         \"Weighted variable\" = Variable,\n         \"P value\" = p.value)\n\n\n\n\n6.1.5 Print Table 1\nI used flextable to format Table 1.\n\n\nCode\ntable1 |&gt; flextable() |&gt;\n  add_header_lines(values = \"Table 1: Socio-Demographic, Pain, and Mental Health Characteristics by IHM Engagement\") |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  bold(i = c(1, 2, 3, 6, 11, 17, 18, 23:24, 29, 34), j = 1,  bold = TRUE) |&gt;\n  padding(i = c(4:5, 7:10, 12:16, 19:22, 25:28, 30:33), j = 1, padding.left = 20) |&gt;\n  add_footer_lines(values = \"Abbreviations: CI, confidence interval; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; IHM, integrative health and medicine; metro, metropolitan; NH, Non-Hispanic\",\n                   top = FALSE) |&gt;\n  flextable::footnote(i = c(2, 17, 23, 34), j = 5, \n                      ref_symbols = \"a\",\n                      value = as_paragraph(\"Wilcoxon rank-sum test for complex survey samples\")) |&gt;\n  flextable::footnote(i = c(3, 6, 11, 18, 24, 29), \n                      j = 5, \n                      ref_symbols = \"b\",\n                      value = as_paragraph(\"Chi-squared test with Rao & Scott’s second-order correction\")) |&gt;\n  autofit(part = c(\"body\", \"header\"))\n\n\n\nTable 1: Socio-Demographic, Pain, and Mental Health Characteristics by IHM EngagementWeighted variableAll with chronic painIHMNo IHMP valueTotal, n49,695,21217,610,40032,084,812Age in years, mean (95% CI)55.4 (54.9-55.9)51.8 (51.0-52.6)57.3 (56.7-57.9)&lt;.001aSex, % (95% CI)&lt;.001bFemale54.9 (53.5-56.3)60.3 (57.9-62.6)52.0 (50.2-53.7)Male45.1 (43.7-46.5)39.7 (37.4-42.1)48.0 (46.3-49.8)Race/Ethnicity, % (95% CI).005bNH White only73.2 (71.9-74.5)74.8 (72.7-76.8)72.3 (70.6-73.9)Hispanic10.5 (9.59-11.5)10.1 (8.79-11.6)10.7 (9.52-12.0)NH Black/African American only11.0 (10.1-11.9)9.0 (7.73-10.5)12.1 (11.0-13.3)Other single and multiple races5.3 (4.66-6.03)6.1 (5.01-7.33)4.9 (4.11-5.81)Education, % (95% CI)&lt;.001bLess than high school15.5 (14.4-16.7)8.8 (7.45-10.4)19.2 (17.7-20.7)High school graduate/GED30.4 (29.1-31.7)25.2 (23.1-27.5)33.2 (31.6-34.9)Some college, no degree19.1 (18.0-20.2)21.3 (19.4-23.4)17.8 (16.5-19.2)Associate's or bachelor's degree28.2 (27.0-29.4)34.3 (32.2-36.6)24.8 (23.4-26.3)Master's, doctoral, or professional degree6.9 (6.31-7.53)10.3 (9.11-11.6)5.0 (4.42-5.71)Family income in $1000s, mean (95% CI)63.1 (61.6-64.6)71.7 (69.0-74.3)58.4 (56.7-60.2)&lt;.001aProximity to metro area, % (95% CI)&lt;.001bNonmetropolitan19.9 (18.8-21.0)16.1 (14.5-17.9)22.0 (20.6-23.5)Medium and small metro33.9 (32.6-35.3)33.1 (30.9-35.3)34.4 (32.8-36.1)Large fringe metro21.7 (20.5-22.9)23.6 (21.6-25.8)20.6 (19.2-22.1)Large central metro24.4 (23.2-25.7)27.2 (25.1-29.4)22.9 (21.4-24.5)Number of pain locations, mean (95% CI)3.1 (3.1-3.1)3.4 (3.3-3.4)3.0 (2.9-3.0)&lt;.001aPain limiting life/work, % (95% CI)&lt;.001bNever28.2 (27.0-29.5)22.9 (21.1-24.9)31.1 (29.5-32.8)Some days35.6 (34.2-36.9)38.6 (36.2-40.9)33.9 (32.2-35.6)Most days15.4 (14.4-16.5)17.1 (15.2-19.0)14.5 (13.3-15.8)Every day20.8 (19.7-22.0)21.5 (19.6-23.5)20.5 (19.1-21.9)Opioid use in past 3 months, % (95% CI).026bNever84.8 (83.7-85.8)85.5 (83.7-87.2)84.4 (83.1-85.7)Some days4.7 (4.12-5.38)5.1 (3.97-6.45)4.5 (3.86-5.27)Most days1.8 (1.47-2.19)2.2 (1.63-2.91)1.6 (1.20-2.09)Every day8.7 (7.91-9.53)7.2 (6.12-8.49)9.5 (8.47-10.6)PHQ-8 total, mean (95% CI)5.3 (5.1-5.4)5.7 (5.4-6.0)5.0 (4.8-5.2)&lt;.001aAbbreviations: CI, confidence interval; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; IHM, integrative health and medicine; metro, metropolitan; NH, Non-HispanicaWilcoxon rank-sum test for complex survey samplesbChi-squared test with Rao & Scott’s second-order correction"
  },
  {
    "objectID": "index.html#splitting-into-training-and-testing-samples",
    "href": "index.html#splitting-into-training-and-testing-samples",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.2 Splitting into Training and Testing Samples",
    "text": "6.2 Splitting into Training and Testing Samples\nI then used the initial_split(), training(), and testing() functions to generate projectb_si_train (training data) and projectb_si_test (testing data), each with n = 3557 subjects.\n\n\nCode\nset.seed(19900317)\n\nprojectb_split &lt;- initial_split(projectb_si, prop = 0.5)\n\nprojectb_si_train &lt;- training(projectb_split)\nprojectb_si_test &lt;- testing(projectb_split)\n\nnrow(projectb_si_train)\n\n\n[1] 3557\n\n\nCode\nnrow(projectb_si_test)\n\n\n[1] 3557"
  },
  {
    "objectID": "index.html#scatterplot-matrix-and-collinearity",
    "href": "index.html#scatterplot-matrix-and-collinearity",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.3 Scatterplot Matrix and Collinearity",
    "text": "6.3 Scatterplot Matrix and Collinearity\n\n6.3.1 Scatterplot Matrix of Quantitative Predictors with Outcome\nTo investigate issues of collinearity prior to fitting models, I generated a series of scatterplot matrices using ggpairs(). First I assessed the relationship between the quantitative outcomes and ihm4pain_num.\n\n\nCode\ntemp1quant &lt;- projectb_si_train |&gt; \n  select(age10, phq8total5unit, num_pain_locations, fam_income10k, ihm4pain_num)\n\nggpairs(temp1quant, \n        title = \"Scatterplot Matrix of Quantitative Variables with Outcome\",\n        lower = list(combo = wrap(\"facethist\", bins = 20)))\n\n\n\n\n\nCode\nrm(temp1quant)\n\n\nIn examining the plot above, there do not appear to be any strong (i.e., &gt; 0.6) correlations between quantitative predictors and the outcome.\n\n\n6.3.2 Scatterplot Matrix of Categorical Variables with Outcome\nThen, I looked at the relationships between three of the categorical predictors and ihm4pain_num using ggpairs().\n\n\nCode\ntemp2cat1 &lt;- projectb_si_train |&gt; \n  select(sex, education, urban_rural, ihm4pain_num)\n\nggpairs(temp2cat1, \n        title = \"Scatterplot Matrix of Categorical Variables with Outcome\",\n        lower = list(combo = wrap(\"facethist\", bins = 20)))\n\n\n\n\n\nCode\nrm(temp2cat1)\n\n\n\n\n6.3.3 Scatterplot Matrix of Remaining Categorical Variables with Outcome\nFinally, I looked at the relationships between the two remaining categorical predictors and ihm4pain_num using ggpairs().\n\n\nCode\ntemp2cat2 &lt;- projectb_si_train |&gt; \n  select(painlimit_lifework, opioid_freq3mo, race_ethnicity, ihm4pain_num)\n\nggpairs(temp2cat2, \n        title = \"Scatterplot Matrix of Categorical Variables with Outcome\",\n        lower = list(combo = wrap(\"facethist\", bins = 20)))\n\n\n\n\n\nCode\nrm(temp2cat2)\n\n\nTo investigate this further, I calculated variance inflation factors (VIF) for each variable using the vif() function. Given the recommendation to look closely at any VIF value that is greater than 5, there does not seem to be an issue with collinearity in this full model as all VIF values are less than 1.4.\n\n\nCode\nvif(lm(ihm4pain_num ~ age10 + sex + education +\n                     urban_rural + painlimit_lifework + opioid_freq3mo +\n                     phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n                   data = projectb_si_train))\n\n\n                       GVIF Df GVIF^(1/(2*Df))\nage10              1.141259  1        1.068297\nsex                1.044327  1        1.021923\neducation          1.282077  4        1.031548\nurban_rural        1.129965  3        1.020573\npainlimit_lifework 1.294856  3        1.044007\nopioid_freq3mo     1.093742  3        1.015046\nphq8total5unit     1.396814  1        1.181869\nnum_pain_locations 1.242368  1        1.114616\nfam_income10k      1.305455  1        1.142565\nrace_ethnicity     1.179024  3        1.027828"
  },
  {
    "objectID": "index.html#considering-non-linear-terms",
    "href": "index.html#considering-non-linear-terms",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.4 Considering Non-Linear Terms",
    "text": "6.4 Considering Non-Linear Terms\nTo determine how best to potentially spend degrees of freedom on non-linear terms, I generated a Spearman \\(\\rho^2\\) plot using the plot() and spearman2()functions.\n\n\nCode\nplot(spearman2(ihm4pain_num ~ age10 + sex + education +\n                 urban_rural + painlimit_lifework + opioid_freq3mo +\n                 phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n               data = projectb_si_train))\n\n\n\n\n\nThe plot suggests that I consider, for example, an interaction between education and age10 as a non-linear term. However, given that 1) this model already contains 21 degrees of freedom, I opted not to include any non-linear terms."
  },
  {
    "objectID": "index.html#fitting-models-for-comparison",
    "href": "index.html#fitting-models-for-comparison",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.5 Fitting Models for Comparison",
    "text": "6.5 Fitting Models for Comparison\nI chose to compare the following 6 modeling approaches for m1 before choosing a final version.\n\nPoisson\nNegative binomial regression\nZero-inflated Poisson\nZero-inflated negative binomial\nHurdle with Poisson\nHurdle with negative binomial\n\nIn the following series of code chunks, I performed the following\n\nFit each model using the appropriate function\nGenerated a summary of fit statistics including \\(R^2\\), RMSE, MAE, AIC, and BIC using various functions including augment(), glance(), metric_set(), and predict().\nUsed functions including mutate(), group_by(), and summarize() to pivot the fit statistics from each model into a tidy tibble for combination later.\n\n\n6.5.1 Poisson (m1_pois)\n\n\nCode\nm1_pois &lt;- glm(ihm4pain_num ~ age10 + sex + education +\n                 urban_rural + painlimit_lifework + opioid_freq3mo +\n                 phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n                 data = projectb_si_train, family = \"poisson\")\n\nm1_pois_aug &lt;- augment(m1_pois, projectb_si_train, type.predict = \"response\")\nm1_pois_glance &lt;- glance(m1_pois)\n\nmets &lt;- metric_set(rsq, rmse, mae)\n\nm1_pois_summary &lt;-\n  mets(m1_pois_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_pois\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_pois_summary &lt;- m1_pois_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_pois_summary &lt;- bind_cols(m1_pois_summary, m1_pois_glance) |&gt;\n  select(-c(logLik))\nsummary(m1_pois)\n\n\n\nCall:\nglm(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, family = \"poisson\", data = projectb_si_train)\n\nCoefficients:\n                                                     Estimate Std. Error\n(Intercept)                                         -1.183452   0.162138\nage10                                               -0.131602   0.014550\nsexMale                                             -0.275074   0.047688\neducationHigh school graduate/GED                    0.273482   0.105837\neducationSome college, no degree                     0.656055   0.105739\neducationAssociate's or bachelor's degree            0.812995   0.101206\neducationMaster's, doctoral, or professional degree  0.960610   0.117198\nurban_ruralMedium and small metro                    0.023538   0.068379\nurban_ruralLarge fringe metro                        0.064347   0.075702\nurban_ruralLarge central metro                       0.251440   0.071819\npainlimit_lifeworkSome days                          0.205155   0.060383\npainlimit_lifeworkMost days                          0.256226   0.074951\npainlimit_lifeworkEvery day                          0.260852   0.075321\nopioid_freq3moSome days                              0.036669   0.099685\nopioid_freq3moMost days                              0.072801   0.166465\nopioid_freq3moEvery day                             -0.182815   0.091255\nphq8total5unit                                      -0.029353   0.024111\nnum_pain_locations                                   0.147973   0.018430\nfam_income10k                                        0.027594   0.004528\nrace_ethnicityHispanic                              -0.008236   0.082486\nrace_ethnicityNH Black/African American only        -0.203382   0.084115\nrace_ethnicityOther single and multiple races       -0.180839   0.107077\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -7.299 2.90e-13 ***\nage10                                                -9.045  &lt; 2e-16 ***\nsexMale                                              -5.768 8.01e-09 ***\neducationHigh school graduate/GED                     2.584 0.009766 ** \neducationSome college, no degree                      6.204 5.49e-10 ***\neducationAssociate's or bachelor's degree             8.033 9.51e-16 ***\neducationMaster's, doctoral, or professional degree   8.196 2.48e-16 ***\nurban_ruralMedium and small metro                     0.344 0.730672    \nurban_ruralLarge fringe metro                         0.850 0.395324    \nurban_ruralLarge central metro                        3.501 0.000464 ***\npainlimit_lifeworkSome days                           3.398 0.000680 ***\npainlimit_lifeworkMost days                           3.419 0.000629 ***\npainlimit_lifeworkEvery day                           3.463 0.000534 ***\nopioid_freq3moSome days                               0.368 0.712985    \nopioid_freq3moMost days                               0.437 0.661868    \nopioid_freq3moEvery day                              -2.003 0.045140 *  \nphq8total5unit                                       -1.217 0.223444    \nnum_pain_locations                                    8.029 9.82e-16 ***\nfam_income10k                                         6.094 1.10e-09 ***\nrace_ethnicityHispanic                               -0.100 0.920464    \nrace_ethnicityNH Black/African American only         -2.418 0.015610 *  \nrace_ethnicityOther single and multiple races        -1.689 0.091246 .  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 4380.5  on 3556  degrees of freedom\nResidual deviance: 3834.2  on 3535  degrees of freedom\nAIC: 6841.7\n\nNumber of Fisher Scoring iterations: 6\n\n\n\n\n6.5.2 Negative Binomial Regression (m1_nb)\n\n\nCode\nm1_nb &lt;- glm.nb(ihm4pain_num ~ age10 + sex + education +\n                 urban_rural + painlimit_lifework + opioid_freq3mo +\n                 phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n               data = projectb_si_train)\n\nm1_nb_aug &lt;- augment(m1_nb, projectb_si_train, type.predict = \"response\")\nm1_nb_glance &lt;- glance(m1_nb)\n\nm1_nb_summary &lt;-\n  mets(m1_nb_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_nb\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_nb_summary &lt;- m1_nb_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_nb_summary &lt;- bind_cols(m1_nb_summary, m1_nb_glance) |&gt;\n  select(-c(logLik))\nsummary(m1_nb)\n\n\n\nCall:\nglm.nb(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, data = projectb_si_train, \n    init.theta = 3.17461915, link = log)\n\nCoefficients:\n                                                      Estimate Std. Error\n(Intercept)                                         -1.1668329  0.1757511\nage10                                               -0.1340332  0.0160376\nsexMale                                             -0.2773424  0.0523129\neducationHigh school graduate/GED                    0.2712388  0.1116211\neducationSome college, no degree                     0.6551017  0.1123832\neducationAssociate's or bachelor's degree            0.8073798  0.1074271\neducationMaster's, doctoral, or professional degree  0.9724037  0.1264575\nurban_ruralMedium and small metro                    0.0128675  0.0743288\nurban_ruralLarge fringe metro                        0.0597904  0.0826633\nurban_ruralLarge central metro                       0.2508966  0.0786869\npainlimit_lifeworkSome days                          0.2030962  0.0661423\npainlimit_lifeworkMost days                          0.2544446  0.0825732\npainlimit_lifeworkEvery day                          0.2508763  0.0825099\nopioid_freq3moSome days                              0.0368888  0.1107997\nopioid_freq3moMost days                              0.0825150  0.1823585\nopioid_freq3moEvery day                             -0.1805531  0.0989803\nphq8total5unit                                      -0.0297361  0.0266371\nnum_pain_locations                                   0.1490524  0.0203585\nfam_income10k                                        0.0280486  0.0050948\nrace_ethnicityHispanic                               0.0009119  0.0910714\nrace_ethnicityNH Black/African American only        -0.2054487  0.0914048\nrace_ethnicityOther single and multiple races       -0.1778063  0.1179438\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -6.639 3.16e-11 ***\nage10                                                -8.357  &lt; 2e-16 ***\nsexMale                                              -5.302 1.15e-07 ***\neducationHigh school graduate/GED                     2.430  0.01510 *  \neducationSome college, no degree                      5.829 5.57e-09 ***\neducationAssociate's or bachelor's degree             7.516 5.66e-14 ***\neducationMaster's, doctoral, or professional degree   7.690 1.48e-14 ***\nurban_ruralMedium and small metro                     0.173  0.86256    \nurban_ruralLarge fringe metro                         0.723  0.46950    \nurban_ruralLarge central metro                        3.189  0.00143 ** \npainlimit_lifeworkSome days                           3.071  0.00214 ** \npainlimit_lifeworkMost days                           3.081  0.00206 ** \npainlimit_lifeworkEvery day                           3.041  0.00236 ** \nopioid_freq3moSome days                               0.333  0.73919    \nopioid_freq3moMost days                               0.452  0.65092    \nopioid_freq3moEvery day                              -1.824  0.06813 .  \nphq8total5unit                                       -1.116  0.26428    \nnum_pain_locations                                    7.321 2.45e-13 ***\nfam_income10k                                         5.505 3.68e-08 ***\nrace_ethnicityHispanic                                0.010  0.99201    \nrace_ethnicityNH Black/African American only         -2.248  0.02460 *  \nrace_ethnicityOther single and multiple races        -1.508  0.13167    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for Negative Binomial(3.1746) family taken to be 1)\n\n    Null deviance: 3741.6  on 3556  degrees of freedom\nResidual deviance: 3278.2  on 3535  degrees of freedom\nAIC: 6799.9\n\nNumber of Fisher Scoring iterations: 1\n\n              Theta:  3.175 \n          Std. Err.:  0.576 \n\n 2 x log-likelihood:  -6753.854 \n\n\n\n\n6.5.3 Zero-inflated Poisson (m1_zip)\n\n\nCode\nm1_zip &lt;- zeroinfl(ihm4pain_num ~ age10 + sex + education +\n                 urban_rural + painlimit_lifework + opioid_freq3mo +\n                 phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity, \n                 data = projectb_si_train)\n\nm1_zip_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_zip, type = \"response\"),\n           \".resid\" = resid(m1_zip, type = \"response\"))\n\nm1_zip_summary &lt;-\n  mets(m1_zip_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_zip\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_zip_summary &lt;- m1_zip_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_zip_summary &lt;- m1_zip_summary |&gt;\n  mutate(AIC = AIC(m1_zip),\n         BIC = BIC(m1_zip))\nsummary(m1_zip)\n\n\n\nCall:\nzeroinfl(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, data = projectb_si_train)\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.3529 -0.6426 -0.4657  0.5057  7.1811 \n\nCount model coefficients (poisson with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.415196   0.261037\nage10                                               -0.135764   0.024135\nsexMale                                             -0.210056   0.077075\neducationHigh school graduate/GED                    0.282405   0.167720\neducationSome college, no degree                     0.635911   0.165162\neducationAssociate's or bachelor's degree            0.619413   0.160655\neducationMaster's, doctoral, or professional degree  0.761770   0.176987\nurban_ruralMedium and small metro                    0.012747   0.111366\nurban_ruralLarge fringe metro                        0.063042   0.119672\nurban_ruralLarge central metro                       0.186333   0.115089\npainlimit_lifeworkSome days                          0.204220   0.098190\npainlimit_lifeworkMost days                          0.319729   0.112174\npainlimit_lifeworkEvery day                          0.201525   0.119923\nopioid_freq3moSome days                              0.040076   0.141439\nopioid_freq3moMost days                              0.221426   0.248309\nopioid_freq3moEvery day                             -0.075506   0.156667\nphq8total5unit                                      -0.056037   0.038500\nnum_pain_locations                                   0.082879   0.026625\nfam_income10k                                        0.017314   0.006237\nrace_ethnicityHispanic                              -0.359617   0.095201\nrace_ethnicityNH Black/African American only        -0.110367   0.145961\nrace_ethnicityOther single and multiple races       -0.217057   0.206899\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -1.591 0.111707    \nage10                                                -5.625 1.85e-08 ***\nsexMale                                              -2.725 0.006423 ** \neducationHigh school graduate/GED                     1.684 0.092223 .  \neducationSome college, no degree                      3.850 0.000118 ***\neducationAssociate's or bachelor's degree             3.856 0.000115 ***\neducationMaster's, doctoral, or professional degree   4.304 1.68e-05 ***\nurban_ruralMedium and small metro                     0.114 0.908874    \nurban_ruralLarge fringe metro                         0.527 0.598340    \nurban_ruralLarge central metro                        1.619 0.105441    \npainlimit_lifeworkSome days                           2.080 0.037541 *  \npainlimit_lifeworkMost days                           2.850 0.004368 ** \npainlimit_lifeworkEvery day                           1.680 0.092869 .  \nopioid_freq3moSome days                               0.283 0.776915    \nopioid_freq3moMost days                               0.892 0.372536    \nopioid_freq3moEvery day                              -0.482 0.629839    \nphq8total5unit                                       -1.455 0.145531    \nnum_pain_locations                                    3.113 0.001853 ** \nfam_income10k                                         2.776 0.005501 ** \nrace_ethnicityHispanic                               -3.777 0.000158 ***\nrace_ethnicityNH Black/African American only         -0.756 0.449562    \nrace_ethnicityOther single and multiple races        -1.049 0.294133    \n\nZero-inflation model coefficients (binomial with logit link):\n                                                      Estimate Std. Error\n(Intercept)                                          6.712e-01  7.979e-01\nage10                                               -4.693e-03  7.769e-02\nsexMale                                              2.826e-01  2.410e-01\neducationHigh school graduate/GED                   -2.112e-02  4.783e-01\neducationSome college, no degree                    -9.915e-02  4.802e-01\neducationAssociate's or bachelor's degree           -7.535e-01  5.073e-01\neducationMaster's, doctoral, or professional degree -8.290e-01  5.714e-01\nurban_ruralMedium and small metro                   -1.014e-02  3.239e-01\nurban_ruralLarge fringe metro                       -7.261e-04  3.504e-01\nurban_ruralLarge central metro                      -2.918e-01  3.640e-01\npainlimit_lifeworkSome days                          8.064e-03  3.156e-01\npainlimit_lifeworkMost days                          2.778e-01  3.413e-01\npainlimit_lifeworkEvery day                         -1.917e-01  3.966e-01\nopioid_freq3moSome days                              1.341e-02  4.731e-01\nopioid_freq3moMost days                              3.755e-01  6.382e-01\nopioid_freq3moEvery day                              3.516e-01  4.513e-01\nphq8total5unit                                      -1.027e-01  1.431e-01\nnum_pain_locations                                  -2.714e-01  8.580e-02\nfam_income10k                                       -4.744e-02  2.318e-02\nrace_ethnicityHispanic                              -1.585e+01  1.817e+03\nrace_ethnicityNH Black/African American only         2.591e-01  3.857e-01\nrace_ethnicityOther single and multiple races       -1.622e-01  8.016e-01\n                                                    z value Pr(&gt;|z|)   \n(Intercept)                                           0.841  0.40024   \nage10                                                -0.060  0.95184   \nsexMale                                               1.173  0.24089   \neducationHigh school graduate/GED                    -0.044  0.96478   \neducationSome college, no degree                     -0.206  0.83644   \neducationAssociate's or bachelor's degree            -1.485  0.13749   \neducationMaster's, doctoral, or professional degree  -1.451  0.14687   \nurban_ruralMedium and small metro                    -0.031  0.97502   \nurban_ruralLarge fringe metro                        -0.002  0.99835   \nurban_ruralLarge central metro                       -0.802  0.42270   \npainlimit_lifeworkSome days                           0.026  0.97961   \npainlimit_lifeworkMost days                           0.814  0.41575   \npainlimit_lifeworkEvery day                          -0.483  0.62889   \nopioid_freq3moSome days                               0.028  0.97738   \nopioid_freq3moMost days                               0.588  0.55624   \nopioid_freq3moEvery day                               0.779  0.43597   \nphq8total5unit                                       -0.718  0.47280   \nnum_pain_locations                                   -3.163  0.00156 **\nfam_income10k                                        -2.046  0.04073 * \nrace_ethnicityHispanic                               -0.009  0.99304   \nrace_ethnicityNH Black/African American only          0.672  0.50171   \nrace_ethnicityOther single and multiple races        -0.202  0.83960   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nNumber of iterations in BFGS optimization: 86 \nLog-likelihood: -3347 on 44 Df\n\n\n\n\n6.5.4 Zero-inflated Negative Binomial (m1_zinb)\n\n\nCode\nm1_zinb &lt;- zeroinfl(ihm4pain_num ~ age10 + sex + education +\n                          urban_rural + painlimit_lifework + opioid_freq3mo +\n                          phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity,\n                        dist = \"negbin\", data = projectb_si_train)\n\nm1_zinb_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_zinb, type = \"response\"),\n           \".resid\" = resid(m1_zinb, type = \"response\"))\n\nm1_zinb_summary &lt;-\n  mets(m1_zinb_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_zinb\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_zinb_summary &lt;- m1_zinb_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_zinb_summary &lt;- m1_zinb_summary |&gt;\n  mutate(AIC = AIC(m1_zinb),\n         BIC = BIC(m1_zinb))\nsummary(m1_zinb)\n\n\n\nCall:\nzeroinfl(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, data = projectb_si_train, dist = \"negbin\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.3529 -0.6426 -0.4657  0.5057  7.1811 \n\nCount model coefficients (negbin with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.415181   0.261036\nage10                                               -0.135766   0.024135\nsexMale                                             -0.210059   0.077075\neducationHigh school graduate/GED                    0.282398   0.167720\neducationSome college, no degree                     0.635914   0.165161\neducationAssociate's or bachelor's degree            0.619416   0.160655\neducationMaster's, doctoral, or professional degree  0.761771   0.176987\nurban_ruralMedium and small metro                    0.012739   0.111366\nurban_ruralLarge fringe metro                        0.063033   0.119671\nurban_ruralLarge central metro                       0.186324   0.115088\npainlimit_lifeworkSome days                          0.204214   0.098190\npainlimit_lifeworkMost days                          0.319721   0.112174\npainlimit_lifeworkEvery day                          0.201516   0.119922\nopioid_freq3moSome days                              0.040082   0.141439\nopioid_freq3moMost days                              0.221426   0.248310\nopioid_freq3moEvery day                             -0.075485   0.156665\nphq8total5unit                                      -0.056035   0.038500\nnum_pain_locations                                   0.082879   0.026625\nfam_income10k                                        0.017315   0.006237\nrace_ethnicityHispanic                              -0.359612   0.095200\nrace_ethnicityNH Black/African American only        -0.110358   0.145960\nrace_ethnicityOther single and multiple races       -0.217029   0.206893\nLog(theta)                                          15.442114  25.722300\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -1.591 0.111719    \nage10                                                -5.625 1.85e-08 ***\nsexMale                                              -2.725 0.006422 ** \neducationHigh school graduate/GED                     1.684 0.092230 .  \neducationSome college, no degree                      3.850 0.000118 ***\neducationAssociate's or bachelor's degree             3.856 0.000115 ***\neducationMaster's, doctoral, or professional degree   4.304 1.68e-05 ***\nurban_ruralMedium and small metro                     0.114 0.908932    \nurban_ruralLarge fringe metro                         0.527 0.598391    \nurban_ruralLarge central metro                        1.619 0.105455    \npainlimit_lifeworkSome days                           2.080 0.037545 *  \npainlimit_lifeworkMost days                           2.850 0.004369 ** \npainlimit_lifeworkEvery day                           1.680 0.092881 .  \nopioid_freq3moSome days                               0.283 0.776883    \nopioid_freq3moMost days                               0.892 0.372537    \nopioid_freq3moEvery day                              -0.482 0.629929    \nphq8total5unit                                       -1.455 0.145539    \nnum_pain_locations                                    3.113 0.001853 ** \nfam_income10k                                         2.776 0.005497 ** \nrace_ethnicityHispanic                               -3.777 0.000158 ***\nrace_ethnicityNH Black/African American only         -0.756 0.449599    \nrace_ethnicityOther single and multiple races        -1.049 0.294182    \nLog(theta)                                            0.600 0.548280    \n\nZero-inflation model coefficients (binomial with logit link):\n                                                      Estimate Std. Error\n(Intercept)                                          6.712e-01  7.979e-01\nage10                                               -4.698e-03  7.769e-02\nsexMale                                              2.826e-01  2.410e-01\neducationHigh school graduate/GED                   -2.113e-02  4.783e-01\neducationSome college, no degree                    -9.913e-02  4.802e-01\neducationAssociate's or bachelor's degree           -7.535e-01  5.073e-01\neducationMaster's, doctoral, or professional degree -8.290e-01  5.714e-01\nurban_ruralMedium and small metro                   -1.017e-02  3.239e-01\nurban_ruralLarge fringe metro                       -7.511e-04  3.504e-01\nurban_ruralLarge central metro                      -2.918e-01  3.640e-01\npainlimit_lifeworkSome days                          8.048e-03  3.156e-01\npainlimit_lifeworkMost days                          2.778e-01  3.413e-01\npainlimit_lifeworkEvery day                         -1.917e-01  3.966e-01\nopioid_freq3moSome days                              1.343e-02  4.731e-01\nopioid_freq3moMost days                              3.755e-01  6.382e-01\nopioid_freq3moEvery day                              3.516e-01  4.513e-01\nphq8total5unit                                      -1.027e-01  1.431e-01\nnum_pain_locations                                  -2.714e-01  8.580e-02\nfam_income10k                                       -4.744e-02  2.318e-02\nrace_ethnicityHispanic                              -1.685e+01  2.986e+03\nrace_ethnicityNH Black/African American only         2.591e-01  3.857e-01\nrace_ethnicityOther single and multiple races       -1.622e-01  8.015e-01\n                                                    z value Pr(&gt;|z|)   \n(Intercept)                                           0.841  0.40021   \nage10                                                -0.060  0.95178   \nsexMale                                               1.173  0.24091   \neducationHigh school graduate/GED                    -0.044  0.96477   \neducationSome college, no degree                     -0.206  0.83645   \neducationAssociate's or bachelor's degree            -1.485  0.13750   \neducationMaster's, doctoral, or professional degree  -1.451  0.14687   \nurban_ruralMedium and small metro                    -0.031  0.97496   \nurban_ruralLarge fringe metro                        -0.002  0.99829   \nurban_ruralLarge central metro                       -0.802  0.42265   \npainlimit_lifeworkSome days                           0.026  0.97965   \npainlimit_lifeworkMost days                           0.814  0.41578   \npainlimit_lifeworkEvery day                          -0.483  0.62884   \nopioid_freq3moSome days                               0.028  0.97735   \nopioid_freq3moMost days                               0.588  0.55624   \nopioid_freq3moEvery day                               0.779  0.43589   \nphq8total5unit                                       -0.718  0.47282   \nnum_pain_locations                                   -3.163  0.00156 **\nfam_income10k                                        -2.046  0.04073 * \nrace_ethnicityHispanic                               -0.006  0.99550   \nrace_ethnicityNH Black/African American only          0.672  0.50167   \nrace_ethnicityOther single and multiple races        -0.202  0.83968   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nTheta = 5086566.3791 \nNumber of iterations in BFGS optimization: 86 \nLog-likelihood: -3347 on 45 Df\n\n\n\n\n6.5.5 Hurdle with Poisson (m1_hurdle_pois)\n\n\nCode\nm1_hurdle_pois &lt;- hurdle(ihm4pain_num ~ age10 + sex + race_ethnicity + education +\n                           fam_income10k + urban_rural + num_pain_locations +\n                           painlimit_lifework + opioid_freq3mo + phq8total5unit,\n                        dist = \"poisson\", zero.dist = \"binomial\", \n                        data = projectb_si_train)\n\nm1_hurdle_pois_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_hurdle_pois, type = \"response\"),\n           \".resid\" = resid(m1_hurdle_pois, type = \"response\"))\n\nm1_hurdle_pois_summary &lt;-\n  mets(m1_hurdle_pois_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_hurdle_pois\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_hurdle_pois_summary &lt;- m1_hurdle_pois_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_hurdle_pois_summary &lt;- m1_hurdle_pois_summary |&gt;\n  mutate(AIC = AIC(m1_hurdle_pois),\n         BIC = BIC(m1_hurdle_pois))\nsummary(m1_hurdle_pois)\n\n\n\nCall:\nhurdle(formula = ihm4pain_num ~ age10 + sex + race_ethnicity + education + \n    fam_income10k + urban_rural + num_pain_locations + painlimit_lifework + \n    opioid_freq3mo + phq8total5unit, data = projectb_si_train, dist = \"poisson\", \n    zero.dist = \"binomial\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.3352 -0.6384 -0.4592  0.5140  7.1628 \n\nCount model coefficients (truncated poisson with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.045206   0.281619\nage10                                               -0.143934   0.024059\nsexMale                                             -0.178949   0.078531\nrace_ethnicityHispanic                              -0.220647   0.140983\nrace_ethnicityNH Black/African American only        -0.101348   0.141085\nrace_ethnicityOther single and multiple races       -0.098327   0.170501\neducationHigh school graduate/GED                    0.054218   0.206801\neducationSome college, no degree                     0.414146   0.200328\neducationAssociate's or bachelor's degree            0.402233   0.194865\neducationMaster's, doctoral, or professional degree  0.462490   0.213386\nfam_income10k                                        0.014675   0.006929\nurban_ruralMedium and small metro                    0.005048   0.114664\nurban_ruralLarge fringe metro                       -0.009438   0.125995\nurban_ruralLarge central metro                       0.148443   0.117913\nnum_pain_locations                                   0.079246   0.029779\npainlimit_lifeworkSome days                          0.179310   0.099253\npainlimit_lifeworkMost days                          0.248306   0.121008\npainlimit_lifeworkEvery day                          0.148881   0.127017\nopioid_freq3moSome days                              0.059283   0.158583\nopioid_freq3moMost days                              0.113070   0.279708\nopioid_freq3moEvery day                             -0.160421   0.164993\nphq8total5unit                                      -0.085068   0.040396\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -0.161  0.87247    \nage10                                                -5.982  2.2e-09 ***\nsexMale                                              -2.279  0.02268 *  \nrace_ethnicityHispanic                               -1.565  0.11757    \nrace_ethnicityNH Black/African American only         -0.718  0.47254    \nrace_ethnicityOther single and multiple races        -0.577  0.56415    \neducationHigh school graduate/GED                     0.262  0.79319    \neducationSome college, no degree                      2.067  0.03870 *  \neducationAssociate's or bachelor's degree             2.064  0.03900 *  \neducationMaster's, doctoral, or professional degree   2.167  0.03021 *  \nfam_income10k                                         2.118  0.03418 *  \nurban_ruralMedium and small metro                     0.044  0.96488    \nurban_ruralLarge fringe metro                        -0.075  0.94029    \nurban_ruralLarge central metro                        1.259  0.20806    \nnum_pain_locations                                    2.661  0.00779 ** \npainlimit_lifeworkSome days                           1.807  0.07083 .  \npainlimit_lifeworkMost days                           2.052  0.04017 *  \npainlimit_lifeworkEvery day                           1.172  0.24115    \nopioid_freq3moSome days                               0.374  0.70853    \nopioid_freq3moMost days                               0.404  0.68603    \nopioid_freq3moEvery day                              -0.972  0.33091    \nphq8total5unit                                       -2.106  0.03522 *  \nZero hurdle model coefficients (binomial with logit link):\n                                                     Estimate Std. Error\n(Intercept)                                         -1.479732   0.249322\nage10                                               -0.142153   0.023765\nsexMale                                             -0.375766   0.076124\nrace_ethnicityHispanic                               0.139327   0.135109\nrace_ethnicityNH Black/African American only        -0.272954   0.128870\nrace_ethnicityOther single and multiple races       -0.244884   0.174931\neducationHigh school graduate/GED                    0.355758   0.142993\neducationSome college, no degree                     0.759842   0.149059\neducationAssociate's or bachelor's degree            1.039827   0.141786\neducationMaster's, doctoral, or professional degree  1.328910   0.180035\nfam_income10k                                        0.042015   0.008126\nurban_ruralMedium and small metro                    0.027743   0.105044\nurban_ruralLarge fringe metro                        0.114360   0.118742\nurban_ruralLarge central metro                       0.346088   0.114916\nnum_pain_locations                                   0.212404   0.030285\npainlimit_lifeworkSome days                          0.239884   0.096082\npainlimit_lifeworkMost days                          0.275086   0.122223\npainlimit_lifeworkEvery day                          0.325687   0.118433\nopioid_freq3moSome days                              0.043253   0.167722\nopioid_freq3moMost days                              0.107665   0.265744\nopioid_freq3moEvery day                             -0.194347   0.137609\nphq8total5unit                                      -0.001161   0.039121\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -5.935 2.94e-09 ***\nage10                                                -5.982 2.21e-09 ***\nsexMale                                              -4.936 7.97e-07 ***\nrace_ethnicityHispanic                                1.031  0.30244    \nrace_ethnicityNH Black/African American only         -2.118  0.03417 *  \nrace_ethnicityOther single and multiple races        -1.400  0.16155    \neducationHigh school graduate/GED                     2.488  0.01285 *  \neducationSome college, no degree                      5.098 3.44e-07 ***\neducationAssociate's or bachelor's degree             7.334 2.24e-13 ***\neducationMaster's, doctoral, or professional degree   7.381 1.57e-13 ***\nfam_income10k                                         5.170 2.34e-07 ***\nurban_ruralMedium and small metro                     0.264  0.79170    \nurban_ruralLarge fringe metro                         0.963  0.33550    \nurban_ruralLarge central metro                        3.012  0.00260 ** \nnum_pain_locations                                    7.013 2.33e-12 ***\npainlimit_lifeworkSome days                           2.497  0.01254 *  \npainlimit_lifeworkMost days                           2.251  0.02440 *  \npainlimit_lifeworkEvery day                           2.750  0.00596 ** \nopioid_freq3moSome days                               0.258  0.79650    \nopioid_freq3moMost days                               0.405  0.68537    \nopioid_freq3moEvery day                              -1.412  0.15786    \nphq8total5unit                                       -0.030  0.97632    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nNumber of iterations in BFGS optimization: 30 \nLog-likelihood: -3346 on 44 Df\n\n\n\n\n6.5.6 Hurdle with Negative Binomial (m1_hurdle_nb)\n\n\nCode\nm1_hurdle_nb &lt;- hurdle(ihm4pain_num ~ age10 + sex + education +\n                          urban_rural + painlimit_lifework + opioid_freq3mo +\n                          phq8total5unit + num_pain_locations + fam_income10k + race_ethnicity,\n                       dist = \"negbin\", zero.dist = \"binomial\", \n                       data = projectb_si_train)\n\nm1_hurdle_nb_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_hurdle_nb, type = \"response\"),\n           \".resid\" = resid(m1_hurdle_nb, type = \"response\"))\n\nm1_hurdle_nb_summary &lt;-\n  mets(m1_hurdle_nb_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_hurdle_nb\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_hurdle_nb_summary &lt;- m1_hurdle_nb_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_hurdle_nb_summary &lt;- m1_hurdle_nb_summary |&gt;\n  mutate(AIC = AIC(m1_hurdle_nb),\n         BIC = BIC(m1_hurdle_nb))\nsummary(m1_hurdle_nb)\n\n\n\nCall:\nhurdle(formula = ihm4pain_num ~ age10 + sex + education + urban_rural + \n    painlimit_lifework + opioid_freq3mo + phq8total5unit + num_pain_locations + \n    fam_income10k + race_ethnicity, data = projectb_si_train, dist = \"negbin\", \n    zero.dist = \"binomial\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.3352 -0.6384 -0.4592  0.5140  7.1628 \n\nCount model coefficients (truncated negbin with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.045178   0.281617\nage10                                               -0.143937   0.024059\nsexMale                                             -0.178955   0.078531\neducationHigh school graduate/GED                    0.054212   0.206800\neducationSome college, no degree                     0.414166   0.200326\neducationAssociate's or bachelor's degree            0.402225   0.194864\neducationMaster's, doctoral, or professional degree  0.462490   0.213385\nurban_ruralMedium and small metro                    0.005048   0.114663\nurban_ruralLarge fringe metro                       -0.009442   0.125995\nurban_ruralLarge central metro                       0.148444   0.117912\npainlimit_lifeworkSome days                          0.179297   0.099253\npainlimit_lifeworkMost days                          0.248299   0.121008\npainlimit_lifeworkEvery day                          0.148878   0.127017\nopioid_freq3moSome days                              0.059280   0.158583\nopioid_freq3moMost days                              0.113059   0.279709\nopioid_freq3moEvery day                             -0.160405   0.164991\nphq8total5unit                                      -0.085068   0.040396\nnum_pain_locations                                   0.079248   0.029779\nfam_income10k                                        0.014675   0.006929\nrace_ethnicityHispanic                              -0.220641   0.140982\nrace_ethnicityNH Black/African American only        -0.101337   0.141084\nrace_ethnicityOther single and multiple races       -0.098315   0.170499\nLog(theta)                                          19.343411        NaN\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -0.160  0.87255    \nage10                                                -5.983  2.2e-09 ***\nsexMale                                              -2.279  0.02268 *  \neducationHigh school graduate/GED                     0.262  0.79321    \neducationSome college, no degree                      2.067  0.03869 *  \neducationAssociate's or bachelor's degree             2.064  0.03900 *  \neducationMaster's, doctoral, or professional degree   2.167  0.03020 *  \nurban_ruralMedium and small metro                     0.044  0.96488    \nurban_ruralLarge fringe metro                        -0.075  0.94026    \nurban_ruralLarge central metro                        1.259  0.20805    \npainlimit_lifeworkSome days                           1.806  0.07085 .  \npainlimit_lifeworkMost days                           2.052  0.04018 *  \npainlimit_lifeworkEvery day                           1.172  0.24115    \nopioid_freq3moSome days                               0.374  0.70854    \nopioid_freq3moMost days                               0.404  0.68606    \nopioid_freq3moEvery day                              -0.972  0.33095    \nphq8total5unit                                       -2.106  0.03522 *  \nnum_pain_locations                                    2.661  0.00779 ** \nfam_income10k                                         2.118  0.03419 *  \nrace_ethnicityHispanic                               -1.565  0.11758    \nrace_ethnicityNH Black/African American only         -0.718  0.47259    \nrace_ethnicityOther single and multiple races        -0.577  0.56419    \nLog(theta)                                              NaN      NaN    \nZero hurdle model coefficients (binomial with logit link):\n                                                     Estimate Std. Error\n(Intercept)                                         -1.479732   0.249322\nage10                                               -0.142153   0.023765\nsexMale                                             -0.375766   0.076124\neducationHigh school graduate/GED                    0.355758   0.142993\neducationSome college, no degree                     0.759842   0.149059\neducationAssociate's or bachelor's degree            1.039827   0.141786\neducationMaster's, doctoral, or professional degree  1.328910   0.180035\nurban_ruralMedium and small metro                    0.027743   0.105044\nurban_ruralLarge fringe metro                        0.114360   0.118742\nurban_ruralLarge central metro                       0.346088   0.114916\npainlimit_lifeworkSome days                          0.239884   0.096082\npainlimit_lifeworkMost days                          0.275086   0.122223\npainlimit_lifeworkEvery day                          0.325687   0.118433\nopioid_freq3moSome days                              0.043253   0.167722\nopioid_freq3moMost days                              0.107665   0.265744\nopioid_freq3moEvery day                             -0.194347   0.137609\nphq8total5unit                                      -0.001161   0.039121\nnum_pain_locations                                   0.212404   0.030285\nfam_income10k                                        0.042015   0.008126\nrace_ethnicityHispanic                               0.139327   0.135109\nrace_ethnicityNH Black/African American only        -0.272954   0.128870\nrace_ethnicityOther single and multiple races       -0.244884   0.174931\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -5.935 2.94e-09 ***\nage10                                                -5.982 2.21e-09 ***\nsexMale                                              -4.936 7.97e-07 ***\neducationHigh school graduate/GED                     2.488  0.01285 *  \neducationSome college, no degree                      5.098 3.44e-07 ***\neducationAssociate's or bachelor's degree             7.334 2.24e-13 ***\neducationMaster's, doctoral, or professional degree   7.381 1.57e-13 ***\nurban_ruralMedium and small metro                     0.264  0.79170    \nurban_ruralLarge fringe metro                         0.963  0.33550    \nurban_ruralLarge central metro                        3.012  0.00260 ** \npainlimit_lifeworkSome days                           2.497  0.01254 *  \npainlimit_lifeworkMost days                           2.251  0.02440 *  \npainlimit_lifeworkEvery day                           2.750  0.00596 ** \nopioid_freq3moSome days                               0.258  0.79650    \nopioid_freq3moMost days                               0.405  0.68537    \nopioid_freq3moEvery day                              -1.412  0.15786    \nphq8total5unit                                       -0.030  0.97632    \nnum_pain_locations                                    7.013 2.33e-12 ***\nfam_income10k                                         5.170 2.34e-07 ***\nrace_ethnicityHispanic                                1.031  0.30244    \nrace_ethnicityNH Black/African American only         -2.118  0.03417 *  \nrace_ethnicityOther single and multiple races        -1.400  0.16155    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nTheta: count = 251615122.8885\nNumber of iterations in BFGS optimization: 49 \nLog-likelihood: -3346 on 45 Df"
  },
  {
    "objectID": "index.html#comparing-m1-versions",
    "href": "index.html#comparing-m1-versions",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.6 Comparing m1 Versions",
    "text": "6.6 Comparing m1 Versions\n\n6.6.1 Comparing with Rootograms\nTo begin a comparison of the 4 variations of Model 1, I generated four rootogram plots using the countreg::rootogram() function.\n\n\nCode\npar(mfrow = c(3,2))\ncountreg::rootogram(m1_pois, main = \"Rootogram for m1_pois\")\ncountreg::rootogram(m1_nb, main = \"Rootogram for m1_nb\")\ncountreg::rootogram(m1_zip, main = \"Rootogram for m1_zip\")\ncountreg::rootogram(m1_zinb, main = \"Rootogram for m1_zinb\")\ncountreg::rootogram(m1_hurdle_pois, main = \"Rootogram for m1_hurdle_pois\")\ncountreg::rootogram(m1_hurdle_nb, main = \"Rootogram for m1_hurdle_nb\")\n\n\n\n\n\nCode\npar(mfrow = c(1,1))\n\n\nLooking at the plots above, there is a clear improvement observed between 1) the Poisson (m1_pois) and negative binomial (m1_nb) models; and 2) the zero-inflated (m1_zip and m1_zinb) and hurdle (m1_hurdle_pois and mt_hurdle_nb) models as the latter appear to fit 0 counts perfectly and lack the over/under-fitting of counts 1-3. However, there do not appear to be any noticeable differences in predicting counts between the bottom four models. Furthermore, it appears each model predicts counts of ihm4pain_num &gt; 4, but not to a substantial degree. Certainly, some subjects may have engaged in more than four IHM modalities for pain, but these were not measured in the 2019 NHIS.\n\n\n6.6.2 Comparing with Fit Statistics\nTo further examine differences, I generated m1_summary as a combination of the 6 previous model summaries using the bind_rows() function. I then selected the Model, \\(R^2\\), RMSE, MAE, AIC, and BIC values for output.\n\n\nCode\nm1_summary &lt;- bind_rows(m1_pois_summary, m1_nb_summary, \n                        m1_zip_summary, m1_zinb_summary, \n                        m1_hurdle_pois_summary, m1_hurdle_nb_summary)\n\nm1_summary |&gt; select(Model, R2, RMSE, MAE, AIC, BIC) |&gt;\n  flextable() |&gt;\n  colformat_double(j = 2:4, digits = 3) |&gt;\n  colformat_double(j = 5:6, digits = 0) |&gt;\n  bold(i = 5, j = 1:6, bold = TRUE) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nModelR2RMSEMAEAICBICm1_pois0.1200.8050.6246,8426,978m1_nb0.1190.8060.6246,8006,942m1_zip0.1200.8060.6226,7837,055m1_zinb0.1200.8060.6226,7857,063m1_hurdle_pois0.1210.8050.6226,7807,052m1_hurdle_nb0.1210.8050.6226,7827,060\n\n\nSimilar to the rootograms, there is a clear improvement in \\(R^2\\) between 1) the Poisson (m1_pois) and negative binomial (m1_nb) models; and 2) the zero-inflated (m1_zip and m1_zinb) and hurdle (m1_hurdle_pois and mt_hurdle_nb) models. m1_hurdle_pois appears to be the best fit based on it’s \\(R^2\\) (0.121), RMSE (0.805), and AIC (6780 [lowest overall]). Importantly, m1_hurdle_pois has the lowest BIC among the four models that had better rootograms in the plot above.\n\n\n6.6.3 Comparing with Vuong tests\nFinally, given the inclination to use m1_hurdle_pois, I used the vuong() function to compare it to the other models.\nm1_hurdle_pois v. m1_pois\n\n\nCode\nvuong(m1_hurdle_pois, m1_pois)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A    p-value\nRaw                    4.991730 model1 &gt; model2  2.992e-07\nAIC-corrected          2.913802 model1 &gt; model2 0.00178528\nBIC-corrected         -3.503540 model2 &gt; model1 0.00022956\n\n\nm1_hurdle_pois is a better fit than m1_pois based on small p-values from the the Raw, and AIC-corrected Vuong tests.\nm1_hurdle_pois v. m1_nb\n\n\nCode\nvuong(m1_hurdle_pois, m1_nb)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A    p-value\nRaw                    4.754520 model1 &gt; model2 9.9459e-07\nAIC-corrected          1.369766 model1 &gt; model2    0.08538\nBIC-corrected         -9.083491 model2 &gt; model1 &lt; 2.22e-16\n\n\nm1_hurdle_pois is a better fit than m1_nb based on small p-values from the the Raw Vuong test.\nm1_hurdle_pois v. m1_zip\n\n\nCode\nvuong(m1_hurdle_pois, m1_zip)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A p-value\nRaw                   0.3795831 model1 &gt; model2 0.35213\nAIC-corrected         0.3795831 model1 &gt; model2 0.35213\nBIC-corrected         0.3795831 model1 &gt; model2 0.35213\n\n\nm1_hurdle_pois is not meaningfully different than m1_zip (p = .352).\nm1_hurdle_pois v. m1_zinb\n\n\nCode\nvuong(m1_hurdle_pois, m1_zinb)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A p-value\nRaw                   0.3795879 model1 &gt; model2 0.35213\nAIC-corrected         0.3795879 model1 &gt; model2 0.35213\nBIC-corrected         0.3795879 model1 &gt; model2 0.35213\n\n\nm1_hurdle_pois is not meaningfully different than m1_zinb (p = .352).\nm1_hurdle_pois v. m1_hurdle_nb\n\n\nCode\nvuong(m1_hurdle_pois, m1_hurdle_nb)\n\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A p-value\nRaw                -0.007316386 model2 &gt; model1 0.49708\nAIC-corrected      -0.007316386 model2 &gt; model1 0.49708\nBIC-corrected      -0.007316386 model2 &gt; model1 0.49708\n\n\nm1_hurdle_pois is not meaningfully different than m1_hurdle_nb (p = .497)."
  },
  {
    "objectID": "index.html#final-model-choice",
    "href": "index.html#final-model-choice",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.7 Final Model Choice",
    "text": "6.7 Final Model Choice\nBased on a combination of the rootograms, the fit statistics, and the Vuong tests, I chose m1_hurdle_pois as the model for the count outcome.\nThe hurdle model also makes sense given its description (Ford 2016).\n\nThe hurdle model is a two-part model that specifies one process for zero counts and another process for positive counts. The idea is that positive counts occur once a threshold is crossed, or put another way, a hurdle is cleared. If the hurdle is not cleared, then we have a count of 0.\n\nConceptually, moving from no engagement in IHM modalities for pain to engaging in any number of IHM modalities for pain seems like a hurdle to model independently of the count data."
  },
  {
    "objectID": "index.html#fitting-weighted-hurdle-model",
    "href": "index.html#fitting-weighted-hurdle-model",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.8 Fitting Weighted Hurdle Model",
    "text": "6.8 Fitting Weighted Hurdle Model\nIn the following code, I added weights to m1_hurdle_pois model using the code, weights = wt_final/mean(wt_final). I then printed a summary of the model.\n\n\nCode\nm1_hurdle_pois &lt;- hurdle(ihm4pain_num ~ age10 + sex + race_ethnicity + education +\n                           fam_income10k + urban_rural + num_pain_locations +\n                           painlimit_lifework + opioid_freq3mo + phq8total5unit,\n                        dist = \"poisson\", zero.dist = \"binomial\", \n                        weights = wt_final/mean(wt_final),\n                        data = projectb_si_train)\n\nmets &lt;- metric_set(rsq, rmse, mae)\n\nm1_hurdle_pois_aug &lt;- projectb_si_train |&gt;\n    mutate(\".fitted\" = predict(m1_hurdle_pois, type = \"response\"),\n           \".resid\" = resid(m1_hurdle_pois, type = \"response\"))\n\nm1_hurdle_pois_summary &lt;-\n  mets(m1_hurdle_pois_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_hurdle_pois\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1_hurdle_pois_summary &lt;- m1_hurdle_pois_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\nm1_hurdle_pois_summary &lt;- m1_hurdle_pois_summary |&gt;\n  mutate(AIC = AIC(m1_hurdle_pois),\n         BIC = BIC(m1_hurdle_pois))\n\nsummary(m1_hurdle_pois)\n\n\n\nCall:\nhurdle(formula = ihm4pain_num ~ age10 + sex + race_ethnicity + education + \n    fam_income10k + urban_rural + num_pain_locations + painlimit_lifework + \n    opioid_freq3mo + phq8total5unit, data = projectb_si_train, weights = wt_final/mean(wt_final), \n    dist = \"poisson\", zero.dist = \"binomial\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.8226 -0.5770 -0.3611  0.4732  8.1198 \n\nCount model coefficients (truncated poisson with log link):\n                                                     Estimate Std. Error\n(Intercept)                                         -0.288706   0.286847\nage10                                               -0.143633   0.025058\nsexMale                                             -0.254302   0.080070\nrace_ethnicityHispanic                              -0.187190   0.136711\nrace_ethnicityNH Black/African American only        -0.096093   0.139174\nrace_ethnicityOther single and multiple races       -0.306117   0.184700\neducationHigh school graduate/GED                    0.239399   0.208846\neducationSome college, no degree                     0.638642   0.202086\neducationAssociate's or bachelor's degree            0.572008   0.199347\neducationMaster's, doctoral, or professional degree  0.648524   0.222696\nfam_income10k                                        0.010163   0.006892\nurban_ruralMedium and small metro                    0.066435   0.124326\nurban_ruralLarge fringe metro                        0.056516   0.132087\nurban_ruralLarge central metro                       0.216033   0.125488\nnum_pain_locations                                   0.097209   0.029301\npainlimit_lifeworkSome days                          0.190048   0.101775\npainlimit_lifeworkMost days                          0.273623   0.122793\npainlimit_lifeworkEvery day                          0.165813   0.129089\nopioid_freq3moSome days                             -0.118804   0.180672\nopioid_freq3moMost days                              0.235398   0.269783\nopioid_freq3moEvery day                             -0.265695   0.189130\nphq8total5unit                                      -0.104129   0.039421\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -1.006 0.314184    \nage10                                                -5.732 9.92e-09 ***\nsexMale                                              -3.176 0.001493 ** \nrace_ethnicityHispanic                               -1.369 0.170925    \nrace_ethnicityNH Black/African American only         -0.690 0.489910    \nrace_ethnicityOther single and multiple races        -1.657 0.097443 .  \neducationHigh school graduate/GED                     1.146 0.251674    \neducationSome college, no degree                      3.160 0.001576 ** \neducationAssociate's or bachelor's degree             2.869 0.004112 ** \neducationMaster's, doctoral, or professional degree   2.912 0.003589 ** \nfam_income10k                                         1.475 0.140336    \nurban_ruralMedium and small metro                     0.534 0.593090    \nurban_ruralLarge fringe metro                         0.428 0.668743    \nurban_ruralLarge central metro                        1.722 0.085154 .  \nnum_pain_locations                                    3.318 0.000908 ***\npainlimit_lifeworkSome days                           1.867 0.061854 .  \npainlimit_lifeworkMost days                           2.228 0.025859 *  \npainlimit_lifeworkEvery day                           1.284 0.198972    \nopioid_freq3moSome days                              -0.658 0.510815    \nopioid_freq3moMost days                               0.873 0.382911    \nopioid_freq3moEvery day                              -1.405 0.160072    \nphq8total5unit                                       -2.641 0.008255 ** \nZero hurdle model coefficients (binomial with logit link):\n                                                     Estimate Std. Error\n(Intercept)                                         -1.678505   0.240666\nage10                                               -0.152575   0.023318\nsexMale                                             -0.218202   0.076494\nrace_ethnicityHispanic                              -0.064007   0.129418\nrace_ethnicityNH Black/African American only        -0.380766   0.128323\nrace_ethnicityOther single and multiple races       -0.353984   0.170466\neducationHigh school graduate/GED                    0.415864   0.135167\neducationSome college, no degree                     0.785447   0.141858\neducationAssociate's or bachelor's degree            1.053611   0.135944\neducationMaster's, doctoral, or professional degree  1.396878   0.184676\nfam_income10k                                        0.036441   0.007846\nurban_ruralMedium and small metro                    0.064509   0.110355\nurban_ruralLarge fringe metro                        0.262959   0.120586\nurban_ruralLarge central metro                       0.463635   0.118048\nnum_pain_locations                                   0.180661   0.029999\npainlimit_lifeworkSome days                          0.327998   0.097323\npainlimit_lifeworkMost days                          0.410528   0.122285\npainlimit_lifeworkEvery day                          0.472318   0.120034\nopioid_freq3moSome days                              0.139740   0.168191\nopioid_freq3moMost days                              0.161674   0.270131\nopioid_freq3moEvery day                             -0.344714   0.145339\nphq8total5unit                                       0.071419   0.037659\n                                                    z value Pr(&gt;|z|)    \n(Intercept)                                          -6.974 3.07e-12 ***\nage10                                                -6.543 6.01e-11 ***\nsexMale                                              -2.853 0.004337 ** \nrace_ethnicityHispanic                               -0.495 0.620900    \nrace_ethnicityNH Black/African American only         -2.967 0.003005 ** \nrace_ethnicityOther single and multiple races        -2.077 0.037841 *  \neducationHigh school graduate/GED                     3.077 0.002093 ** \neducationSome college, no degree                      5.537 3.08e-08 ***\neducationAssociate's or bachelor's degree             7.750 9.16e-15 ***\neducationMaster's, doctoral, or professional degree   7.564 3.91e-14 ***\nfam_income10k                                         4.644 3.41e-06 ***\nurban_ruralMedium and small metro                     0.585 0.558844    \nurban_ruralLarge fringe metro                         2.181 0.029207 *  \nurban_ruralLarge central metro                        3.928 8.58e-05 ***\nnum_pain_locations                                    6.022 1.72e-09 ***\npainlimit_lifeworkSome days                           3.370 0.000751 ***\npainlimit_lifeworkMost days                           3.357 0.000788 ***\npainlimit_lifeworkEvery day                           3.935 8.32e-05 ***\nopioid_freq3moSome days                               0.831 0.406064    \nopioid_freq3moMost days                               0.599 0.549505    \nopioid_freq3moEvery day                              -2.372 0.017702 *  \nphq8total5unit                                        1.896 0.057901 .  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nNumber of iterations in BFGS optimization: 29 \nLog-likelihood: -3275 on 44 Df"
  },
  {
    "objectID": "index.html#model-coefficients",
    "href": "index.html#model-coefficients",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.9 Model Coefficients",
    "text": "6.9 Model Coefficients\nTo generate a singular summary of coefficients from m1_hurdle_pois, I performed the following\n\nGenerated an initial m1_hurdle_pois_coef tibble containing the variables Type (i.e., count or non-zero), Group (i.e., each variable group), and Comparison (e.g., Age +10yrs, Male v. Female) to match the output from m1_hurdle_pois\nGenerated m1_hurdle_pois_pe as a tibble of the exponentiated coefficients from m1_hurdle_pois\nGenerated m1_hurdle_pois_ci as a tibble of the exponentiated 95% CI from m1_hurdle_pois\nBound all of the above into the tibble, m1_hurdle_pois_coef.\n\n\n\nCode\nm1_hurdle_pois_coef &lt;- tibble(Type = c(\"count\", \"count\", \"count\", \n                                       \"count\", \"count\", \"count\",\n                                       \"count\", \"count\", \"count\",\n                                       \"count\", \"count\", \"count\",\n                                       \"count\", \"count\", \"count\", \n                                       \"count\", \"count\", \"count\",\n                                       \"count\", \"count\", \"count\", \"count\",\n                                       \"non-zero\", \"non-zero\", \"non-zero\", \n                                       \"non-zero\", \"non-zero\", \"non-zero\",\n                                       \"non-zero\", \"non-zero\", \"non-zero\", \n                                       \"non-zero\", \"non-zero\", \"non-zero\",\n                                       \"non-zero\", \"non-zero\", \"non-zero\", \n                                       \"non-zero\", \"non-zero\", \"non-zero\",\n                                       \"non-zero\", \"non-zero\", \"non-zero\", \"non-zero\"),\n                              Group = c(\"(Intercept)\", \"Age\", \"Sex\", \n                                        \"Race/Ethnicity\", \"Race/Ethnicity\", \"Race/Ethnicity\",\n                                        \"Education\", \"Education\", \n                                        \"Education\", \"Education\", \n                                        \"Family income\", \n                                        \"Proximity to metro area\", \"Proximity to metro area\",\n                                        \"Proximity to metro area\", \n                                        \"Number of pain locations\", \n                                        \"Pain limiting life or work\", \n                                        \"Pain limiting life or work\",\n                                        \"Pain limiting life or work\", \n                                        \"Opioid use past 3 mo\", \n                                        \"Opioid use past 3 mo\",\n                                        \"Opioid use past 3 mo\", \n                                        \"PHQ-8\", \n                                        \"(Intercept)\", \"Age\", \"Sex\", \n                                        \"Race/Ethnicity\", \"Race/Ethnicity\", \"Race/Ethnicity\",\n                                        \"Education\", \"Education\", \n                                        \"Education\", \"Education\", \n                                        \"Family income\", \n                                        \"Proximity to metro area\", \"Proximity to metro area\",\n                                        \"Proximity to metro area\", \n                                        \"Number of pain locations\", \n                                        \"Pain limiting life or work\", \n                                        \"Pain limiting life or work\",\n                                        \"Pain limiting life or work\", \n                                        \"Opioid use past 3 mo\", \n                                        \"Opioid use past 3 mo\",\n                                        \"Opioid use past 3 mo\", \n                                        \"PHQ-8\"),\n                              Comparison = c(\"(Intercept)\", \"Age +10yrs\", \n                                             \"Male v. Female\", \n                                             \"Hispanic v. NH White\",\n                                             \"NH Black v. NH White\",\n                                             \"Other v. NH White\",\n                                             \"HS/GED v. &lt; HS\", \n                                             \"Some College v. &lt; HS\", \n                                             \"Assoc/Bach v. &lt; HS\",\n                                             \"Masters/PhD v. &lt; HS\", \n                                             \"Fam income +$10,000\",\n                                             \"M/S metro v. Non-metro\", \n                                             \"L fringe metro v. Non-metro\",\n                                             \"L central metro v. Non-metro\", \n                                             \"Pain locations +1\", \n                                             \"Pain limit some days v. Never\", \n                                             \"Pain limit most days v. Never\",\n                                             \"Pain limit every day v. Never\", \n                                             \"Opioids some days v. Never\", \n                                             \"Opioids most days v. Never\",\n                                             \"Opioids every day v. Never\", \n                                             \"PHQ-8 +5 units\", \n                                             \"(Intercept)\", \"Age +10yrs\", \n                                             \"Male v. Female\", \n                                             \"Hispanic v. NH White\",\n                                             \"NH Black v. NH White\",\n                                             \"Other v. NH White\",\n                                             \"HS/GED v. &lt; HS\", \n                                             \"Some College v. &lt; HS\", \n                                             \"Assoc/Bach v. &lt; HS\",\n                                             \"Masters/PhD v. &lt; HS\", \n                                             \"Fam income +$10,000\",\n                                             \"M/S metro v. Non-metro\", \n                                             \"L fringe metro v. Non-metro\",\n                                             \"L central metro v. Non-metro\", \n                                             \"Pain locations +1\", \n                                             \"Pain limit some days v. Never\", \n                                             \"Pain limit most days v. Never\",\n                                             \"Pain limit every day v. Never\", \n                                             \"Opioids some days v. Never\", \n                                             \"Opioids most days v. Never\",\n                                             \"Opioids every day v. Never\", \n                                             \"PHQ-8 +5 units\"))\n\nm1_hurdle_pois_pe &lt;- exp(coef(m1_hurdle_pois)) |&gt; as_tibble()\nm1_hurdle_pois_ci &lt;- exp(confint(m1_hurdle_pois)) |&gt; as_tibble() |&gt;\n  clean_names() |&gt;\n  rename(Conf.low = \"x2_5_percent\",\n         Conf.high = \"x97_5_percent\")\n\nm1_hurdle_pois_coef &lt;- bind_cols(m1_hurdle_pois_coef, \n                                 m1_hurdle_pois_pe, \n                                 m1_hurdle_pois_ci) |&gt;\n  rename(Estimate = value)\n\n\n\n6.9.1 Numeric Summary of Odds of ihm4pain_num != 0\nIn the following code, I generated a numeric summary of the exponentiated coefficients from m1_hurdle_pois describing the odds of ihm4pain_num != 0.\n\n\nCode\nm1_hurdle_pois_coef |&gt; \n  filter(Type == \"non-zero\") |&gt;\n  select(Group, Comparison, Estimate, Conf.low, Conf.high) |&gt; \n  mutate(Estimate = round(Estimate, digits = 3),\n         Conf.low = round(Conf.low, digits = 3),\n         Conf.high = round(Conf.high, digits = 3)) |&gt;\n  rename(aOR = Estimate,\n         \"95% CI Low\" = Conf.low,\n         \"95% CI High\" = Conf.high) |&gt;\n  flextable() |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  add_header_lines(values = \"Supplemental Table 1: aOR of Engagement in IHM Modalities for Pain\") |&gt;\n  autofit() |&gt;\n  add_footer_lines(values = \"Abbreviations: Assoc, associate’s; aOR, adjusted odds ratio; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; mo, months; NH, Non-Hispanic; S, small; v., versus; yrs, years\", top = FALSE) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nSupplemental Table 1: aOR of Engagement in IHM Modalities for PainGroupComparisonaOR95% CI Low95% CI High(Intercept)(Intercept)0.1870.1160.299AgeAge +10yrs0.8580.8200.899SexMale v. Female0.8040.6920.934Race/EthnicityHispanic v. NH White0.9380.7281.209Race/EthnicityNH Black v. NH White0.6830.5310.879Race/EthnicityOther v. NH White0.7020.5030.980EducationHS/GED v. &lt; HS1.5161.1631.975EducationSome College v. &lt; HS2.1931.6612.896EducationAssoc/Bach v. &lt; HS2.8682.1973.744EducationMasters/PhD v. &lt; HS4.0432.8155.806Family incomeFam income +$10,0001.0371.0211.053Proximity to metro areaM/S metro v. Non-metro1.0670.8591.324Proximity to metro areaL fringe metro v. Non-metro1.3011.0271.648Proximity to metro areaL central metro v. Non-metro1.5901.2612.004Number of pain locationsPain locations +11.1981.1301.271Pain limiting life or workPain limit some days v. Never1.3881.1471.680Pain limiting life or workPain limit most days v. Never1.5081.1861.916Pain limiting life or workPain limit every day v. Never1.6041.2682.029Opioid use past 3 moOpioids some days v. Never1.1500.8271.599Opioid use past 3 moOpioids most days v. Never1.1750.6921.996Opioid use past 3 moOpioids every day v. Never0.7080.5330.942PHQ-8PHQ-8 +5 units1.0740.9981.156Abbreviations: Assoc, associate’s; aOR, adjusted odds ratio; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; mo, months; NH, Non-Hispanic; S, small; v., versus; yrs, years\n\n\nIn examining the effects table above, I will summarize the effect of Masters/PhD v. &lt; HS using two fictional cases: Luke Skywalker and Din Djarin\nSuppose Luke Skywalker and Din Djarin 1) have the same demographic profile (i.e., same age, male); 2) reside in rural areas; 3) rated similar challenges related to pain interfering with life or work in the past 3 months; 4) used the same amount of opioids for chronic pain within the past 3 months; 5) reported the same score on the PHQ-8; 6) reported the same number of locations where they were bothered at least “a little” by pain in the past three months; 7) have the same family income; and 8) are of the same race and ethnicity. However, Luke Skywalker has a PhD in being a Jedi while Din Djarin did not graduate “This is the Way” High School. In this scenario, m1_hurdle_pois predicts that Luke Skywalker’s odds of ihm4pain_num != 0 will be 4.043 times that of Din Djarin.\nThe 95% confidence interval for this estimated odds ratio for the effect of Masters/PhD v. &lt; HS on ihm4pain_num != 0 is (2.815, 5.806). This confidence interval does not include one. Thus, holding all other variables constant, having a Masters, PhD, or professional degree is associated with higher odds of having engaged in an IHM modality to manage pain in the past three months.\n\n\n6.9.2 Numeric Summary of Relative Change in Count of ihm4pain_num\nIn the following code, I generated a numeric summary of the exponentiated coefficients from m1_hurdle_pois describing the predicted relative change in the count of ihm4pain_num.\n\n\nCode\nm1_hurdle_pois_coef |&gt; \n  filter(Type == \"count\") |&gt;\n  select(Group, Comparison, Estimate, Conf.low, Conf.high) |&gt; \n  mutate(Estimate = round(Estimate, digits = 3),\n         Conf.low = round(Conf.low, digits = 3),\n         Conf.high = round(Conf.high, digits = 3)) |&gt;\n  rename(\"Relative change\" = Estimate,\n         \"95% CI Low\" = Conf.low,\n         \"95% CI High\" = Conf.high) |&gt;\n  flextable() |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  add_header_lines(values = \"Supplemental Table 2: Relative Change in Count of IHM Modalities Used for Pain\") |&gt;\n  autofit() |&gt;\n  add_footer_lines(values = \"Abbreviations: Assoc, associate’s; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; mo, months; NH, Non-Hispanic; S, small; v., versus; yrs, years\", top = FALSE) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nSupplemental Table 2: Relative Change in Count of IHM Modalities Used for PainGroupComparisonRelative change95% CI Low95% CI High(Intercept)(Intercept)0.7490.4271.315AgeAge +10yrs0.8660.8250.910SexMale v. Female0.7750.6630.907Race/EthnicityHispanic v. NH White0.8290.6341.084Race/EthnicityNH Black v. NH White0.9080.6921.193Race/EthnicityOther v. NH White0.7360.5131.057EducationHS/GED v. &lt; HS1.2700.8441.913EducationSome College v. &lt; HS1.8941.2752.814EducationAssoc/Bach v. &lt; HS1.7721.1992.619EducationMasters/PhD v. &lt; HS1.9131.2362.959Family incomeFam income +$10,0001.0100.9971.024Proximity to metro areaM/S metro v. Non-metro1.0690.8381.364Proximity to metro areaL fringe metro v. Non-metro1.0580.8171.371Proximity to metro areaL central metro v. Non-metro1.2410.9711.587Number of pain locationsPain locations +11.1021.0411.167Pain limiting life or workPain limit some days v. Never1.2090.9911.476Pain limiting life or workPain limit most days v. Never1.3151.0341.672Pain limiting life or workPain limit every day v. Never1.1800.9161.520Opioid use past 3 moOpioids some days v. Never0.8880.6231.265Opioid use past 3 moOpioids most days v. Never1.2650.7462.147Opioid use past 3 moOpioids every day v. Never0.7670.5291.111PHQ-8PHQ-8 +5 units0.9010.8340.973Abbreviations: Assoc, associate’s; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; mo, months; NH, Non-Hispanic; S, small; v., versus; yrs, years\n\n\nIn examining the effects table above, I will summarize the effect of Age using two fictional cases: Han Solo and Luke Skywalker\nPer the guidance by Yoshida, given the response is positive (among those who have positive counts for engaging in IHM modalities), the average count is 0.701 (Intercept).\nSuppose Han Solo and Luke Skywalker 1) are both male and of the same race and ethnicity; 2) have the same level of education; 3) reside in rural areas; 4) rated similar challenges related to pain interfering with life or work in the past 3 months; 5) used the same amount of opioids for chronic pain within the past 3 months; 6) reported the same score on the PHQ-8; 7) reported the same number of locations where they were bothered at least “a little” by pain in the past three months; and 8) have the same family income. However, Han Solo is 10 years older than Luke Skywalker. In this scenario, m1_hurdle_pois predicts that the number of IHM modalities that Han Solo engaged in for pain in the past 3 months will be .866 times that of Luke’s (13.4% lower than Luke’s).\nThe 95% confidence interval for this estimated effect of age10 on ihm4pain_num is (0.825, 0.910). This confidence interval does not include one. Thus, holding all other variables constant, being 10 years older is associated with lower counts of IHM modalities used to manage pain in the past three months.\n\n\n6.9.3 Visual Summary of Odds of ihm4pain_num != 0\nTo visualize the effects of the covariates on odds of ihm4pain_num != 0, I first generated the m1_coef_non0 tibble, limited to the “non-zero” coefficients. I then used ggplot() to plot the effects. Education covariates are placed on a separate axis given their size to not obscure the other covariates.\n\n\nCode\nm1_coef_non0 &lt;- m1_hurdle_pois_coef |&gt; \n  filter(Type == \"non-zero\", Comparison != \"(Intercept)\", Group != \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\nm1_coef_non0educ &lt;- m1_hurdle_pois_coef |&gt; \n  filter(Type == \"non-zero\", Comparison != \"(Intercept)\", Group == \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\np1 &lt;- ggplot(m1_coef_non0, aes(x = Estimate, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Conf.high, xmin = Conf.low), linewidth = .5, \n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"aOR\",\n       y = \"\",\n       title = \"aOR of Engaging in ≥ 1 IHM Modality for Pain\") +\n  scale_x_continuous(breaks = seq(0,4,0.25))\n\np2 &lt;- ggplot(m1_coef_non0educ, aes(x = Estimate, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Conf.high, xmin = Conf.low), linewidth = .5,\n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"aOR\",\n       y = \"\") +\n  scale_x_continuous(breaks = seq(0,8,0.5))\n\np1/p2 + plot_layout(heights = c(5,1))\n\n\n\n\n\n\n\n6.9.4 Visual Summary of Estimated Relative Change in Count of ihm4pain_num\nTo visualize the effects of the covariates on the estimated relative change in count of ihm4pain_num, I first generated the m1_coef_count tibble, limited to the “count” coefficients. I then used ggplot() to plot the effects. Education covariates are placed on a separate axis given their size to not obscure the other covariates.\n\n\nCode\nm1_coef_count &lt;- m1_hurdle_pois_coef |&gt; \n  filter(Type == \"count\", Comparison != \"(Intercept)\", Group != \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\nm1_coef_count_educ &lt;- m1_hurdle_pois_coef |&gt; \n  filter(Type == \"count\", Comparison != \"(Intercept)\",\n         Group == \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\np1 &lt;- ggplot(m1_coef_count, aes(x = Estimate, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Conf.high, xmin = Conf.low), linewidth = .5, \n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"Relative Change in Count\",\n       y = \"\",\n       title = \"Relative Change in Count of IHM Modalities Used for Pain\",\n       subtitle = \"Assuming Engagement in &gt; 0 IHM Modalities\") +\n  scale_x_continuous(breaks = seq(0,7,0.25))\n\np2 &lt;- ggplot(m1_coef_count_educ, aes(x = Estimate, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Conf.high, xmin = Conf.low), linewidth = .5, \n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"Relative Change in Count\",\n       y = \"\") +\n  scale_x_continuous(breaks = seq(0,7,0.5))\n\np1/p2 + plot_layout(heights = c(5,1))"
  },
  {
    "objectID": "index.html#check-model-assumptions",
    "href": "index.html#check-model-assumptions",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.10 Check Model Assumptions",
    "text": "6.10 Check Model Assumptions\nTo generate a residuals vs. fitted plot from m1_hurdle_pois, I used ggplot() and geom_point().\n\n\nCode\nggplot(m1_hurdle_pois_aug, aes(x = .fitted, y = .resid)) +\n    geom_point() +\n    labs(title = \"Residuals vs. Fitted `ihm4pain_num`\",\n         subtitle = \"Hurdle model with Poisson counts\")\n\n\n\n\n\nIn examining the plot above, I see no major issues of concern."
  },
  {
    "objectID": "index.html#validating-m1_hurdle_pois",
    "href": "index.html#validating-m1_hurdle_pois",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "6.11 Validating m1_hurdle_pois",
    "text": "6.11 Validating m1_hurdle_pois\n\n6.11.1 Fit Summary in Test Data\nTo validate m1_hurdle_pois in the projectb_si_test data, I performed the following to generate m1test_hurdle_pois_summary, a summary of fit statistics.\n\nI created m1test_hurdle_pois_aug as an augmentation of m1_hurdle_pois applied to the projectb_si_test data. This time I used mutate() to obtain .fitted and .resid values.\nI generated, \\(R^2\\), RMSE, and MAE values using the mets() function.\nI used group_by() and summarize() to pivot m1test_hurdle_pois_summary such that there would be one column for each fit statistic.\n\n\n\nCode\nm1test_hurdle_pois_aug &lt;- projectb_si_test |&gt;\n    mutate(\".fitted\" = predict(m1_hurdle_pois, type = \"response\"),\n           \".resid\" = resid(m1_hurdle_pois, type = \"response\"))\n\nm1test_hurdle_pois_summary &lt;-\n  mets(m1test_hurdle_pois_aug, truth = ihm4pain_num, estimate = .fitted) |&gt;\n  mutate(Model = \"m1_hurdle_pois\",\n         R2 = if_else(.metric == \"rsq\", .estimate, NA),\n         RMSE = if_else(.metric == \"rmse\", .estimate, NA),\n         MAE = if_else(.metric == \"mae\", .estimate, NA)) |&gt; relocate(Model)\n\nm1test_hurdle_pois_summary &lt;- m1test_hurdle_pois_summary |&gt;\n  group_by(Model) |&gt;\n  summarize(R2 = mean(R2, na.rm = TRUE),\n                   RMSE = mean(RMSE, na.rm = TRUE),\n                   MAE = mean(MAE, na.rm = TRUE))\n\n\n\n\n6.11.2 Comparing Fits in Datasets\nI then bound together m1_hurdle_pois_summary and m1test_hurdle_pois_summary into m1_summaryfinal to present a table comparing the \\(R^2\\), RMSE, and MAE values from the training and testing data.\n\n\nCode\nm1_summaryfinal &lt;- bind_rows(m1_hurdle_pois_summary, \n                             m1test_hurdle_pois_summary) |&gt;\n  mutate(Sample = c(\"Training\", \"Testing\"))\n\nm1_summaryfinal |&gt; select(Sample, R2, RMSE, MAE) |&gt;\n  flextable() |&gt;\n  colformat_double(digits = 4) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nSampleR2RMSEMAETraining0.11820.80690.6137Testing0.00010.90670.6929\n\n\nIn examining the table above, it appears the model does not perform as well in the testing data given the lower \\(R^2\\) (0.0001 vs. 0.1182). m1_hurdle_pois also has higher RMSE and MAE in the testing data.\n\n\n6.11.3 Table Comparing Observed and Predicted Counts\nTo further explore the accuracy of m1_hurdle_pois, I created a table (m1_countsum) summarizing the observed and expected counts from the testing and training datasets as well as their respective m1_hurdle_pois applications.\n\n\nCode\nm1_countsum &lt;- tibble(Source = c(\"Training data observations\", \n                                 \"m1_hurdle_pois in training\", \n                                 \"Test data observations\", \n                                 \"m1_hurdle_pois in test\"),\n                      ZeroIHM = c(sum(projectb_si_train$ihm4pain_num == 0),\n                                  round(sum(predict(m1_hurdle_pois, \n                                                    type = \"prob\")[,1]),0),\n                                  sum(projectb_si_test$ihm4pain_num == 0),\n                                  round(sum(predict(m1_hurdle_pois, \n                                                    newdata = projectb_si_test, \n                                                    type = \"prob\")[,1]),0)),\n                      OneIHM = c(sum(projectb_si_train$ihm4pain_num == 1),\n                                 round(sum(predict(m1_hurdle_pois, \n                                                   type = \"prob\")[,2]),0),\n                                 sum(projectb_si_test$ihm4pain_num == 1),\n                                 round(sum(predict(m1_hurdle_pois, \n                                                   newdata = projectb_si_test, \n                                                   type = \"prob\")[,2]),0)),\n                      TwoIHM = c(sum(projectb_si_train$ihm4pain_num == 2),\n                                 round(sum(predict(m1_hurdle_pois, \n                                                   type = \"prob\")[,3]),0),\n                                 sum(projectb_si_test$ihm4pain_num == 2),\n                                 round(sum(predict(m1_hurdle_pois, \n                                                   newdata = projectb_si_test, \n                                                   type = \"prob\")[,3]),0)),\n                      ThreeIHM = c(sum(projectb_si_train$ihm4pain_num == 3),\n                                   round(sum(predict(m1_hurdle_pois, \n                                                     type = \"prob\")[,4]),0),\n                                   sum(projectb_si_test$ihm4pain_num == 3),\n                                   round(sum(predict(m1_hurdle_pois, \n                                                     newdata = projectb_si_test, \n                                                     type = \"prob\")[,4]),0)),\n                      FourIHM = c(sum(projectb_si_train$ihm4pain_num == 4),\n                                  round(sum(predict(m1_hurdle_pois, \n                                                    type = \"prob\")[,5]),0),\n                                  sum(projectb_si_test$ihm4pain_num == 4),\n                                  round(sum(predict(m1_hurdle_pois, \n                                                    newdata = projectb_si_test, \n                                                    type = \"prob\")[,5]),0))) |&gt;\n  mutate(MoreThan4IHM = nrow(projectb_si_train) - (ZeroIHM + OneIHM + TwoIHM + ThreeIHM + FourIHM),\n         Total = (ZeroIHM + OneIHM + TwoIHM + ThreeIHM + \n                    FourIHM + MoreThan4IHM)) |&gt;\n  rename(\"0\" = ZeroIHM,\n         \"1\" = OneIHM,\n         \"2\" = TwoIHM,\n         \"3\" = ThreeIHM,\n         \"4\" = FourIHM,\n         \"&gt;4\" = MoreThan4IHM)\n\n\n\n\n6.11.4 Plot Comparing Observed and Predicted Counts\nTo facilitate a visual comparison, I generated m1_pivot and a pair of plots comparing observed vs. predicted values in the training and test samples.\n\n\nCode\nm1_pivot &lt;- m1_countsum |&gt;\n  select(-c(Total)) |&gt;\n  pivot_longer(!Source, names_to = \"Count\", values_to = \"Value\") |&gt;\n  mutate(Count = factor(Count, levels = c(\"0\", \"1\", \"2\", \"3\", \"4\", \"&gt;4\")))\n\nm1_pivot_train &lt;- m1_pivot |&gt;\n  filter(Source %in% c(\"Training data observations\", \n                       \"m1_hurdle_pois in training\")) |&gt;\n  mutate(Source = if_else(Source == \"Training data observations\", \n                          \"Observed\", \"Predicted\"),\n         Source = factor(Source, levels = c(\"Observed\", \"Predicted\")))\n\nm1_pivot_test &lt;- m1_pivot |&gt;\n  filter(Source %in% c(\"Test data observations\", \n                       \"m1_hurdle_pois in test\")) |&gt;\n  mutate(Source = if_else(Source == \"Test data observations\", \n                          \"Observed\", \"Predicted\"),\n         Source = factor(Source, levels = c(\"Observed\", \"Predicted\")))\n\np1 &lt;- ggplot(data = m1_pivot_train, aes(x = Count, y = Value, fill = Source)) +\n  geom_bar(stat = \"identity\", position = position_dodge(), alpha = 0.75) +\n  ylim(0, 2500) +\n  labs(x = \"Count of IHM Modalities\",\n       y = \"Number of Subjects\",\n       title = \"Training Data (n = 3557)\") + \n  theme(legend.position=\"bottom\",\n        legend.title = element_blank())\n\np2 &lt;- ggplot(data = m1_pivot_test, aes(x = Count, y = Value, fill = Source)) +\n  geom_bar(stat = \"identity\", position = position_dodge(), alpha = 0.75) +\n  ylim(0, 2500) +\n  labs(x = \"Count of IHM Modalities\",\n       y = \"Number of Subjects\",\n       title = \"Test Data (n = 3557)\") +\n  guides(fill=\"none\")\n\np1 + p2 +\n  plot_annotation(\"Comparing Observed v. Predicted Values in Weighted Hurdle Poisson Model\")\n\n\n\n\n\n\n\n\nSource01234&gt;4TotalTraining data observations2,2578113431163003,557m1_hurdle_pois in training2,329787312962583,557Test data observations2,2977913241073803,557m1_hurdle_pois in test2,354778303922463,557\n\n\nIn examining the plots above, while there is slightly greater deviation from the observed counts in the test data, it appears the model performs quite well in predicting each level of the count of ihm4pain_num in both the training and test datasets."
  },
  {
    "objectID": "index.html#create-dataset",
    "href": "index.html#create-dataset",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.1 Create Dataset",
    "text": "7.1 Create Dataset\nFor this model, the outcome was defined as engagement in nonpharmacologic modalities only (ie, engaging in IHM, a chronic pain self-management program, support groups, or physical, rehabilitative, occupational, or talk therapy while never using opioids) rather than opioids only (ie, using opioids on at least some days while not using any nonpharmacologic modalities). The already single-imputed data, projectb_si, were filtered to include the 3300 subjects engaging in either nonpharmacologic only or opioids only. With this new m2_dataset_si dataset, the outcome nonpharm_over_opioid was defined as 1 if “Nonpharm only” and 0 if “Opioids only.”\n\n\nCode\nm2_dataset_si &lt;- projectb_si |&gt;\n  filter(nonpharm_opioid %in% \n           c(\"Opioids only\", \"Nonpharm only\")) |&gt;\n  mutate(nonpharm_opioid = factor(nonpharm_opioid, \n                                  levels = c(\"Nonpharm only\", \n                                             \"Opioids only\")),\n         nonpharm_over_opioid = \n           if_else(nonpharm_opioid == \"Nonpharm only\", 1, 0))\n\nm2_dataset_si |&gt; tabyl(nonpharm_opioid, nonpharm_over_opioid)\n\n\n nonpharm_opioid   0    1\n   Nonpharm only   0 2790\n    Opioids only 510    0"
  },
  {
    "objectID": "index.html#create-survey-design-1",
    "href": "index.html#create-survey-design-1",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.2 Create Survey Design",
    "text": "7.2 Create Survey Design\nI then used the svydesign() function to generate the survey design.\n\n\nCode\nnhis_des2 &lt;- svydesign(data = m2_dataset_si, id = ~ subject_id,\n                        weights = ~ wt_final, nest = TRUE)"
  },
  {
    "objectID": "index.html#total-population-represented-1",
    "href": "index.html#total-population-represented-1",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.3 Total population represented",
    "text": "7.3 Total population represented\nThe following code details the steps taken to generate a combined Table 2.\n\n\nCode\ntotal_n2 &lt;- svytotal(~ one, nhis_des2, na.rm = FALSE) |&gt; as_tibble() |&gt;\n  mutate(Variable = \"Total, n\",\n         total = floor(total),\n         total = formatC(total, format = \"d\", big.mark = \",\"),\n         p.value = \"\") |&gt;\n  select(Variable, All = total, p.value)\n\n\n\n\nCode\nnonpharm_n &lt;- svyby(~ one, ~ nonpharm_opioid, nhis_des2, svytotal) |&gt; as_tibble() |&gt; filter(nonpharm_opioid == \"Nonpharm only\") |&gt; select(Nonpharm = one) |&gt;\n  mutate(Nonpharm = round(Nonpharm),\n         Nonpharm = formatC(Nonpharm, format = \"d\", big.mark = \",\"))\nopioids_n &lt;- svyby(~ one, ~ nonpharm_opioid, nhis_des2, svytotal) |&gt; as_tibble() |&gt; filter(nonpharm_opioid == \"Opioids only\") |&gt; select(Opioids = one) |&gt;\n  mutate(Opioids = round(Opioids),\n         Opioids = formatC(Opioids, format = \"d\", big.mark = \",\"))\ntotal_n2 &lt;- bind_cols(total_n2, nonpharm_n, opioids_n) |&gt;\n  mutate(All = as.character(All),\n         Nonpharm = as.character(Nonpharm),\n         Opioids = as.character(Opioids))\n\n\n\n\nCode\ntotal_n2 &lt;- total_n2 |&gt; select(Variable, All, Nonpharm, Opioids, p.value) \n\ntotal_n2 |&gt;\n  flextable() |&gt;\n  autofit() |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nVariableAllNonpharmOpioidsp.valueTotal, n22,707,27519,099,2163,608,059"
  },
  {
    "objectID": "index.html#crosstabulation-1",
    "href": "index.html#crosstabulation-1",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.4 Crosstabulation",
    "text": "7.4 Crosstabulation\n\n\nCode\ntable2_cross &lt;- nhis_des2 |&gt;\n  tbl_svysummary(\n    include = c(age, sex, race_ethnicity, education, \n                fam_income1k, urban_rural, num_pain_locations,\n                painlimit_lifework, phq8total),\n    type = c(num_pain_locations = \"continuous\",\n             fam_income = \"continuous\"),\n    statistic = list(all_continuous()  ~ \"{mean}\",\n                     all_categorical() ~ \"{p}\"),\n    label = list(age ~ \"Age in years, mean (95% CI)\",\n                 sex ~ \"Sex, % (95% CI)\",\n                 race_ethnicity ~ \"Race/Ethnicity, % (95% CI)\",\n                 education ~ \"Education, % (95% CI)\",\n                 fam_income1k ~ \"Family income in $1000s, mean (95% CI)\",\n                 urban_rural ~ \"Proximity to metro area, % (95% CI)\",\n                 num_pain_locations ~ \"Number of pain locations, mean (95% CI)\",\n                 painlimit_lifework ~ \"Pain limiting life/work, % (95% CI)\",\n                 phq8total ~ \"PHQ-8 total, mean (95% CI)\"),\n    digits = list(all_continuous() ~ 1,\n                  all_categorical() ~ 1),\n    by = nonpharm_opioid) |&gt;\n  add_overall() |&gt;\n  add_ci(pattern = \"{stat} ({ci})\", \n         style_fun = list(all_categorical() ~ style_percent_1digit, \n                          all_continuous() ~ style_number_1digit),\n         statistic = list(all_categorical() ~ \"{conf.low}-{conf.high}\", \n                          all_continuous() ~ \"{conf.low}-{conf.high}\")) |&gt;\n  add_p(pvalue_fun = function(x) style_pvalue(x, digits = 3)) |&gt;\n  modify_header(label = \"Variable\",\n                stat_0 ~ \"All\",\n                stat_1 ~ \"Nonpharm\",\n                stat_2 ~ \"Opioids\",\n                p.value ~ \"p.value\")\n\ntable2_cross\n\n\n\n\n\n\n  \n    \n    \n      Variable\n      All1,2\n      Nonpharm1,2\n      Opioids1,2\n      p.value3\n    \n  \n  \n    Age in years, mean (95% CI)\n54.0 (53.2-54.7)\n53.0 (52.2-53.8)\n59.2 (57.6-60.8)\n&lt;0.001\n    Sex, % (95% CI)\n\n\n\n0.797\n        Female\n59.2 (57.1-61.3)\n59.4 (57.1-61.6)\n58.6 (53.0-63.9)\n\n        Male\n40.8 (38.7-42.9)\n40.6 (38.4-42.9)\n41.4 (36.1-47.0)\n\n    Race/Ethnicity, % (95% CI)\n\n\n\n0.221\n        NH White only\n74.3 (72.4-76.1)\n74.6 (72.6-76.6)\n72.6 (67.2-77.3)\n\n        Hispanic\n10.1 (8.91-11.5)\n10.0 (8.73-11.5)\n10.7 (7.59-14.8)\n\n        NH Black/African American only\n9.8 (8.60-11.1)\n9.2 (7.96-10.6)\n12.8 (9.77-16.5)\n\n        Other single and multiple races\n5.8 (4.82-6.92)\n6.1 (5.11-7.31)\n4.0 (1.84-8.57)\n\n    Education, % (95% CI)\n\n\n\n&lt;0.001\n        Less than high school\n12.1 (10.7-13.7)\n9.6 (8.25-11.2)\n25.0 (20.3-30.2)\n\n        High school graduate/GED\n26.7 (24.8-28.6)\n25.4 (23.5-27.5)\n33.4 (28.4-38.8)\n\n        Some college, no degree\n20.4 (18.8-22.2)\n20.6 (18.8-22.5)\n19.4 (15.4-24.2)\n\n        Associate's or bachelor's degree\n31.2 (29.4-33.1)\n33.7 (31.6-35.8)\n18.3 (14.8-22.4)\n\n        Master's, doctoral, or professional degree\n9.6 (8.54-10.7)\n10.6 (9.47-11.9)\n3.9 (2.47-6.07)\n\n    Family income in $1000s, mean (95% CI)\n68.5 (66.2-70.8)\n72.8 (70.3-75.4)\n45.6 (41.6-49.6)\n&lt;0.001\n    Proximity to metro area, % (95% CI)\n\n\n\n&lt;0.001\n        Nonmetropolitan\n18.0 (16.5-19.6)\n16.5 (15.0-18.2)\n25.9 (21.7-30.7)\n\n        Medium and small metro\n33.0 (31.1-35.0)\n32.8 (30.8-34.9)\n33.9 (28.9-39.3)\n\n        Large fringe metro\n22.1 (20.4-23.9)\n23.3 (21.5-25.3)\n15.7 (12.4-19.7)\n\n        Large central metro\n26.8 (25.0-28.8)\n27.3 (25.3-29.4)\n24.5 (19.8-29.8)\n\n    Number of pain locations, mean (95% CI)\n3.2 (3.2-3.3)\n3.2 (3.1-3.3)\n3.3 (3.2-3.5)\n0.086\n    Pain limiting life/work, % (95% CI)\n\n\n\n&lt;0.001\n        Never\n22.1 (20.5-23.8)\n24.2 (22.4-26.1)\n10.9 (8.13-14.5)\n\n        Some days\n38.5 (36.4-40.6)\n39.3 (37.1-41.5)\n34.3 (29.1-39.9)\n\n        Most days\n17.2 (15.8-18.8)\n16.9 (15.3-18.7)\n18.9 (15.3-23.1)\n\n        Every day\n22.2 (20.5-24.0)\n19.6 (17.9-21.5)\n36.0 (30.9-41.3)\n\n    PHQ-8 total, mean (95% CI)\n5.6 (5.3-5.8)\n5.4 (5.1-5.6)\n6.5 (5.9-7.2)\n&lt;0.001\n  \n  \n  \n    \n      1 Mean; %\n    \n    \n      2 CI = Confidence Interval\n    \n    \n      3 Wilcoxon rank-sum test for complex survey samples; chi-squared test with Rao & Scott’s second-order correction"
  },
  {
    "objectID": "index.html#assemble-table-2-tibble",
    "href": "index.html#assemble-table-2-tibble",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.5 Assemble Table 2 Tibble",
    "text": "7.5 Assemble Table 2 Tibble\n\n\nCode\ntable2_cross &lt;- table2_cross |&gt; as.data.frame() |&gt; as_tibble()\n\ntable2_cross[is.na(table2_cross)] &lt;- \"\"\n\ntable2_cross$p.value &lt;- sub(\"0\\\\.\",\".\", table2_cross$p.value)\ntable2_cross$p.value &lt;- sub(\" \",\"\", table2_cross$p.value)\n\ntable2 &lt;- bind_rows(total_n2, table2_cross) |&gt;\n  rename(\"Weighted variable\" = Variable,\n         \"Combined groups\" = All,\n         \"Nonpharm only\" = Nonpharm,\n         \"Opioids only\" = Opioids,\n         \"P value\" = p.value)"
  },
  {
    "objectID": "index.html#print-table-2",
    "href": "index.html#print-table-2",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.6 Print Table 2",
    "text": "7.6 Print Table 2\nI printed Table 2 using the flextable() function.\n\n\nCode\ntable2 |&gt; flextable() |&gt;\n  add_header_lines(values = \"Table 2: Socio-Demographic, Pain, and Mental Health Characteristics By Nonpharmacologic Modality Engagement\") |&gt;\n  bold(bold = TRUE, part = \"header\") |&gt;\n  add_footer_lines(values = \"Abbreviations: CI, confidence interval; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; metro, metropolitan; NH, Non-Hispanic; Nonpharm, nonpharmacologic\", \n                   top = FALSE) |&gt;\n  padding(i = c(4:5, 7:10, 12:16, 19:22, 25:28), j = 1, \n          padding.left = 20) |&gt;\n  bold(i = c(1, 2, 3, 6, 11, 17:18, 23:24, 29), j = 1, bold = TRUE) |&gt;\n  flextable::footnote(i = c(2, 17, 23, 29), j = 5, \n                      ref_symbols = \"a\",\n                      value = as_paragraph(\"Wilcoxon rank-sum test for complex survey samples\")) |&gt;\n  flextable::footnote(i = c(3, 6, 11, 18, 24), \n                      j = 5,\n                      ref_symbols = \"b\",\n                      value = as_paragraph(\"Chi-squared test with Rao & Scott’s second-order correction\")) |&gt;\n  autofit(part = c(\"body\", \"header\"))\n\n\n\nTable 2: Socio-Demographic, Pain, and Mental Health Characteristics By Nonpharmacologic Modality EngagementWeighted variableCombined groupsNonpharm onlyOpioids onlyP valueTotal, n22,707,27519,099,2163,608,059Age in years, mean (95% CI)54.0 (53.2-54.7)53.0 (52.2-53.8)59.2 (57.6-60.8)&lt;.001aSex, % (95% CI).797bFemale59.2 (57.1-61.3)59.4 (57.1-61.6)58.6 (53.0-63.9)Male40.8 (38.7-42.9)40.6 (38.4-42.9)41.4 (36.1-47.0)Race/Ethnicity, % (95% CI).221bNH White only74.3 (72.4-76.1)74.6 (72.6-76.6)72.6 (67.2-77.3)Hispanic10.1 (8.91-11.5)10.0 (8.73-11.5)10.7 (7.59-14.8)NH Black/African American only9.8 (8.60-11.1)9.2 (7.96-10.6)12.8 (9.77-16.5)Other single and multiple races5.8 (4.82-6.92)6.1 (5.11-7.31)4.0 (1.84-8.57)Education, % (95% CI)&lt;.001bLess than high school12.1 (10.7-13.7)9.6 (8.25-11.2)25.0 (20.3-30.2)High school graduate/GED26.7 (24.8-28.6)25.4 (23.5-27.5)33.4 (28.4-38.8)Some college, no degree20.4 (18.8-22.2)20.6 (18.8-22.5)19.4 (15.4-24.2)Associate's or bachelor's degree31.2 (29.4-33.1)33.7 (31.6-35.8)18.3 (14.8-22.4)Master's, doctoral, or professional degree9.6 (8.54-10.7)10.6 (9.47-11.9)3.9 (2.47-6.07)Family income in $1000s, mean (95% CI)68.5 (66.2-70.8)72.8 (70.3-75.4)45.6 (41.6-49.6)&lt;.001aProximity to metro area, % (95% CI)&lt;.001bNonmetropolitan18.0 (16.5-19.6)16.5 (15.0-18.2)25.9 (21.7-30.7)Medium and small metro33.0 (31.1-35.0)32.8 (30.8-34.9)33.9 (28.9-39.3)Large fringe metro22.1 (20.4-23.9)23.3 (21.5-25.3)15.7 (12.4-19.7)Large central metro26.8 (25.0-28.8)27.3 (25.3-29.4)24.5 (19.8-29.8)Number of pain locations, mean (95% CI)3.2 (3.2-3.3)3.2 (3.1-3.3)3.3 (3.2-3.5).086aPain limiting life/work, % (95% CI)&lt;.001bNever22.1 (20.5-23.8)24.2 (22.4-26.1)10.9 (8.13-14.5)Some days38.5 (36.4-40.6)39.3 (37.1-41.5)34.3 (29.1-39.9)Most days17.2 (15.8-18.8)16.9 (15.3-18.7)18.9 (15.3-23.1)Every day22.2 (20.5-24.0)19.6 (17.9-21.5)36.0 (30.9-41.3)PHQ-8 total, mean (95% CI)5.6 (5.3-5.8)5.4 (5.1-5.6)6.5 (5.9-7.2)&lt;.001aAbbreviations: CI, confidence interval; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; metro, metropolitan; NH, Non-Hispanic; Nonpharm, nonpharmacologicaWilcoxon rank-sum test for complex survey samplesbChi-squared test with Rao & Scott’s second-order correction"
  },
  {
    "objectID": "index.html#fit-weighted-logistic-model-with-survey-weights",
    "href": "index.html#fit-weighted-logistic-model-with-survey-weights",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.7 Fit Weighted Logistic Model with Survey Weights",
    "text": "7.7 Fit Weighted Logistic Model with Survey Weights\nI fit the model m2_lrm_wt with the lrm() function, defining weights with weights = wt_final.\nIn this analysis, I chose to predict the outcome nonpharm_over_opioid based on 9 variables: age, sex, race_ethnicity, education, fam_income1k urban_rural, num_pain_locations, painlimit_lifework, and phq8total.\n\n\nCode\nset.seed(19900317)\ndd &lt;- datadist(m2_dataset_si, adjto.cat = \"first\")\noptions(datadist = \"dd\")\n\nm2_lrm_wt &lt;- lrm(nonpharm_over_opioid ~ \n                age + sex + race_ethnicity + education +\n                               fam_income1k + urban_rural + num_pain_locations +\n                               painlimit_lifework + phq8total,\n                weights = wt_final, normwt = TRUE,\n              data = m2_dataset_si, x = TRUE, y = TRUE)\n\nm2_lrm_wt\n\n\nLogistic Regression Model\n\nlrm(formula = nonpharm_over_opioid ~ age + sex + race_ethnicity + \n    education + fam_income1k + urban_rural + num_pain_locations + \n    painlimit_lifework + phq8total, data = m2_dataset_si, x = TRUE, \n    y = TRUE, weights = wt_final, normwt = TRUE)\n\n\nSum of Weights by Response Category\n\n        0         1 \n 524.3515 2775.6485 \n\n                        Model Likelihood        Discrimination    Rank Discrim.    \n                              Ratio Test               Indexes          Indexes    \n Obs          3300    LR chi2     326.37        R2       0.161    C       0.737    \n  0            510    d.f.            18      R2(18,3300)0.089    Dxy     0.475    \n  1           2790    Pr(&gt; chi2) &lt;0.0001    R2(18,1323.1)0.208    gamma   0.475    \nSum of weights3300                              Brier    0.121    tau-a   0.124    \n max |deriv| 1e-07                                                                 \n\n                                                     Coef    S.E.   Wald Z\nIntercept                                             2.1393 0.3310  6.46 \nage                                                  -0.0212 0.0033 -6.50 \nsex=Male                                             -0.1856 0.1038 -1.79 \nrace_ethnicity=Hispanic                               0.2904 0.1785  1.63 \nrace_ethnicity=NH Black/African American only        -0.1415 0.1636 -0.87 \nrace_ethnicity=Other single and multiple races        0.4662 0.2511  1.86 \neducation=High school graduate/GED                    0.4940 0.1454  3.40 \neducation=Some college, no degree                     0.7391 0.1627  4.54 \neducation=Associate's or bachelor's degree            1.1555 0.1644  7.03 \neducation=Master's, doctoral, or professional degree  1.3719 0.2696  5.09 \nfam_income1k                                          0.0074 0.0013  5.54 \nurban_rural=Medium and small metro                    0.2832 0.1362  2.08 \nurban_rural=Large fringe metro                        0.6227 0.1623  3.84 \nurban_rural=Large central metro                       0.3709 0.1525  2.43 \nnum_pain_locations                                    0.0004 0.0411  0.01 \npainlimit_lifework=Some days                         -0.6143 0.1669 -3.68 \npainlimit_lifework=Most days                         -0.7064 0.1879 -3.76 \npainlimit_lifework=Every day                         -1.0145 0.1773 -5.72 \nphq8total                                            -0.0070 0.0097 -0.72 \n                                                     Pr(&gt;|Z|)\nIntercept                                            &lt;0.0001 \nage                                                  &lt;0.0001 \nsex=Male                                             0.0739  \nrace_ethnicity=Hispanic                              0.1038  \nrace_ethnicity=NH Black/African American only        0.3869  \nrace_ethnicity=Other single and multiple races       0.0634  \neducation=High school graduate/GED                   0.0007  \neducation=Some college, no degree                    &lt;0.0001 \neducation=Associate's or bachelor's degree           &lt;0.0001 \neducation=Master's, doctoral, or professional degree &lt;0.0001 \nfam_income1k                                         &lt;0.0001 \nurban_rural=Medium and small metro                   0.0376  \nurban_rural=Large fringe metro                       0.0001  \nurban_rural=Large central metro                      0.0150  \nnum_pain_locations                                   0.9913  \npainlimit_lifework=Some days                         0.0002  \npainlimit_lifework=Most days                         0.0002  \npainlimit_lifework=Every day                         &lt;0.0001 \nphq8total                                            0.4712"
  },
  {
    "objectID": "index.html#numeric-summary-of-coefficients-m2_coef_wt",
    "href": "index.html#numeric-summary-of-coefficients-m2_coef_wt",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.8 Numeric Summary of Coefficients (m2_coef_wt)",
    "text": "7.8 Numeric Summary of Coefficients (m2_coef_wt)\nThe following code generates a numeric summary of coefficients from the model and adds meaningful labels for comparison.\n\n\nCode\nm2_coef_wt &lt;- summary(m2_lrm_wt, conf.int = 0.95) |&gt; as_tibble() |&gt;\n  filter(Type == 2) |&gt;\n  mutate(Group = c(\"Age\", \"Family income\",\n                   \"Number of pain locations\",\n                   \"PHQ-8\", \n                   \"Sex\", \n                   \"Race/Ethnicity\", \"Race/Ethnicity\", \"Race/Ethnicity\",\n                   \"Education\", \"Education\", \n                   \"Education\", \"Education\", \n                   \"Proximity to metro area\", \"Proximity to metro area\",\n                   \"Proximity to metro area\", \n                   \"Pain limiting life or work\", \n                   \"Pain limiting life or work\",\n                   \"Pain limiting life or work\"),\n         Comparison = c(\"Age 69 v. 46\", \n                        \"Family income $85k v. $22k\",\n                        \"4 pain locations v. 2\",\n                        \"PHQ-8 score 8 v. 1\",\n                        \"Male v. Female\", \n                        \"Hispanic v. NH White\",\n                        \"NH Black v. NH White\",\n                        \"Other v. NH White\",\n                        \"HS/GED v. &lt; HS\", \n                        \"Some College v. &lt; HS\", \n                        \"Assoc/Bach v. &lt; HS\",\n                        \"Masters/PhD v. &lt; HS\", \n                        \"M/S metro v. Non-metro\", \n                        \"L fringe metro v. Non-metro\",\n                        \"L central metro v. Non-metro\", \n                        \"Pain limit some days v. Never\", \n                        \"Pain limit most days v. Never\",\n                        \"Pain limit every day v. Never\"),\n         Effect = as.numeric(Effect)) |&gt;\n  rename(Lower0.95 = \"Lower 0.95\", Upper0.95 = \"Upper 0.95\") |&gt;\n  mutate(Lower0.95 = as.numeric(Lower0.95), Upper0.95 = as.numeric(Upper0.95))\n\nm2_coef_wt &lt;- m2_coef_wt |&gt;\n  mutate(Comparison = factor(Comparison, levels = c(\"Age 69 v. 46\",\n                                                    \"Male v. Female\",\n                                                    \"Hispanic v. NH White\",\n                                                    \"NH Black v. NH White\",\n                                                    \"Other v. NH White\",\n                                                    \"HS/GED v. &lt; HS\", \n                                                    \"Some College v. &lt; HS\", \n                                                    \"Assoc/Bach v. &lt; HS\",\n                                                    \"Masters/PhD v. &lt; HS\", \n                                                    \"Family income $85k v. $22k\",\n                                                    \"M/S metro v. Non-metro\", \n                                                    \"L fringe metro v. Non-metro\",\n                                                    \"L central metro v. Non-metro\", \n                                                    \"4 pain locations v. 2\",\n                                                    \"Pain limit some days v. Never\", \n                                                    \"Pain limit most days v. Never\",\n                                                    \"Pain limit every day v. Never\",\n                                                    \"PHQ-8 score 8 v. 1\"))) |&gt;\n  arrange(Comparison)\n\n\nThe following code generates Supplemental Table 3, providing a numeric summmary of the coefficients from m2_lrm_wt.\n\n\nCode\nm2_coef_wt |&gt; \n  select(Group, Comparison, Effect, Lower0.95, Upper0.95) |&gt; \n  mutate(Effect = round(Effect, digits = 3),\n         Lower0.95 = round(Lower0.95, digits = 3),\n         Upper0.95 = round(Upper0.95, digits = 3)) |&gt;\n  rename(aOR = Effect,\n         \"95% CI Low\" = Lower0.95,\n         \"95% CI High\" = Upper0.95) |&gt;\n  flextable() |&gt; \n  bold(bold = TRUE, part = \"header\") |&gt;\n  add_header_lines(values = \"Supplemental Table 3: aOR of Engagement in Nonpharmacologic Only vs. Opioids Only\") |&gt;\n  autofit() |&gt;\n  add_footer_lines(values = \"Abbreviations: Assoc, associate’s; aOR, adjusted odds ratio; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; NH, Non-Hispanic; S, small; v., versus; yrs, years\", top = FALSE) |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nSupplemental Table 3: aOR of Engagement in Nonpharmacologic Only vs. Opioids OnlyGroupComparisonaOR95% CI Low95% CI HighAgeAge 69 v. 460.6140.5300.711SexMale v. Female0.8310.6781.018Race/EthnicityHispanic v. NH White1.3370.9421.897Race/EthnicityNH Black v. NH White0.8680.6301.196Race/EthnicityOther v. NH White1.5940.9742.607EducationHS/GED v. &lt; HS1.6391.2322.179EducationSome College v. &lt; HS2.0941.5222.881EducationAssoc/Bach v. &lt; HS3.1762.3014.383EducationMasters/PhD v. &lt; HS3.9432.3256.687Family incomeFamily income $85k v. $22k1.5961.3521.883Proximity to metro areaM/S metro v. Non-metro1.3271.0161.734Proximity to metro areaL fringe metro v. Non-metro1.8641.3562.562Proximity to metro areaL central metro v. Non-metro1.4491.0751.954Number of pain locations4 pain locations v. 21.0010.8521.176Pain limiting life or workPain limit some days v. Never0.5410.3900.750Pain limiting life or workPain limit most days v. Never0.4930.3410.713Pain limiting life or workPain limit every day v. Never0.3630.2560.513PHQ-8PHQ-8 score 8 v. 10.9520.8341.088Abbreviations: Assoc, associate’s; aOR, adjusted odds ratio; Bach, bachelor’s; CI, confidence interval; fam, family; PHQ-8, Patient Health Questionnaire-8; GED, general equivalency diploma; HS, high school; L, large; M, medium; metro, metropolitan; NH, Non-Hispanic; S, small; v., versus; yrs, years"
  },
  {
    "objectID": "index.html#effects-plot-m2_coef_wt",
    "href": "index.html#effects-plot-m2_coef_wt",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.9 Effects Plot (m2_coef_wt)",
    "text": "7.9 Effects Plot (m2_coef_wt)\nTo visualize the effects of the covariates on odds of nonpharm_over_opioid = 1, I used ggplot() to plot the effects. Education covariates are placed on a separate axis given their size to not obscure the other covariates.\n\n\nCode\nm2_coef_plot_wt &lt;- m2_coef_wt |&gt; \n  filter(Comparison != \"(Intercept)\", Group != \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\nm2_coef_plot_educ_wt &lt;- m2_coef_wt |&gt; \n  filter(Comparison != \"(Intercept)\", Group == \"Education\") |&gt;\n  mutate(Comparison = fct_inorder(Comparison, ordered = NA),\n         Comparison = fct_rev(Comparison))\n\np1 &lt;- ggplot(m2_coef_plot_wt, aes(x = Effect, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Upper0.95, xmin = Lower0.95), linewidth = .5,\n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"aOR\",\n       y = \"\",\n       title = \"aOR of Using Nonpharmacologic Only vs. Opioids Only\") +\n  scale_x_continuous(breaks = seq(0,8,0.5))\n\np2 &lt;- ggplot(m2_coef_plot_educ_wt, aes(x = Effect, y = Comparison)) +\n  geom_vline(aes(xintercept = 1), linewidth = .25, linetype = 'dashed') +\n  geom_errorbarh(aes(xmax = Upper0.95, xmin = Lower0.95), linewidth = .5,\n                 height = .2, color = 'gray50') +\n  geom_point(size = 2.5, color = uhred) +\n  labs(x = \"aOR\",\n       y = \"\") +\n  scale_x_continuous(breaks = seq(0,8,0.5))\n\np1/p2 + plot_layout(heights = c(5,1))"
  },
  {
    "objectID": "index.html#summarizing-fit-m2_coef_wt",
    "href": "index.html#summarizing-fit-m2_coef_wt",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.10 Summarizing Fit (m2_coef_wt)",
    "text": "7.10 Summarizing Fit (m2_coef_wt)\nTo summarize the fit of m2_lrm_wt, I simply entered m2_lrm_wt within the code. From the output, the Nagelkerke \\(R^2\\) is 0.161 and the unvalidated area under the ROC curve (aka c-statistic) is 0.737.\n\n\nCode\nm2_lrm_wt\n\n\nLogistic Regression Model\n\nlrm(formula = nonpharm_over_opioid ~ age + sex + race_ethnicity + \n    education + fam_income1k + urban_rural + num_pain_locations + \n    painlimit_lifework + phq8total, data = m2_dataset_si, x = TRUE, \n    y = TRUE, weights = wt_final, normwt = TRUE)\n\n\nSum of Weights by Response Category\n\n        0         1 \n 524.3515 2775.6485 \n\n                        Model Likelihood        Discrimination    Rank Discrim.    \n                              Ratio Test               Indexes          Indexes    \n Obs          3300    LR chi2     326.37        R2       0.161    C       0.737    \n  0            510    d.f.            18      R2(18,3300)0.089    Dxy     0.475    \n  1           2790    Pr(&gt; chi2) &lt;0.0001    R2(18,1323.1)0.208    gamma   0.475    \nSum of weights3300                              Brier    0.121    tau-a   0.124    \n max |deriv| 1e-07                                                                 \n\n                                                     Coef    S.E.   Wald Z\nIntercept                                             2.1393 0.3310  6.46 \nage                                                  -0.0212 0.0033 -6.50 \nsex=Male                                             -0.1856 0.1038 -1.79 \nrace_ethnicity=Hispanic                               0.2904 0.1785  1.63 \nrace_ethnicity=NH Black/African American only        -0.1415 0.1636 -0.87 \nrace_ethnicity=Other single and multiple races        0.4662 0.2511  1.86 \neducation=High school graduate/GED                    0.4940 0.1454  3.40 \neducation=Some college, no degree                     0.7391 0.1627  4.54 \neducation=Associate's or bachelor's degree            1.1555 0.1644  7.03 \neducation=Master's, doctoral, or professional degree  1.3719 0.2696  5.09 \nfam_income1k                                          0.0074 0.0013  5.54 \nurban_rural=Medium and small metro                    0.2832 0.1362  2.08 \nurban_rural=Large fringe metro                        0.6227 0.1623  3.84 \nurban_rural=Large central metro                       0.3709 0.1525  2.43 \nnum_pain_locations                                    0.0004 0.0411  0.01 \npainlimit_lifework=Some days                         -0.6143 0.1669 -3.68 \npainlimit_lifework=Most days                         -0.7064 0.1879 -3.76 \npainlimit_lifework=Every day                         -1.0145 0.1773 -5.72 \nphq8total                                            -0.0070 0.0097 -0.72 \n                                                     Pr(&gt;|Z|)\nIntercept                                            &lt;0.0001 \nage                                                  &lt;0.0001 \nsex=Male                                             0.0739  \nrace_ethnicity=Hispanic                              0.1038  \nrace_ethnicity=NH Black/African American only        0.3869  \nrace_ethnicity=Other single and multiple races       0.0634  \neducation=High school graduate/GED                   0.0007  \neducation=Some college, no degree                    &lt;0.0001 \neducation=Associate's or bachelor's degree           &lt;0.0001 \neducation=Master's, doctoral, or professional degree &lt;0.0001 \nfam_income1k                                         &lt;0.0001 \nurban_rural=Medium and small metro                   0.0376  \nurban_rural=Large fringe metro                       0.0001  \nurban_rural=Large central metro                      0.0150  \nnum_pain_locations                                   0.9913  \npainlimit_lifework=Some days                         0.0002  \npainlimit_lifework=Most days                         0.0002  \npainlimit_lifework=Every day                         &lt;0.0001 \nphq8total                                            0.4712"
  },
  {
    "objectID": "index.html#validating-m2_coef_wt",
    "href": "index.html#validating-m2_coef_wt",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.11 Validating m2_coef_wt",
    "text": "7.11 Validating m2_coef_wt\nTo validate m2_lrm_wt, I first set a seed of 19900317 using the set.seed() function. I then used the validate() function with 40 bootstrap repetitions to generate validated (index.corrected) \\(R^2\\) and Dxy values. I stored this validated summary as val_m2 so that I could obtain specific values for a summary table below.\n\n\nCode\nset.seed(19900317)\nval_m2 &lt;- validate(m2_lrm_wt, method = \"boot\", B = 40)\n\n\n\n\nCode\nfit_report &lt;- tibble(Model = \"m2\") |&gt;\n  mutate(\"Validated R2\" = case_when(\n    Model == \"m2\" ~ val_m2[2,5]),\n    \"Validated C stat\" = case_when(\n      Model == \"m2\" ~  0.5 + (val_m2[1,5]/2)),\n    AIC = AIC(m2_lrm_wt),\n    BIC = BIC(m2_lrm_wt))\n    \nfit_report |&gt; \n  select(Model, \"Validated R2\", \"Validated C stat\", AIC, BIC) |&gt;\n  flextable() |&gt;\n  colformat_double(j = 2:3, digits = 3) |&gt;\n  colformat_double(j = 4:5, digits = 0) |&gt;\n  autofit() |&gt;\n  theme_zebra(odd_header = \"white\") |&gt;\n  hline_top(part=\"body\")\n\n\n\nModelValidated R2Validated C statAICBICm20.1480.7282,6012,717"
  },
  {
    "objectID": "index.html#references",
    "href": "index.html#references",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.12 References",
    "text": "7.12 References\nFord, C. (2016). Getting Started with Hurdle Models. University of Virginia Library. https://data.library.virginia.edu/getting-started-with-hurdle-models/\nKroenke, K., Spitzer, R. L., & Williams, J. B. (2001). The PHQ-9: validity of a brief depression severity measure. Journal of General Internal Medicine, 16(9), 606-613. https://doi.org/10.1046/j.1525-1497.2001.016009606.x\nLöwe, B., Decker, O., Müller, S., Brähler, E., Schellberg, D., Herzog, W., & Herzberg, P. Y. (2008). Validation and standardization of the Generalized Anxiety Disorder Screener (GAD-7) in the general population. Medical Care, 46(3), 266-274. https://doi.org/10.1097/MLR.0b013e318160d093\nNational Center for Health Statistics. (2021, 2021-04-05). 2019 National Health Interview Survey. National Center for Health Statistics. https://www.cdc.gov/nchs/nhis/2019nhis.htm\nYoshida, K. (2014). Models for excess zeros using pscl package (Hurdle and zero-inflated regression models) and their interpretations. Retrieved May 1 from https://rpubs.com/kaz_yos/pscl-2\nZelaya, C. E., Dahlhamer, J. M., Lucas, J. W., & Connor, E. M. (2020). Chronic Pain and High-impact Chronic Pain Among U.S. Adults, 2019."
  },
  {
    "objectID": "index.html#acknowledgments",
    "href": "index.html#acknowledgments",
    "title": "Engagement in Integrative and Nonpharmacologic Pain Management Modalities Among Adults with Chronic Pain",
    "section": "7.13 Acknowledgments",
    "text": "7.13 Acknowledgments\n\nRobert J. Trager, DC (methodology, interpretation, literature review, first draft of introduction)\nJeffery A. Dusek, PhD (methodology, interpretation)\nThe National Center for Health Statistics (data collection)\nThomas E. Love, PhD (methodology instruction)"
  },
  {
    "objectID": "author_bio.html",
    "href": "author_bio.html",
    "title": "Sam Rodgers-Melnick, MPH, MT-BC (he/him)",
    "section": "",
    "text": "Sam Rodgers-Melnick, MPH, MT-BC is a music therapist and Integrative Health Research & Data Specialist focused on investigating the effectiveness of integrative therapies at University Hospitals Connor Whole Health. Sam received his Bachelor of Science in Music Therapy from Duquesne University and his Master of Public Health degree from Case Western Reserve University School of Medicine. He is currently a Doctoral Student in the Clinical Translational Science Program at Case Western Reserve University (CWRU) School of Medicine and was awarded a two-year F31 Predoctoral Fellowship Award from the National Center for Complementary and Integrative Health (NCCIH), a Division of the National Institutes of Health (NIH).\nAs a music therapist at University Hospitals Seidman Cancer Center, Sam developed several interventions directed at improving pain management outcomes for adults with sickle cell disease (SCD). Sam served as PI for two consecutive research grants from the Kulas Foundation (Cleveland, OH) that funded music therapy research studies in SCD. These studies included (1) a mixed-methods RCT investigating the effects of music therapy on acute pain in patients with SCD receiving care in an outpatient infusion center; (2) a study investigating the effects of the BEATS (Build Educate Advance Transition in Sickle cell disease) music therapy program on self-efficacy, trust, knowledge, and adherence among young adults with SCD; (3) a survey of music use among 100 adults with SCD; and (4) a mixed-methods RCT investigating the effects of a multi-session intervention on health-related quality of life and chronic pain among individuals with SCD.\nSam recently served as a co-investigator for Effectiveness of Medical Music Therapy Practice: Integrative Research using the Electronic Health Record (EMMPIRE). This work resulted in four publications demonstrating (1) how music therapy can be integrated throughout a large health system; (2) the clinically meaningful impact of a single music therapy session for addressing pain, stress, anxiety, and fatigue among patients receiving care at an academic cancer center and patients with moderate-to-severe symptoms receiving treatment at eight UH community hospitals; and (3) a quality improvement initiative to increase patient-reported outcome collection among a medical music therapy team.\nSam’s research has been published in journals including International Journal of Adolescent Medicine and Health, Journal of Music Therapy, Journal of Pain Research, Journal of Integrative and Complementary Medicine, PAIN Reports, Integrative Cancer Therapies, and JMIR Human Factors. A full listing of Sam’s research in PubMed can be found here. Sam has also presented at numerous regional, national, and international conferences.\nFollow Sam on LinkedIn\nLearn more about University Hospitals Connor Whole Health"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]